"use strict";(self.webpackChunkrealestate_app=self.webpackChunkrealestate_app||[]).push([[879],{2589:(e,a,r)=>{r.d(a,{errorWrapper:()=>n});var t=r(9379);function i(e){if(!e)return[];if(Array.isArray(e))return e.filter(Boolean).map(String);if("object"===typeof e){const a=[];for(const[r,t]of Object.entries(e))Array.isArray(t)?a.push(...t.map(String)):t&&a.push(String(t));return a}return[String(e)]}async function n(e){let{unwrap:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const r=await e,t=null===r||void 0===r?void 0:r.data;return t&&"object"===typeof t&&"success"in t&&"statusCode"in t?{ok:!0,success:t.success,statusCode:t.statusCode,message:t.message,data:a?t.data:t,error:null}:{ok:!0,success:!0,data:t,message:"Operaci\xf3n exitosa",error:null}}catch(r){const e=function(e){var a;const r=null===e||void 0===e?void 0:e.response,t=null===r||void 0===r?void 0:r.data;let n=null!==(a=null===r||void 0===r?void 0:r.status)&&void 0!==a?a:0,s=(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.detail)||(null===r||void 0===r?void 0:r.statusText)||(null===e||void 0===e?void 0:e.message)||"Error inesperado",o=[],l=null;if(t&&"object"===typeof t){var d,c,u;if("success"in t||"statusCode"in t||"errors"in t||"data"in t)return n=null!==(d=t.statusCode)&&void 0!==d?d:n,s=null!==(c=t.message)&&void 0!==c?c:s,o=i(t.errors),l=null!==(u=t.data)&&void 0!==u?u:null,{success:!1,statusCode:n,message:s,errors:o,data:l};if(t.errors&&"object"===typeof t.errors)return o=i(t.errors),{success:!1,statusCode:n,message:s,errors:o,data:null};if(t.title||t.detail)return s=t.detail||t.title||s,o=i(t.errors),{success:!1,statusCode:n,message:s,errors:o,data:null}}return r?{success:!1,statusCode:n,message:s,errors:o,data:null}:{success:!1,statusCode:0,message:"No hay respuesta del servidor",errors:[(null===e||void 0===e?void 0:e.message)||"Network/Timeout"],data:null}}(r);return(0,t.A)((0,t.A)({ok:!1},e),{},{error:e})}}},7879:(e,a,r)=>{r.r(a),r.d(a,{default:()=>ta});var t=r(3003),i=r(4730),n=r(4809),s=r(6698),o=r(6766),l=r(9379);const d=sessionStorage.getItem("token")||localStorage.getItem("token")||"";let c=null;if(d)try{const e=d.split(".")[1]||"";c=JSON.parse(atob(e))}catch(ia){c=null}const u={logged:!!d,token:d,user:c},m=(0,n.Z0)({name:"auth",initialState:u,reducers:{setAuth(e,a){const{token:r,user:t}=a.payload||{};e.logged=!0,r&&(e.token=r,sessionStorage.setItem("token",r)),t&&(e.user=t)},updateProfile(e,a){const r=a.payload||{};e.user=(0,l.A)((0,l.A)({},e.user||{}),r)},logout(e){e.logged=!1,e.token="",e.user=null,sessionStorage.removeItem("token"),localStorage.removeItem("token")}}}),{setAuth:p,updateProfile:h,logout:v}=m.actions,x=m.reducer;var g=r(9722);const j=()=>{const e="https://realestate-api-r76f.onrender.com".trim();return e&&"undefined"!==e&&"null"!==e?e.replace(/\/+$/,""):"undefined"!==typeof window&&window.__API_BASE__?window.__API_BASE__.replace(/\/+$/,""):""},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sessionStorage;try{return a.getItem(e)||null}catch(r){return null}},b=function(){return(e=>{if(!e||"string"!==typeof e)return null;const a=e.split(".");if(a.length<2)return null;try{const e=a[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(e).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch(r){return null}})(f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token"))},y=e=>{if(!e||"object"!==typeof e)return null;const a=a=>a.map(a=>e[a]).find(e=>null!=e);return{id:a(["sub","user_id","id"]),name:a(["name","fullName","given_name","username","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"]),email:a(["email","preferred_username","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]),role:a(["role","http://schemas.microsoft.com/ws/2008/06/identity/claims/role"])||(Array.isArray(e.roles)?e.roles[0]:void 0)}},N=e=>{const a=e||b("token");if(!a||"object"!==typeof a)return null;const r="number"===typeof a.exp?a.exp:null;return null!==r&&void 0!==r?r:null},A=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=N(e);if(!r)return!0;return Math.floor(Date.now()/1e3)>=r-a},C=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"token",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sessionStorage;try{r.setItem(a,e)}catch(t){}},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sessionStorage;try{a.removeItem(e)}catch(r){}};let P=null;const k=new WeakMap,I=()=>{try{var e,a;const r=((null===(e=window.location)||void 0===e?void 0:e.pathname)||"")+((null===(a=window.location)||void 0===a?void 0:a.search)||"");r&&!r.startsWith("/login")&&sessionStorage.setItem("lastPath",r)}catch(ia){}try{F.dispatch(v())}catch(r){}w();try{window.location.replace("/login")}catch(t){}},S=async()=>{if(P)return P;const e="/api/token/refresh".trim(),a=j(),r=f("token");if(!e||!r)return null;const t=g.A.create({baseURL:a,timeout:15e3});return P=t.post(e,{},{headers:{Authorization:"Bearer ".concat(r)}}).then(e=>{var a,r,t,i,n,s,o;const l=null!==(a=null!==(r=null!==(t=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.token)&&void 0!==t?t:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.accessToken)&&void 0!==r?r:null===e||void 0===e||null===(s=e.data)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.accessToken)&&void 0!==a?a:null;if(l){C(l);const e=(e=>{try{const a=e.split(".")[1]||"";return JSON.parse(atob(a))}catch(a){return null}})(l);F.dispatch(p({token:l,user:e||void 0}))}return l}).catch(e=>{w();try{F.dispatch(v())}catch(a){}throw I(),e}).finally(()=>{P=null}),P},E=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;const a=b("token");if(!a)return null;if(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;const r=N(e);return!r||r-Math.floor(Date.now()/1e3)<=a}(a,e))try{return await S()}catch(r){return null}return f("token")},B=g.A.create({baseURL:j(),timeout:2e4,headers:{"Content-Type":"application/json"}});(e=>{if(!e)return null;const a=k.get(e);if(a)return a;const r={reqId:e.interceptors.request.use(async e=>{if(e.__skipAuth)return e;try{await E();const a=f("token");a&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(a))}catch(a){}return e}),resId:e.interceptors.response.use(e=>e,async a=>{var r,t;const i=(null===a||void 0===a?void 0:a.config)||{};if(401===(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)&&!i.__retry){i.__retry=!0;try{const a=await S();if(a)return i.headers=i.headers||{},i.headers.Authorization="Bearer ".concat(a),e(i)}catch(n){}}if(401===(null===a||void 0===a||null===(t=a.response)||void 0===t?void 0:t.status)){try{F.dispatch(v())}catch(s){}I()}return Promise.reject(a)})};k.set(e,r)})(B);var R=r(2589);const z="/api/property".trim(),q=(0,n.zD)("property/fetchAll",async function(){var e;let{page:a=1,limit:r=6,name:t="",address:i="",minPrice:n="",maxPrice:s="",refresh:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!z)throw new Error("Falta configuraci\xf3n: REACT_APP_ENDPOINT_PROPERTY");const l=new URLSearchParams;l.append("page",a),l.append("limit",r),t&&""!==t.trim()&&l.append("name",t.trim()),i&&""!==i.trim()&&l.append("address",i.trim()),""!==n&&null!==n&&l.append("minPrice",n),""!==s&&null!==s&&l.append("maxPrice",s),o&&l.append("refresh","true");const d="".concat(z,"?").concat(l.toString()),c=await(0,R.errorWrapper)(B.get(d,{__skipAuth:!0}),{unwrap:!1});if(!c.ok)throw c.error;const u=c.data||{};let m=[],p={};null!==u&&void 0!==u&&null!==(e=u.data)&&void 0!==e&&e.data&&Array.isArray(u.data.data)?(m=u.data.data,p=u.data.meta||{}):Array.isArray(null===u||void 0===u?void 0:u.data)?(m=u.data,p=u.meta||{}):Array.isArray(u)&&(m=u,p={});const h=p||{page:a,limit:r,total:m.length,last_page:1};return{items:m.map(e=>{var a,r,t,i,n,s,o,l,d,c,u,m,p,h,v,x,g,j,f;return{idProperty:null!==(a=null!==(r=null!==(t=e.idProperty)&&void 0!==t?t:e.IdProperty)&&void 0!==r?r:e.id)&&void 0!==a?a:"",name:null!==(i=null!==(n=e.name)&&void 0!==n?n:e.Name)&&void 0!==i?i:"",address:null!==(s=null!==(o=e.address)&&void 0!==o?o:e.Address)&&void 0!==s?s:"",price:Number(null!==(l=null!==(d=e.price)&&void 0!==d?d:e.Price)&&void 0!==l?l:0),year:Number(null!==(c=null!==(u=e.year)&&void 0!==u?u:e.Year)&&void 0!==c?c:0),codeInternal:Number(null!==(m=null!==(p=e.codeInternal)&&void 0!==p?p:e.CodeInternal)&&void 0!==m?m:0),idOwner:null!==(h=null!==(v=e.idOwner)&&void 0!==v?v:e.IdOwner)&&void 0!==h?h:"",image:null!==(x=null!==(g=e.image)&&void 0!==g?g:e.Image)&&void 0!==x?x:null,owner:null!==(j=e.owner)&&void 0!==j?j:null,traces:null!==(f=e.traces)&&void 0!==f?f:[]}}),meta:h,filters:{name:(null===t||void 0===t?void 0:t.trim())||"",address:(null===i||void 0===i?void 0:i.trim())||"",minPrice:n||"",maxPrice:s||""}}}),_=(0,n.zD)("property/create",async e=>{var a,r;if(!z)throw new Error("Falta configuraci\xf3n: REACT_APP_ENDPOINT_PROPERTY");const t=await(0,R.errorWrapper)(B.post(z,e));return null!==(a=null===(r=t.data)||void 0===r?void 0:r.data)&&void 0!==a?a:t.data}),T=(0,n.Z0)({name:"property",initialState:{properties:[],meta:{page:1,limit:6,total:0,last_page:1},loading:!1,error:null,filters:{name:"",address:"",minPrice:"",maxPrice:""}},reducers:{},extraReducers:e=>{e.addCase(q.pending,e=>{e.loading=!0,e.error=null}).addCase(q.fulfilled,(e,a)=>{e.loading=!1,e.properties=a.payload.items||[],e.meta=a.payload.meta||e.meta,e.filters=a.payload.filters||e.filters}).addCase(q.rejected,(e,a)=>{e.loading=!1,e.error=a.error.message}).addCase(_.fulfilled,(e,a)=>{a.payload&&e.properties.push(a.payload)})}}).reducer,D={key:"auth",storage:(()=>{try{return(0,o.A)("session")}catch(ia){return{getItem:()=>Promise.resolve(null),setItem:(e,a)=>Promise.resolve(a),removeItem:()=>Promise.resolve()}}})(),whitelist:["user","token","logged"]},W=(0,s.rL)(D,x),F=(0,n.U1)({reducer:{auth:W,property:T},middleware:e=>e({serializableCheck:!1})}),M=(0,s.GM)(F);var L=r(9001),O=r(5043),U=r(6723),Y=r(397),Z=r(579);const H=()=>(0,Z.jsx)("header",{className:"header",children:(0,Z.jsxs)("div",{className:"header-content",children:[(0,Z.jsx)(Y.tTb,{className:"header-icon",size:52.5,strokeWidth:2.5}),(0,Z.jsxs)("h1",{className:"header-title",children:["Real",(0,Z.jsx)("span",{className:"header-letter",children:"Estate"})]})]})});var V=r(5200);const X=()=>{const e=(0,t.wA)(),a=(0,L.Zp)(),r=(0,t.d4)(e=>e.auth.user),{logged:i,role:n}=(0,O.useMemo)(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token")||"";if(!e&&!r)return{logged:!1,role:""};try{const a=e?b(e):null,t=a?y(a):null,i=((null===r||void 0===r?void 0:r.role)||(null===t||void 0===t?void 0:t.role)||"").toLowerCase(),n=a?!A(a):Boolean(r);return{logged:Boolean(n&&(r||t)),role:i}}catch(ia){return{logged:Boolean(r),role:((null===r||void 0===r?void 0:r.role)||"").toLowerCase()}}},[r]),[s,o]=(0,O.useState)(!1),l=(0,O.useCallback)(()=>o(!1),[]),d=(0,O.useCallback)(e=>o(e.isOpen),[]),c=(0,O.useCallback)((e,r)=>{a(i?e:r),l()},[i,a,l]),u=(0,O.useCallback)(()=>{a("/users"),l()},[a,l]),m=(0,O.useCallback)(()=>{a("/login"),l()},[a,l]),p=((0,O.useCallback)(()=>{a("/add-property"),l()},[a,l]),(0,O.useCallback)(()=>{e(v());try{localStorage.removeItem("token"),sessionStorage.removeItem("token"),sessionStorage.removeItem("userId"),sessionStorage.removeItem("refreshToken")}catch(r){}a("/",{replace:!0}),l()},[e,a,l]));return(0,Z.jsxs)(U.slide,{left:!0,isOpen:s,onStateChange:d,disableAutoFocus:!0,children:[(0,Z.jsx)(H,{}),(0,Z.jsx)("hr",{className:"bm-hr"}),(0,Z.jsxs)("button",{type:"button",className:"menu-item",onClick:()=>c("/home","/index"),children:[(0,Z.jsx)(V.V5Y,{className:"menu-item-icon"})," Inmuebles"]}),(0,Z.jsx)("button",{type:"button",className:"menu-item",onClick:()=>c("/add-property","/about-us"),children:i?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(V.B88,{className:"menu-item-icon"})," Registrar inmueble"]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(V.JXP,{className:"menu-item-icon"})," Nosotros"]})}),i&&"admin"===n&&(0,Z.jsxs)("button",{type:"button",className:"menu-item",onClick:u,children:[(0,Z.jsx)(V.cfS,{className:"menu-item-icon"})," Usuarios"]}),(0,Z.jsx)("button",{type:"button",className:"menu-item",onClick:()=>c("/profile","/contact"),children:i?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(V.JXP,{className:"menu-item-icon"})," Perfil"]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(V.QFc,{className:"menu-item-icon"})," Contacto"]})}),(0,Z.jsxs)("button",{type:"button",className:"menu-item",onClick:i?p:m,children:[(0,Z.jsx)(V.QeK,{className:"menu-item-icon"})," ",i?"Cerrar sesi\xf3n":"Ingresar"]})]})},G=e=>{var a;let{element:r,allowed:i=[],redirectTo:n="/home"}=e;const s=(0,t.d4)(e=>e.auth.user),{pathname:o,search:l}=(0,L.zy)(),d=b("token"),c=y(d)||{},u=null!==(a=null===s||void 0===s?void 0:s.role)&&void 0!==a?a:null===c||void 0===c?void 0:c.role,m=Array.isArray(u)?u:u?[u]:[],p=Array.isArray(i)?i:[i],h=e=>null==e?"":String(e).toLowerCase(),v=m.map(h),x=p.map(h);sessionStorage.setItem("lastPath",o+l);return 0===x.length||x.some(e=>v.includes(e))?r:(0,Z.jsx)(L.C5,{to:n,replace:!0})};var J=r(45);const $=e=>{let{title:a=""}=e;return(0,Z.jsx)("div",{className:"title",children:(0,Z.jsx)("h1",{children:a})})};var K=r(5078),Q=r(6213);const ee=e=>e>=1e6?"".concat(Math.round(e/1e6)," M"):"$ ".concat(e.toLocaleString()),ae=e=>{let{filters:a={},onChange:r,className:t=""}=e;const i=(0,O.useRef)(!1),n=(0,O.useRef)(null),[s,o]=(0,O.useState)(a.name||""),[l,d]=(0,O.useState)(a.address||""),[c,u]=(0,O.useState)(void 0!==a.minPrice?Number(a.minPrice):0),[m,p]=(0,O.useState)(void 0!==a.maxPrice?Number(a.maxPrice):Q.P4),[h,v]=(0,O.useState)(!1),[x,g]=(0,O.useState)({name:a.name||"",address:a.address||"",minPrice:void 0!==a.minPrice?Number(a.minPrice):0,maxPrice:void 0!==a.maxPrice?Number(a.maxPrice):Q.P4}),j=(0,O.useRef)(null);(0,O.useEffect)(()=>(i.current||(i.current=!0),()=>{j.current&&clearTimeout(j.current)}),[]);const f=!!x.name||!!x.address||x.minPrice>0||x.maxPrice<Q.P4;return(0,Z.jsxs)("div",{className:"searchbar ".concat(t).trim(),children:[(0,Z.jsxs)("button",{type:"button",className:"searchbar-toggle ".concat(h?"is-open":""),onClick:()=>v(e=>!e),children:[(0,Z.jsx)(V.K7R,{className:"searchbar-icon"}),(0,Z.jsx)("span",{children:"Filtros"}),f&&(0,Z.jsx)("small",{className:"searchbar-indicator",children:"aplicados"}),h&&(0,Z.jsx)(V.yGN,{className:"searchbar-toggle-close"})]}),(0,Z.jsxs)("div",{className:"searchbar-panel ".concat(h?"is-open":""),children:[(0,Z.jsxs)("div",{className:"searchbar-group",children:[(0,Z.jsxs)("div",{className:"searchbar-field",children:[(0,Z.jsx)(V.CKj,{className:"searchbar-icon"}),(0,Z.jsx)(K.A,{id:"nameSearch",type:"text",value:s,onChange:e=>o(e.target.value),label:"Nombre","aria-label":"name search input"})]}),(0,Z.jsx)("div",{className:"searchbar-divider"}),(0,Z.jsxs)("div",{className:"searchbar-field",children:[(0,Z.jsx)(V.HzC,{className:"searchbar-icon"}),(0,Z.jsx)(K.A,{id:"addressSearch",type:"text",value:l,onChange:e=>d(e.target.value),label:"Direcci\xf3n | sector","aria-label":"address search input"})]}),(0,Z.jsx)("div",{className:"searchbar-divider hide-mobile"}),(0,Z.jsxs)("div",{className:"searchbar-field searchbar-price",children:[(0,Z.jsx)(V.z8N,{strokeWidth:2,className:"searchbar-icon"}),(0,Z.jsxs)("div",{className:"price-slider",onClick:e=>{if(!n.current)return;const a=n.current.getBoundingClientRect();let r=(e.clientX-a.left)/a.width;r=Math.min(Math.max(r,0),1);let t=Math.round(r*Q.P4/Q.RZ)*Q.RZ;if(Math.abs(t-c)<=Math.abs(t-m)){let e=Math.min(t,m-Q.RZ);e<0&&(e=0),u(e)}else{let e=Math.max(t,c+Q.RZ);e>Q.P4&&(e=Q.P4),p(e)}},children:[(0,Z.jsx)("div",{className:"price-slider-track",ref:n}),(0,Z.jsx)("div",{className:"price-slider-range",style:{left:"".concat(c/Q.P4*100,"%"),right:"".concat(100-m/Q.P4*100,"%")}}),(0,Z.jsx)("input",{id:"minRangeLimit",type:"range",min:"0",max:Q.P4,step:Q.RZ,value:c,onChange:e=>(e=>{const a=Math.min(Math.max(0,Number(e)),Q.P4);a>=m||u(a)})(e.target.value),"aria-label":"min range limit"}),(0,Z.jsx)("input",{id:"maxRangeLimit",type:"range",min:"0",max:Q.P4,step:Q.RZ,value:m,onChange:e=>(e=>{const a=Math.min(Math.max(0,Number(e)),Q.P4);a<=c||p(a)})(e.target.value),"aria-label":"max range limit"}),(0,Z.jsxs)("div",{className:"price-slider-labels",children:[(0,Z.jsx)("span",{children:ee(c)}),(0,Z.jsx)("span",{children:ee(m)})]})]})]})]}),(0,Z.jsxs)("div",{className:"searchbar-actions",children:[(0,Z.jsxs)("button",{id:"clearButton",type:"button",className:"searchbar-clear",onClick:()=>{o(""),d(""),u(0),p(Q.P4);const e={name:"",address:"",minPrice:0,maxPrice:Q.P4};g(e),"function"===typeof r&&r(e)},children:[(0,Z.jsx)(V.cO3,{color:Q.oD,"aria-label":"clear button"}),(0,Z.jsx)("span",{children:"Limpiar"})]}),(0,Z.jsxs)("button",{id:"applyButton",type:"button",className:"searchbar-apply",onClick:()=>{const e={name:s,address:l,minPrice:c,maxPrice:m};g(e),"function"===typeof r&&r(e),v(!1)},children:[(0,Z.jsx)(V.K7R,{color:Q.oD,"aria-label":"apply button"}),(0,Z.jsx)("span",{children:"Aplicar"})]})]})]})]})},re=e=>{let{page:a=1,lastPage:r=1,onPageChange:t,className:i="pagination",buttonClassName:n="pagination_btn",prevLabel:s="Anterior",nextLabel:o="Siguiente",disabled:l=!1}=e;const d=l||a<=1,c=l||a>=r,u=l||a>=r;return(0,Z.jsxs)("div",{className:i,children:[(0,Z.jsx)("button",{className:n,disabled:d,onClick:()=>{d||"function"!==typeof t||t(a-1)},"aria-label":"Anterior",children:(0,Z.jsx)("span",{children:s})}),(0,Z.jsxs)("span",{className:"pagination_info",children:["P\xe1gina ",a," de"," ",(0,Z.jsx)("button",{type:"button",onClick:()=>{u||"function"!==typeof t||t(r)},disabled:u,"aria-label":"Ir a la \xfaltima p\xe1gina",className:"pagination_last",children:r})]}),(0,Z.jsx)("button",{className:n,disabled:c,onClick:()=>{c||"function"!==typeof t||t(a+1)},"aria-label":"Siguiente",children:(0,Z.jsx)("span",{children:o})})]})};function te(e){return e?Array.isArray(e)?e.map(String).map(e=>e.trim()).filter(Boolean):"string"===typeof e?e.split(",").map(e=>e.trim()).filter(Boolean):[String(e)].filter(Boolean):[]}var ie=r(64),ne=r.n(ie),se=r(3156);const oe=["refresh"],le="/api/property".trim(),de=()=>{var e,a,r,i;const n=(0,L.Zp)(),s=(0,L.zy)(),o=(0,t.wA)(),d=(0,t.d4)(e=>e.property),c=null!==(e=null===d||void 0===d?void 0:d.properties)&&void 0!==e?e:[],u=null===d||void 0===d?void 0:d.loading,m=null!==(a=null===d||void 0===d?void 0:d.meta)&&void 0!==a?a:{},p=null===d||void 0===d?void 0:d.error,h=(0,t.d4)(e=>e.auth.user),v=sessionStorage.getItem("userId"),x=b("token"),g=y(x)||{},j=te(null!==(r=null===h||void 0===h?void 0:h.role)&&void 0!==r?r:null===g||void 0===g?void 0:g.role)[0]||"",f="admin"===j,N="editor"===j,A=N||f,C=f,w=((null===h||void 0===h?void 0:h.name)||(null===g||void 0===g?void 0:g.name)||"").split(" ")[0]||"",P=j?j.charAt(0).toUpperCase()+j.slice(1):"",[k,I]=(0,O.useState)(()=>{var e;return(null===(e=s.state)||void 0===e?void 0:e.filters)||{name:"",address:""}}),[S,E]=(0,O.useState)(()=>{var e;return(null===(e=s.state)||void 0===e?void 0:e.pagination)||{last_page:1,limit:6,page:1,total:0}});(0,O.useEffect)(()=>{var e;if(!v)return void n("/index");const a=!0===(null===(e=s.state)||void 0===e?void 0:e.refresh),{name:r,address:t,minPrice:i,maxPrice:l}=k;o(q({page:S.page,limit:S.limit,name:r,address:t,minPrice:i,maxPrice:l,refresh:a})),a&&n(s.pathname,{replace:!0,state:{}})},[o,n,s.pathname,null===(i=s.state)||void 0===i?void 0:i.refresh,S.page,S.limit,k.name,k.address,k.minPrice,k.maxPrice,v]),(0,O.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,O.useEffect)(()=>{const e=s.state||{},{refresh:a}=e,r=(0,J.A)(e,oe);n(s.pathname,{replace:!0,state:(0,l.A)((0,l.A)({},r),{},{pagination:S,filters:k})})},[S,k,n,s.pathname]);const z=e=>n("/edit-property/".concat(e),{state:{from:s.pathname,pagination:S,filters:k}});return u?(0,Z.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Z.jsx)("div",{className:"loader-spinner"}),(0,Z.jsx)("p",{className:"loader-text",children:"Cargando propiedades..."})]}):(0,Z.jsx)("div",{className:"home-container",children:(0,Z.jsxs)("div",{className:"home-content",children:[(0,Z.jsxs)("div",{className:"home-header",children:[(0,Z.jsx)($,{title:"Inmuebles"}),(0,Z.jsx)("button",{className:"home-add-btn",onClick:()=>n("/add-property",{state:{from:s.pathname,pagination:S,filters:k}}),title:"Agregar propiedad",children:(0,Z.jsx)(V.GGD,{})})]}),p&&(0,Z.jsx)("div",{className:"home-error",children:String(p)}),(w||P)&&(0,Z.jsxs)("div",{className:"home-meta",children:[(0,Z.jsxs)("p",{className:"home-greeting",children:["Hola ",w]}),(0,Z.jsxs)("p",{className:"home-role",children:["admin"===j?(0,Z.jsx)(se.XiY,{}):"editor"===j?(0,Z.jsx)(se.p7b,{}):(0,Z.jsx)(se.x$1,{}),(0,Z.jsx)("span",{className:"home-role__label",children:P})]})]}),(0,Z.jsx)(ae,{filters:k,onChange:e=>{I(e),E(e=>(0,l.A)((0,l.A)({},e),{},{page:1}))}}),(0,Z.jsx)("div",{className:"home-grid",children:c.length>0?c.map(e=>{var a;return(0,Z.jsxs)("div",{className:"home-property-card",children:[(0,Z.jsx)("div",{className:"home-property-card-img-wrapper",onClick:A?()=>z(e.idProperty):void 0,style:{cursor:A?"pointer":"default"},title:A?"Editar":void 0,children:null!==(a=e.image)&&void 0!==a&&a.file?(0,Z.jsx)("img",{className:"home-property-card-img",src:"data:image/jpeg;base64,".concat(e.image.file),alt:e.name,loading:"lazy"}):(0,Z.jsx)("div",{className:"no-image",children:"Sin imagen"})}),(0,Z.jsxs)("div",{className:"home-property-card-info",children:[(0,Z.jsx)("h1",{children:e.name}),(0,Z.jsxs)("p",{className:"home-property-price",children:["$ ",Number(e.price||0).toLocaleString()," | ",e.address]})]}),(0,Z.jsxs)("div",{className:"home-property-card-buttons",children:[A&&(0,Z.jsx)("button",{className:"btn-edit ".concat(N?"editor":""," ").concat(f?"admin":""),title:"Editar",onClick:a=>{a.stopPropagation(),z(e.idProperty)},children:(0,Z.jsx)(V.WXf,{})}),C&&(0,Z.jsx)("button",{className:"btn-delete",title:"Eliminar",onClick:a=>{a.stopPropagation(),(async e=>{if((await ne().fire({title:"Eliminar",text:"Deseas eliminar este inmueble?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#107ACC",cancelButtonColor:"#6b7280",background:"#ffffff",customClass:{popup:"home-swal-popup"}})).isConfirmed)try{await(0,R.errorWrapper)(B.delete("".concat(le,"/").concat(e)));const{name:a,address:r,minPrice:t,maxPrice:i}=k;await o(q({page:S.page,limit:S.limit,name:a,address:r,minPrice:t,maxPrice:i,refresh:!0})).unwrap(),ne().fire({title:"Inmueble Eliminado",icon:"success",confirmButtonColor:"#107ACC"})}catch(ia){ne().fire("Error","No se pudo eliminar la propiedad","error")}})(e.idProperty)},children:(0,Z.jsx)(V.IXo,{})})]})]},e.idProperty)}):(0,Z.jsx)("p",{className:"no-results",children:"No hay propiedades registradas a\xfan"})}),(0,Z.jsx)(re,{page:S.page,lastPage:(null===m||void 0===m?void 0:m.last_page)||S.last_page,onPageChange:e=>E(a=>(0,l.A)((0,l.A)({},a),{},{page:e}))})]})})},ce=e=>{let{label:a="",handleChange:r,className:t=""}=e;const i=(0,O.useCallback)(r,[r]);return(0,Z.jsx)("div",{className:"add-btn-container ".concat(t),children:(0,Z.jsxs)("button",{id:"addButton",type:"button",onClick:i,className:"add-btn-button","aria-label":"add button",children:[(0,Z.jsx)("div",{className:"add-btn-label",children:(0,Z.jsx)(V.GGD,{})}),(0,Z.jsx)("label",{className:"add-btn-text",children:a})]})})};var ue=r(1914),me=r(8793),pe=r(4793),he=r(446),ve=r.n(he),xe=r(3969),ge=r(4842),je=r(2097);const fe=JSON.parse('{"Name":"","Address":"","Price":0,"CodeInternal":0,"Year":0,"IdOwner":""}'),be=JSON.parse('{"Name":"","Address":"","Photo":"","Birthday":""}'),ye=JSON.parse('{"File":"","Enabled":true,"IdProperty":""}'),Ne=JSON.parse('[{"DateSale":"","Name":"","Value":0,"Tax":0,"IdProperty":""}]'),Ae=()=>{const e=(0,L.Zp)(),a={property:"/api/property".trim()},[r,t]=(0,O.useState)(fe),[i,n]=(0,O.useState)(be),[s,o]=(0,O.useState)(ye),[d,c]=(0,O.useState)([Ne]),[u,m]=(0,O.useState)(!1),p=(0,O.useCallback)(e=>new Promise((a,r)=>{const t=new FileReader;t.onload=()=>a(t.result.split(",")[1]),t.onerror=e=>r(e),t.readAsDataURL(e)}),[]),h=e=>{const a=Number(e);return Number.isFinite(a)?Math.max(0,a):0},v=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{name:i,value:s}=e.target;if("traces"===a){const e="value"===i||"tax"===i?h(s):s;c(a=>a.map((a,t)=>t===r?(0,l.A)((0,l.A)({},a),{},{[i]:e}):a))}else if("owner"===a)n(e=>(0,l.A)((0,l.A)({},e),{},{[i]:s}));else{const e="price"===i||"codeInternal"===i?h(s):s;t(a=>(0,l.A)((0,l.A)({},a),{},{[i]:e}))}},x=async function(e){var a,r;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property";if(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(r=a.files)||void 0===r||!r[0])return;const i=e.target.files[0],s=await p(i),d=URL.createObjectURL(i);"owner"===t?n(e=>(0,l.A)((0,l.A)({},e),{},{photo:s,ownerPhotoPreview:d})):o(e=>(0,l.A)((0,l.A)({},e),{},{file:s,enabled:!0,imagePreview:d}))};return u?(0,Z.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Z.jsx)("div",{className:"loader-spinner"}),(0,Z.jsx)("p",{className:"loader-text",children:"Registrando inmueble..."})]}):(0,Z.jsx)("div",{className:"addproperty-container",children:(0,Z.jsxs)("form",{className:"addproperty-card",onSubmit:async t=>{if(t.preventDefault(),!r.name||!r.address)return ne().fire("Faltan datos","Completa los datos de la propiedad.","warning");if(null===s||void 0===s||!s.file)return ne().fire("Imagen requerida","Debes cargar la imagen del inmueble.","warning");if(!i.name||!i.address||!i.photo||!i.birthday)return ne().fire("Datos del propietario","Completa todos los datos del propietario.","warning");if(!d.every(e=>e.name&&e.dateSale&&e.value>0))return ne().fire("Historial","Completa los datos de las trazas.","warning");try{m(!0);const t=function(){var e,a,r,t,i,n,s,o,l,d,c,u,m,p,h,v;let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{idProperty:null!==(e=null===x||void 0===x?void 0:x.idProperty)&&void 0!==e?e:"",name:null!==(a=null===x||void 0===x?void 0:x.name)&&void 0!==a?a:"",address:null!==(r=null===x||void 0===x?void 0:x.address)&&void 0!==r?r:"",price:null!==(t=null===x||void 0===x?void 0:x.price)&&void 0!==t?t:0,codeInternal:null!==(i=null===x||void 0===x?void 0:x.codeInternal)&&void 0!==i?i:0,year:null!==(n=null===x||void 0===x?void 0:x.year)&&void 0!==n?n:0,idOwner:null!==(s=null===x||void 0===x?void 0:x.idOwner)&&void 0!==s?s:"",owner:null!==x&&void 0!==x&&x.owner?{idOwner:null!==(o=x.owner.idOwner)&&void 0!==o?o:"",name:null!==(l=x.owner.name)&&void 0!==l?l:"",address:null!==(d=x.owner.address)&&void 0!==d?d:"",photo:null!==(c=x.owner.photo)&&void 0!==c?c:"",birthday:null!==(u=x.owner.birthday)&&void 0!==u?u:""}:void 0,image:null!==x&&void 0!==x&&x.image?{idPropertyImage:null!==(m=x.image.idPropertyImage)&&void 0!==m?m:"",idProperty:null!==(p=x.image.idProperty)&&void 0!==p?p:"",file:null!==(h=x.image.file)&&void 0!==h?h:"",enabled:null===(v=x.image.enabled)||void 0===v||v}:void 0,traces:Array.isArray(null===x||void 0===x?void 0:x.traces)?x.traces.map(e=>{var a,r,t,i,n,s;return{idPropertyTrace:null!==(a=e.idPropertyTrace)&&void 0!==a?a:"",idProperty:null!==(r=e.idProperty)&&void 0!==r?r:"",dateSale:null!==(t=e.dateSale)&&void 0!==t?t:"",name:null!==(i=e.name)&&void 0!==i?i:"",value:null!==(n=e.value)&&void 0!==n?n:0,tax:null!==(s=e.tax)&&void 0!==s?s:0}}):[]}}((0,l.A)((0,l.A)({},r),{},{owner:i,image:s,traces:d})),n=await(0,R.errorWrapper)(B.post(a.property,t)),{success:o,message:c}=n;o?(ne().fire({title:"Inmueble registrado",icon:"success"}),e("/home",{state:{refresh:!0}})):ne().fire("Error",c||"Ocurri\xf3 un error al registrar el inmueble.","error")}catch(c){var n,o;console.error("Error al crear propiedad:",c),ne().fire({icon:"error",title:"Error",text:(null===c||void 0===c||null===(n=c.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||"Ocurri\xf3 un error al registrar el inmueble"})}finally{m(!1)}},children:[(0,Z.jsx)($,{title:"Registrar nueva propiedad"}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Datos generales"}),(0,Z.jsxs)("div",{className:"form-grid",children:[(0,Z.jsx)(K.A,{name:"name",label:"Nombre",value:r.name,onChange:v,required:!0}),(0,Z.jsx)(K.A,{name:"address",label:"Direcci\xf3n",value:r.address,onChange:v,required:!0}),(0,Z.jsx)(K.A,{name:"price",label:"Precio",type:"number",value:r.price,onChange:v,required:!0}),(0,Z.jsx)(K.A,{name:"codeInternal",label:"C\xf3digo interno",type:"number",value:r.codeInternal,onChange:v,required:!0}),(0,Z.jsx)(pe.$J,{dateAdapter:me.R,children:(0,Z.jsx)(ue.l,{label:"A\xf1o",views:["year"],value:r.year?ve()(String(r.year),"YYYY"):null,onChange:e=>v({target:{name:"year",value:e?e.year():""}}),slotProps:{textField:{fullWidth:!0,required:!0}}})})]})]}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Imagen del inmueble"}),(0,Z.jsx)("div",{className:"image-upload-container",children:s.imagePreview?(0,Z.jsxs)("div",{className:"image-preview filled",children:[(0,Z.jsx)("img",{src:s.imagePreview,alt:"Inmueble",className:"property-image"}),(0,Z.jsx)("div",{className:"add-property-card-buttons",children:(0,Z.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>o({imagePreview:"",file:""}),children:(0,Z.jsx)(V.IXo,{})})})]}):(0,Z.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("propertyFileInput").click(),children:[(0,Z.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Haz clic o arrastra una imagen"}),(0,Z.jsx)("input",{id:"propertyFileInput",type:"file",accept:"image/*",hidden:!0,onChange:e=>x(e,"property"),"aria-label":"property image input",required:!0,"aria-required":"true"})]})})]}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Propietario"}),(0,Z.jsxs)("div",{className:"form-grid owner-grid",children:[(0,Z.jsx)(K.A,{name:"name",label:"Nombre",value:i.name,onChange:e=>v(e,"owner"),required:!0}),(0,Z.jsx)(K.A,{name:"address",label:"Direcci\xf3n",value:i.address,onChange:e=>v(e,"owner"),required:!0}),(0,Z.jsx)(K.A,{type:"date",name:"birthday",label:"Fecha de nacimiento",value:i.birthday,onChange:e=>v(e,"owner"),InputLabelProps:{shrink:!0},required:!0}),(0,Z.jsx)("div",{className:"image-upload-container full-width",children:i.ownerPhotoPreview?(0,Z.jsxs)("div",{className:"image-preview filled",children:[(0,Z.jsx)("img",{src:i.ownerPhotoPreview,alt:"Propietario",className:"owner-photo"}),(0,Z.jsx)("div",{className:"add-property-card-buttons",children:(0,Z.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>n((0,l.A)((0,l.A)({},i),{},{photo:"",ownerPhotoPreview:""})),children:(0,Z.jsx)(V.IXo,{})})})]}):(0,Z.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("ownerFileInput").click(),children:[(0,Z.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Cargar imagen del propietario"}),(0,Z.jsx)("input",{id:"ownerFileInput",name:"file",type:"file",accept:"image/*",hidden:!0,onChange:e=>x(e,"owner"),"aria-label":"owner photo input",required:!0,"aria-required":"true"})]})})]})]}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Historial"}),d.map((e,a)=>(0,Z.jsx)("div",{className:"addproperty-trace-wrapper",children:(0,Z.jsxs)("div",{className:"trace-grid",children:[(0,Z.jsx)(K.A,{type:"date",name:"dateSale",label:"Fecha",value:e.dateSale,onChange:e=>v(e,"traces",a),InputLabelProps:{shrink:!0},required:!0}),(0,Z.jsx)(K.A,{name:"name",label:"Evento",value:e.name,onChange:e=>v(e,"traces",a),required:!0}),(0,Z.jsx)(K.A,{type:"number",name:"value",label:"Valor",value:e.value,onChange:e=>v(e,"traces",a),required:!0}),(0,Z.jsx)(K.A,{type:"number",name:"tax",label:"Impuesto",value:e.tax,onChange:e=>v(e,"traces",a),required:!0}),(0,Z.jsx)("button",{type:"button",className:"addproperty-trace-delete-btn",onClick:()=>{return e=a,void c(a=>a.filter((a,r)=>r!==e));var e},children:(0,Z.jsx)(V.IXo,{})})]})},a)),(0,Z.jsx)(ce,{label:"A\xf1adir evento",handleChange:()=>{c(e=>[...e,{name:"",value:0,tax:0,dateSale:"",idProperty:""}])}})]}),(0,Z.jsx)(je.A,{id:"createButton",type:"submit",variant:"contained",color:u?"secondary":"primary",disabled:u,"aria-label":"create button",children:u?"Registrando...":"Registrar Propiedad"}),(0,Z.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>e("/home"),"aria-label":"cancel button",children:"Cancelar"})]})})};var Ce=r(6803);const we=function(){var e,a,r,t,i,n;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{IdPropertyTrace:null!==(e=null===s||void 0===s?void 0:s.idPropertyTrace)&&void 0!==e?e:"",DateSale:null!==(a=null===s||void 0===s?void 0:s.dateSale)&&void 0!==a?a:"",Name:null!==(r=null===s||void 0===s?void 0:s.name)&&void 0!==r?r:"",Value:null!==(t=null===s||void 0===s?void 0:s.value)&&void 0!==t?t:0,Tax:null!==(i=null===s||void 0===s?void 0:s.tax)&&void 0!==i?i:0,IdProperty:null!==(n=null===s||void 0===s?void 0:s.idProperty)&&void 0!==n?n:""}},Pe=()=>{const e=(0,L.Zp)(),{propertyId:a}=(0,L.g)(),r=(0,L.zy)(),t="/api/property".trim(),[i,n]=(0,O.useState)(null),[s,o]=(0,O.useState)({}),[d,c]=(0,O.useState)({}),[u,m]=(0,O.useState)([]),[p,h]=(0,O.useState)(!0),[v,x]=(0,O.useState)(!1),[g,j]=(0,O.useState)({message:"",severity:"success"}),f=function(){var a,t,i;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const s=(null===(a=r.state)||void 0===a?void 0:a.from)||"/home",o=(0,l.A)({pagination:null===(t=r.state)||void 0===t?void 0:t.pagination,filters:null===(i=r.state)||void 0===i?void 0:i.filters},n?{refresh:!0}:{});e(s,{state:o})},b=(0,O.useCallback)(e=>new Promise((a,r)=>{const t=new FileReader;t.onload=()=>a(t.result.split(",")[1]),t.onerror=r,t.readAsDataURL(e)}),[]);(0,O.useEffect)(()=>{(async()=>{try{var e,i,s,d,u,p;const h=!0===(null===(e=r.state)||void 0===e?void 0:e.refresh),v=await(0,R.errorWrapper)(B.get("".concat(t,"/").concat(a).concat(h?"?refresh=true":""))),x=null!==(i=null!==(s=null===v||void 0===v||null===(d=v.data)||void 0===d?void 0:d.data)&&void 0!==s?s:null===v||void 0===v?void 0:v.data)&&void 0!==i?i:null===v||void 0===v||null===(u=v.data)||void 0===u?void 0:u.data;if(!x)throw new Error("No se encontr\xf3 la propiedad");n(x),x.image&&c((0,l.A)((0,l.A)({},x.image),{},{imagePreview:x.image.file?"data:image/jpeg;base64,".concat(x.image.file):""})),x.owner&&o((0,l.A)((0,l.A)({},x.owner),{},{ownerPhotoPreview:x.owner.photo?"data:image/jpeg;base64,".concat(x.owner.photo):""})),null!==(p=x.traces)&&void 0!==p&&p.length&&m(x.traces)}catch(v){console.error("Error al cargar propiedad:",v),ne().fire({icon:"error",title:"Error",text:"No se obtuvo los datos del inmueble"})}finally{h(!1)}})()},[a,r.state,t]);const y=e=>{const a=Number(e);return Number.isFinite(a)?Math.max(0,a):0},N=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{name:t,value:i}=e.target;if("owner"===a)o(e=>(0,l.A)((0,l.A)({},e),{},{[t]:i}));else if("traces"===a){const e="value"===t||"tax"===t?y(i):i;m(a=>a.map((a,i)=>i===r?(0,l.A)((0,l.A)({},a),{},{[t]:e}):a))}else{const e="price"===t||"codeInternal"===t?y(i):i;n(a=>(0,l.A)((0,l.A)({},a),{},{[t]:e}))}},A=async function(e){var a,r;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property";if(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(r=a.files)||void 0===r||!r[0])return;const i=e.target.files[0],n=await b(i),s=URL.createObjectURL(i);"owner"===t?o(e=>(0,l.A)((0,l.A)({},e),{},{photo:n,ownerPhotoPreview:s})):c(e=>(0,l.A)((0,l.A)({},e),{},{file:n,enabled:!0,imagePreview:s}))};return p||v?(0,Z.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Z.jsx)("div",{className:"loader-spinner"}),p&&(0,Z.jsx)("p",{className:"loader-text",children:"Cargando inmueble..."}),v&&(0,Z.jsx)("p",{className:"loader-text",children:"Actualizando inmueble..."})]}):i?(0,Z.jsx)("div",{className:"editproperty-container",children:(0,Z.jsxs)("form",{className:"editproperty-card",onSubmit:async e=>{e.preventDefault();try{var r,n,o,l,c;if(x(!0),!i)return x(!1),void ne().fire({icon:"error",title:"Error",text:"No se encontr\xf3 la propiedad."});const e=null!==d&&void 0!==d&&d.file&&""!==d.file.trim()?function(){var e,a,r,t,i,n,s;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{IdPropertyImage:null!==(e=null!==(a=null!==(r=null===o||void 0===o?void 0:o.idPropertyImage)&&void 0!==r?r:null===o||void 0===o?void 0:o.IdPropertyImage)&&void 0!==a?a:null===o||void 0===o?void 0:o.id)&&void 0!==e?e:"",IdProperty:null!==(t=null!==(i=null===o||void 0===o?void 0:o.idProperty)&&void 0!==i?i:null===o||void 0===o?void 0:o.IdProperty)&&void 0!==t?t:"",File:null!==(n=null===o||void 0===o?void 0:o.file)&&void 0!==n?n:"",Enabled:null===(s=null===o||void 0===o?void 0:o.enabled)||void 0===s||s}}(d):null,m=null!==s&&void 0!==s&&null!==(r=s.name)&&void 0!==r&&r.trim()&&null!==s&&void 0!==s&&null!==(n=s.address)&&void 0!==n&&n.trim()&&(null!==s&&void 0!==s&&null!==(o=s.photo)&&void 0!==o&&o.trim()||null!==s&&void 0!==s&&null!==(l=s.ownerPhotoPreview)&&void 0!==l&&l.trim())&&null!==s&&void 0!==s&&null!==(c=s.birthday)&&void 0!==c&&c.trim()?function(){var e,a,r,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{Name:null!==(e=null===i||void 0===i?void 0:i.name)&&void 0!==e?e:"",Address:null!==(a=null===i||void 0===i?void 0:i.address)&&void 0!==a?a:"",Photo:null!==(r=null===i||void 0===i?void 0:i.photo)&&void 0!==r?r:"",Birthday:null!==(t=null===i||void 0===i?void 0:i.birthday)&&void 0!==t?t:""}}(s):null,p=Array.isArray(u)&&u.length>0?u.filter(e=>{var a,r;return(null===(a=e.name)||void 0===a?void 0:a.trim())&&(null===(r=e.dateSale)||void 0===r?void 0:r.trim())&&Number(e.value)>0}).map(we):[],h={name:i.name,address:i.address,price:Number(i.price),codeInternal:Number(i.codeInternal),year:i.year,image:e,owner:m,traces:p};console.log("Actualizaci\xf3n Ok \u2192",h);const v=await(0,R.errorWrapper)(B.patch("".concat(t,"/").concat(a),h)),{success:g,message:j,error:b}=v;console.log("message: ",j),console.log("error: ",b),g?(ne().fire({icon:"success",title:"Propiedad actualizada",confirmButtonText:"Aceptar"}),f(!0)):ne().fire({icon:"error",title:"Error",text:j||"Ocurri\xf3 un error al actualizar la propiedad"})}catch(h){var m,p;console.error("Error al actualizar propiedad:",h),ne().fire({icon:"error",title:"Error",text:(null===h||void 0===h||null===(m=h.response)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.message)||"Ocurri\xf3 un error al actualizar el inmueble"})}finally{x(!1)}},children:[(0,Z.jsx)($,{title:"Editar propiedad"}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Datos generales"}),(0,Z.jsxs)("div",{className:"form-grid",children:[(0,Z.jsx)(K.A,{name:"name",label:"Nombre",value:i.name||"",onChange:N,required:!0}),(0,Z.jsx)(K.A,{name:"address",label:"Direcci\xf3n",value:i.address||"",onChange:N,required:!0}),(0,Z.jsx)(K.A,{name:"price",label:"Precio",type:"number",value:i.price||0,onChange:N,required:!0}),(0,Z.jsx)(K.A,{name:"codeInternal",label:"C\xf3digo interno",type:"number",value:i.codeInternal||0,onChange:N,required:!0}),(0,Z.jsx)(pe.$J,{dateAdapter:me.R,children:(0,Z.jsx)(ue.l,{label:"A\xf1o",views:["year"],value:i.year?ve()(String(i.year),"YYYY"):null,onChange:e=>N({target:{name:"year",value:e?e.year():""}}),slotProps:{textField:{fullWidth:!0,InputLabelProps:{shrink:!0},required:!0}}})})]})]}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Imagen del inmueble"}),(0,Z.jsx)("div",{className:"image-upload-container",children:d.imagePreview?(0,Z.jsxs)("div",{className:"image-preview filled",children:[(0,Z.jsx)("img",{src:d.imagePreview,alt:"Inmueble",className:"property-image"}),(0,Z.jsx)("div",{className:"add-property-card-buttons",children:(0,Z.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>c({imagePreview:""}),children:(0,Z.jsx)(V.IXo,{})})})]}):(0,Z.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("propertyFileInput").click(),children:[(0,Z.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Haz clic o arrastra una imagen"}),(0,Z.jsx)("input",{id:"propertyFileInput",type:"file",accept:"image/*",hidden:!0,onChange:e=>A(e,"property"),"aria-label":"property image input",required:!0,"aria-required":"true"})]})})]}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Propietario"}),(0,Z.jsxs)("div",{className:"form-grid owner-grid",children:[(0,Z.jsx)(K.A,{name:"name",label:"Nombre",value:s.name||"",onChange:e=>N(e,"owner"),required:!0}),(0,Z.jsx)(K.A,{name:"address",label:"Direcci\xf3n",value:s.address||"",onChange:e=>N(e,"owner"),required:!0}),(0,Z.jsx)(K.A,{type:"date",name:"birthday",label:"Fecha de nacimiento",value:s.birthday||"",onChange:e=>N(e,"owner"),InputLabelProps:{shrink:!0},required:!0}),(0,Z.jsx)("div",{className:"image-upload-container full-width",children:s.ownerPhotoPreview||s.photo?(0,Z.jsxs)("div",{className:"image-preview filled",children:[(0,Z.jsx)("img",{src:s.ownerPhotoPreview||"data:image/jpeg;base64,".concat(s.photo),alt:"Propietario",className:"owner-photo"}),(0,Z.jsx)("div",{className:"add-property-card-buttons",children:(0,Z.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>o((0,l.A)((0,l.A)({},s),{},{photo:"",ownerPhotoPreview:""})),children:(0,Z.jsx)(V.IXo,{})})})]}):(0,Z.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("ownerFileInput").click(),children:[(0,Z.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Cargar imagen del propietario"}),(0,Z.jsx)("input",{id:"ownerFileInput",name:"file",type:"file",accept:"image/*",hidden:!0,onChange:e=>A(e,"owner"),"aria-label":"owner photo input",required:!0,"aria-required":"true"})]})})]})]}),(0,Z.jsxs)("div",{className:"form-section",children:[(0,Z.jsx)("h2",{children:"Historial"}),u.map((e,a)=>(0,Z.jsx)("div",{className:"editproperty-trace-wrapper",children:(0,Z.jsxs)("div",{className:"trace-grid",children:[(0,Z.jsx)(K.A,{type:"date",name:"dateSale",label:"Fecha",value:e.dateSale||"",onChange:e=>N(e,"traces",a),InputLabelProps:{shrink:!0},required:!0}),(0,Z.jsx)(K.A,{name:"name",label:"Evento",value:e.name||"",onChange:e=>N(e,"traces",a),required:!0}),(0,Z.jsx)(K.A,{type:"number",name:"value",label:"Valor",value:e.value||0,onChange:e=>N(e,"traces",a),required:!0}),(0,Z.jsx)(K.A,{type:"number",name:"tax",label:"Impuesto",value:e.tax||0,onChange:e=>N(e,"traces",a),required:!0}),(0,Z.jsx)("button",{type:"button",className:"editproperty-trace-delete-btn",onClick:()=>(e=>{m(a=>a.filter((a,r)=>r!==e)),j({message:"Traza eliminada localmente (se guardar\xe1 al actualizar)",severity:"info"})})(a),children:(0,Z.jsx)(V.IXo,{})})]})},a)),g.message&&(0,Z.jsx)(xe.A,{className:"trace-alert",sx:{mb:2},children:(0,Z.jsx)(Ce.A,{severity:g.severity,onClose:()=>j({message:"",severity:"success"}),children:g.message})}),(0,Z.jsx)(ce,{label:"A\xf1adir evento",handleChange:()=>m(e=>[...e,{name:"",value:0,tax:0,dateSale:""}])})]}),(0,Z.jsx)(je.A,{id:"updateButton",type:"submit",variant:"contained",color:v?"secondary":"primary",disabled:v,"aria-label":"update button",children:v?"Actualizando...":"Actualizar Propiedad"}),(0,Z.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>f(!1),"aria-label":"cancel button",children:"Cancelar"})]})}):(0,Z.jsx)("p",{style:{textAlign:"center",color:"red"},children:"Inmueble no encontrado"})};var ke=r(3002);const Ie=()=>{const e=(0,L.Zp)(),a=(0,t.d4)(e=>e.auth.user),r=f("token"),i=b("token"),n=y(i)||{},s=(null===a||void 0===a?void 0:a.name)||(null===n||void 0===n?void 0:n.name)||"Usuario",o=(null===a||void 0===a?void 0:a.email)||(null===n||void 0===n?void 0:n.email)||"correo@dominio.com",l=((null===a||void 0===a?void 0:a.role)||(null===n||void 0===n?void 0:n.role)||"user").toLowerCase(),d=(null===a||void 0===a?void 0:a.id)||(null===n||void 0===n?void 0:n.id)||"-",c=!!r&&!A(i);return(0,Z.jsx)("div",{className:"user-container",children:(0,Z.jsxs)("div",{className:"user-card",children:[(0,Z.jsxs)("div",{className:"user-header",children:[(0,Z.jsx)($,{title:"Mi perfil"}),c&&(0,Z.jsxs)("button",{className:"user-edit-btn",onClick:()=>e("/profile/edit"),children:[(0,Z.jsx)("label",{children:"Editar"})," ",(0,Z.jsx)(V.SG1,{className:"user-edit-btn-icon",size:30,color:Q.oD})]})]}),(0,Z.jsxs)("div",{className:"user-data",children:[(0,Z.jsx)("div",{className:"user-avatar",children:(0,Z.jsx)(ke.MrL,{size:96,color:Q.oD})}),(0,Z.jsxs)("div",{className:"user-info",children:[(0,Z.jsx)("h2",{className:"user-name",children:s}),(0,Z.jsx)("p",{className:"user-email",children:o}),(0,Z.jsxs)("div",{className:"user-meta",children:[(0,Z.jsxs)("div",{className:"meta-item",children:[(0,Z.jsx)("span",{className:"meta-label",children:"ID de usuario"}),(0,Z.jsx)("span",{className:"meta-value",children:d})]}),(0,Z.jsxs)("div",{className:"meta-item",children:[(0,Z.jsx)("span",{className:"meta-label",children:"Rol"}),(0,Z.jsx)("span",{className:"meta-value",children:l})]}),(0,Z.jsxs)("div",{className:"meta-item",children:[(0,Z.jsx)("span",{className:"meta-label",children:"Estado"}),(0,Z.jsx)("span",{className:"meta-badge ".concat(c?"ok":"off"),children:c?"Activo":"Inactivo"})]})]})]})]})]})})};var Se=r(4799),Ee=r(2156);const Be=()=>{const e=(0,L.Zp)(),a=(0,t.wA)(),r=(0,t.d4)(e=>e.auth.user),[i,n]=(0,O.useState)(!1),s=localStorage.getItem("token")||sessionStorage.getItem("token")||"",o=b(s),d=y(o)||{},[c,u]=(((null===r||void 0===r?void 0:r.role)||(null===d||void 0===d?void 0:d.role)||"user").toLowerCase(),(0,O.useState)({name:(null===r||void 0===r?void 0:r.name)||(null===d||void 0===d?void 0:d.name)||"",email:(null===r||void 0===r?void 0:r.email)||(null===d||void 0===d?void 0:d.email)||"",role:(null===r||void 0===r?void 0:r.role)||(null===d||void 0===d?void 0:d.role)||"user"}));(0,O.useEffect)(()=>{u({name:(null===r||void 0===r?void 0:r.name)||(null===d||void 0===d?void 0:d.name)||"",email:(null===r||void 0===r?void 0:r.email)||(null===d||void 0===d?void 0:d.email)||"",role:(null===r||void 0===r?void 0:r.role)||(null===d||void 0===d?void 0:d.role)||"user"})},[null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.email,null===r||void 0===r?void 0:r.role]);return i?(0,Z.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Z.jsx)("div",{className:"loader-spinner"}),(0,Z.jsx)("p",{className:"loader-text",children:"Actualizando usuario..."})]}):(0,Z.jsx)("div",{className:"edituser-container",children:(0,Z.jsxs)(Se.A,{elevation:3,className:"edituser-card",children:[(0,Z.jsx)($,{title:"Editar perfil"}),(0,Z.jsxs)(xe.A,{component:"form",className:"edituser-form",onSubmit:async t=>{t.preventDefault();try{n(!0);const t=function(){var e,a,r,t,i,n,s,o;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"!==typeof l||null===l?{}:{Id:null!==(e=null!==(a=null===l||void 0===l?void 0:l.id)&&void 0!==a?a:null===l||void 0===l?void 0:l.Id)&&void 0!==e?e:null,Name:(null===l||void 0===l||null===(r=l.name)||void 0===r||null===(t=r.trim)||void 0===t?void 0:t.call(r))||"",Email:(null===l||void 0===l||null===(i=l.email)||void 0===i||null===(n=i.trim)||void 0===n?void 0:n.call(i))||"",Role:(null===l||void 0===l||null===(s=l.role)||void 0===s||null===(o=s.trim)||void 0===o?void 0:o.call(s))||""}}(c),s={};if((null===r||void 0===r?void 0:r.name)!==t.Name&&""!==t.Name.trim()&&(s.name=t.Name.trim()),0===Object.keys(s).length)return void ne().fire({icon:"info",text:"No hay cambios para guardar.",timer:1500,showConfirmButton:!1});const o=await(0,R.errorWrapper)(B.patch("".concat("/api/user".trim(),"/").concat(c.email),s));var i;if(o.ok)a(h((0,l.A)((0,l.A)({},r),s))),ne().fire({icon:"success",title:"Perfil actualizado",timer:1500,showConfirmButton:!1}),e(-1);else ne().fire({icon:"error",text:(null===(i=o.error)||void 0===i?void 0:i.message)||"Error al actualizar el perfil"})}catch(s){console.error(" Error al actualizar perfil:",s),ne().fire({icon:"error",text:"No se pudo actualizar el perfil"})}finally{n(!1)}},sx:{"& #saveUser":{gridColumn:"1 / -1",width:"100%"}},children:[(0,Z.jsx)(K.A,{name:"name",label:"Nombre",value:c.name,onChange:e=>{const{name:a,value:r}=e.target;u(e=>(0,l.A)((0,l.A)({},e),{},{[a]:r}))},fullWidth:!0,required:!0}),(0,Z.jsx)(K.A,{name:"email",label:"Correo",type:"email",value:c.email,fullWidth:!0,disabled:!0}),(0,Z.jsxs)(K.A,{name:"role",label:"Rol",value:c.role,select:!0,fullWidth:!0,disabled:!0,children:[(0,Z.jsx)(Ee.A,{value:"admin",children:"Admin"}),(0,Z.jsx)(Ee.A,{value:"editor",children:"Editor"}),(0,Z.jsx)(Ee.A,{value:"user",children:"User"})]}),(0,Z.jsx)(je.A,{id:"saveUser",type:"submit",variant:"contained",color:"primary",sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"save user",children:"Guardar"})]}),(0,Z.jsx)(je.A,{id:"cancelUser",onClick:()=>e(-1),variant:"outlined",color:"secondary",sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"cancel to save user",children:"Cancelar"})]})})};var Re=r(3699);const ze=()=>{const[e,a]=(0,O.useState)([]),[r,t]=(0,O.useState)(!1),[i,n]=(0,O.useState)(""),[s,o]=(0,O.useState)(""),[d,c]=(0,O.useState)({page:1,limit:6,last_page:1,total:0}),u="/api/user".trim();(0,O.useEffect)(()=>{(async()=>{t(!0),o("");try{const r=await(0,R.errorWrapper)(B.get(u)),{success:t,data:i,message:n,error:s}=r;if(t){var e;const r=null!==(e=null===i||void 0===i?void 0:i.data)&&void 0!==e?e:i,t=(Array.isArray(r)?r:Array.isArray(null===r||void 0===r?void 0:r.items)?r.items:Array.isArray(null===r||void 0===r?void 0:r.users)?r.users:[]).map(e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e||null===e)return{id:"",name:"",email:"",role:""};const a=function(){for(var a=arguments.length,r=new Array(a),t=0;t<a;t++)r[t]=arguments[t];for(const i of r)if(null!=(null===e||void 0===e?void 0:e[i])&&""!==e[i])return e[i]};return{id:a("Id","id","UserId","userId","sub")||"",name:a("Name","name","FullName","fullName","Username","username")||"",email:a("Email","email","Correo","correo","preferred_username")||"",role:(a("Role","role")||(Array.isArray(null===e||void 0===e?void 0:e.roles)?e.roles[0]:"")||"").toString().toLowerCase()}}(e));a(t);const n=t.length;c(e=>(0,l.A)((0,l.A)({},e),{},{total:n,last_page:Math.max(1,Math.ceil(n/e.limit))}))}else o((null===s||void 0===s?void 0:s.message)||n||"No se obtuvieron los usuarios")}catch(ia){o("Ocurri\xf3 un error inesperado en el servicio")}finally{t(!1)}})()},[u]);const m=(e||[]).filter(e=>{const a=i.trim().toLowerCase();return!a||((e.name||"").toLowerCase().includes(a)||(e.email||"").toLowerCase().includes(a)||(e.role||"").toLowerCase().includes(a))}),p=m.length,h=Math.max(1,Math.ceil(p/d.limit)),v=Math.min(d.page,h),x=(v-1)*d.limit,g=x+d.limit,j=m.slice(x,g);return(0,Z.jsx)("div",{className:"manageusers-container",children:(0,Z.jsxs)(Se.A,{elevation:3,className:"manageusers-card",children:[(0,Z.jsx)($,{title:"Administrar usuarios"}),s&&(0,Z.jsx)("p",{className:"error-text",children:s}),(0,Z.jsx)("div",{className:"manageusers-toolbar",children:(0,Z.jsx)(K.A,{value:i,onChange:e=>n(e.target.value),placeholder:"Buscar por nombre, correo o rol...",InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(V.CKj,{size:18,color:Q.oD})})},fullWidth:!0,className:"manageusers-search-input"})}),(0,Z.jsxs)("div",{className:"manageusers-table",children:[(0,Z.jsxs)("div",{className:"manageusers-head",children:[(0,Z.jsx)("div",{children:"Nombre"}),(0,Z.jsx)("div",{children:"Correo"}),(0,Z.jsx)("div",{children:"Rol"}),(0,Z.jsx)("div",{children:"Acci\xf3n"})]}),j.length>0?j.map((e,r)=>(0,Z.jsxs)("div",{className:"manageusers-row",children:[(0,Z.jsx)(K.A,{value:e.name||"",fullWidth:!0,disabled:!0}),(0,Z.jsx)(K.A,{value:e.email||"",fullWidth:!0,disabled:!0}),(0,Z.jsxs)(K.A,{select:!0,value:e.role||"user",onChange:r=>(async(e,r)=>{try{const t="".concat(u,"/").concat(encodeURIComponent(e.email)),i={role:r},n=await(0,R.errorWrapper)(B.patch(t,i)),{success:s,message:o,error:d}=n;s?(ne().fire({icon:"success",title:"Rol actualizado",timer:1400,showConfirmButton:!1}),a(a=>a.map(a=>a.email===e.email?(0,l.A)((0,l.A)({},a),{},{role:r}):a))):ne().fire({icon:"error",text:(null===d||void 0===d?void 0:d.message)||o||"No se pudo actualizar el rol"})}catch(t){ne().fire({icon:"error",text:"No se pudo actualizar el rol"})}})(e,r.target.value),fullWidth:!0,children:[(0,Z.jsx)(Ee.A,{value:"admin",children:"Admin"}),(0,Z.jsx)(Ee.A,{value:"editor",children:"Editor"}),(0,Z.jsx)(Ee.A,{value:"user",children:"User"})]}),(0,Z.jsx)(je.A,{id:"deletebutton".concat(r),variant:"outlined",className:"manageusers-delete-btn",color:"error",onClick:()=>(async e=>{if(!(await ne().fire({title:"\xbfEliminar usuario?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:Q.eq,cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)return;const r=await(0,R.errorWrapper)(B.delete("".concat(u,"/").concat(encodeURIComponent(e)))),{success:t,message:i,error:n}=r;t?(ne().fire({icon:"success",text:i||"Usuario eliminado correctamente",timer:1400,showConfirmButton:!1}),a(a=>a.filter(a=>a.email!==e)),c(e=>{const a=Math.max(0,e.total-1),r=Math.max(1,Math.ceil(a/e.limit)),t=e.page>r?r:e.page;return(0,l.A)((0,l.A)({},e),{},{total:a,last_page:r,page:t})})):ne().fire({icon:"error",text:(null===n||void 0===n?void 0:n.message)||i||"No se pudo eliminar el usuario"})})(e.email),style:{marginTop:0},"aria-label":"delete button ".concat(r),children:(0,Z.jsx)(V.IXo,{})})]},"".concat(e.email,"-").concat(r))):!r&&(0,Z.jsx)("div",{className:"manageusers-empty",children:"No hay usuarios que coincidan con la b\xfasqueda"})]}),(0,Z.jsx)(re,{page:v,lastPage:h,onPageChange:e=>c(a=>(0,l.A)((0,l.A)({},a),{},{page:e}))})]})})},qe=()=>(0,Z.jsxs)(L.BV,{children:[(0,Z.jsx)(L.qh,{path:"/",element:(0,Z.jsx)(de,{})}),(0,Z.jsx)(L.qh,{path:"/home",element:(0,Z.jsx)(de,{})}),(0,Z.jsx)(L.qh,{path:"/add-property",element:(0,Z.jsx)(Ae,{})}),(0,Z.jsx)(L.qh,{path:"/edit-property/:propertyId",element:(0,Z.jsx)(G,{allowed:["editor","admin"],element:(0,Z.jsx)(Pe,{})})}),(0,Z.jsx)(L.qh,{path:"/profile",element:(0,Z.jsx)(Ie,{})}),(0,Z.jsx)(L.qh,{path:"/profile/edit",element:(0,Z.jsx)(G,{allowed:["admin","editor","user"],element:(0,Z.jsx)(Be,{})})}),(0,Z.jsx)(L.qh,{path:"/users",element:(0,Z.jsx)(G,{allowed:["admin"],element:(0,Z.jsx)(ze,{})})}),(0,Z.jsx)(L.qh,{path:"*",element:(0,Z.jsx)(de,{})})]}),_e=e=>{let{children:a}=e;const{logged:r}=(0,t.d4)(e=>e.auth);return r?(0,Z.jsx)(qe,{}):a},Te=e=>{let{children:a}=e;const{logged:r}=(0,t.d4)(e=>e.auth),{pathname:i,search:n}=(0,L.zy)();return sessionStorage.setItem("lastPath",i+n),r?a:(0,Z.jsx)(L.C5,{to:"/",replace:!0})},De=["refresh"],We=()=>{var e;const a=(0,L.Zp)(),r=(0,L.zy)(),i=(0,t.wA)(),{properties:n=[],loading:s=!1,meta:o={}}=(0,t.d4)(e=>e.property||{}),[d,c]=(0,O.useState)(()=>{var e;return(null===(e=r.state)||void 0===e?void 0:e.filters)||{name:"",address:""}}),[u,m]=(0,O.useState)(()=>{var e;return(null===(e=r.state)||void 0===e?void 0:e.pagination)||{page:1,limit:6,last_page:1,total:0}});(0,O.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,O.useEffect)(()=>{var e;const t=!0===(null===(e=r.state)||void 0===e?void 0:e.refresh);i(q({page:u.page,limit:u.limit,name:d.name,address:d.address,minPrice:d.minPrice,maxPrice:d.maxPrice,refresh:t})),t&&a(r.pathname,{replace:!0,state:{}})},[r.pathname,null===(e=r.state)||void 0===e?void 0:e.refresh,u.page,u.limit,d,i,a]),(0,O.useEffect)(()=>{const e=r.state||{},{refresh:t}=e,i=(0,J.A)(e,De);a(r.pathname,{replace:!0,state:(0,l.A)((0,l.A)({},i),{},{pagination:u,filters:d})})},[u,d,a,r.pathname]);return s?(0,Z.jsxs)("div",{className:"container-loader full-screen",children:[(0,Z.jsx)("div",{className:"spinner"}),(0,Z.jsx)("p",{children:"Cargando inmuebles..."})]}):(0,Z.jsx)("div",{className:"index-container",children:(0,Z.jsxs)("div",{className:"index-content",children:[(0,Z.jsx)("div",{className:"index-header",children:(0,Z.jsx)($,{title:"Inmuebles Disponibles"})}),(0,Z.jsx)(ae,{filters:d,onChange:e=>{c(e),m(e=>(0,l.A)((0,l.A)({},e),{},{page:1}))}}),(0,Z.jsx)("div",{className:"index-grid",children:n.length>0?n.map(e=>(0,Z.jsxs)("div",{className:"index-property-card",onClick:()=>{return t=e.idProperty,a("/property/".concat(t),{state:{from:r.pathname,pagination:u,filters:d}});var t},children:[e.image&&e.image.file?(0,Z.jsx)("img",{className:"index-property-card-img",src:"data:image/jpeg;base64,".concat(e.image.file),alt:e.name,loading:"lazy"}):(0,Z.jsx)("div",{className:"no-image",children:"Sin imagen"}),(0,Z.jsxs)("div",{className:"index-property-card-info",children:[(0,Z.jsx)("h1",{children:e.name}),(0,Z.jsx)("p",{children:e.address}),(0,Z.jsxs)("p",{className:"price",children:["$",Number(e.price||0).toLocaleString()]})]})]},e.idProperty)):(0,Z.jsx)("p",{className:"no-results",children:"No se encontraron inmuebles"})}),(0,Z.jsx)(re,{page:u.page,lastPage:(null===o||void 0===o?void 0:o.last_page)||u.last_page,onPageChange:e=>m(a=>(0,l.A)((0,l.A)({},a),{},{page:e}))})]})})},Fe=e=>{let{id:a="button",label:r="",onClick:t,className:i=""}=e;return(0,Z.jsx)("button",{id:a,onClick:t,className:"button ".concat(i),"aria-label":" ".concat(r," button"),children:r})};r(7534);const Me="/api/property".trim(),Le=()=>{const e=(0,L.Zp)(),a=(0,L.zy)(),{propertyId:r}=(0,L.g)(),{data:t,loading:i,error:n}=(e=>{const[a,r]=(0,O.useState)(null),[t,i]=(0,O.useState)(Boolean(e)),[n,s]=(0,O.useState)(null),[o,l]=(0,O.useState)("");return(0,O.useEffect)(()=>{e&&(async()=>{i(!0),s(null);try{const a=await(0,R.errorWrapper)(B.get(e)),{success:t,data:i,message:n,error:o}=a;t&&void 0!==i?(r(i),l(n||"Datos cargados correctamente")):(console.warn(" Error l\xf3gico en useFetch:",n,o),s(o||{message:n||"Error desconocido"}),r(null))}catch(a){console.error("Error en useFetch:",a),s({message:(null===a||void 0===a?void 0:a.message)||"Error al obtener datos"})}finally{i(!1)}})()},[e]),{data:a,loading:t,error:n,message:o}})("".concat(Me,"/").concat(r));ve().locale("es"),(0,O.useEffect)(()=>{window.scrollTo(0,0)},[]);if(i)return(0,Z.jsxs)("div",{className:"container-loader full-screen",children:[(0,Z.jsx)("div",{className:"spinner"}),(0,Z.jsx)("p",{children:"Cargando inmueble..."})]});if(n||!t)return(0,Z.jsx)("div",{className:"property-error",children:"Error al cargar el inmueble o no existe."});const{name:s,address:o,price:l,year:d,idProperty:c,codeInternal:u,image:m,owner:p,traces:h=[]}=t.data,v=null!==p&&void 0!==p&&p.birthday?ve()(p.birthday).format("D [de] MMMM [de] YYYY"):"Sin fecha de nacimiento";return(0,Z.jsx)("div",{className:"property-container",children:(0,Z.jsxs)("div",{className:"property-card",children:[null!==m&&void 0!==m&&m.file?(0,Z.jsx)("div",{className:"property-image-wrapper",children:(0,Z.jsx)("img",{src:"data:image/jpeg;base64,".concat(m.file),alt:s,className:"property-main-image",loading:"lazy"})}):(0,Z.jsx)("div",{className:"no-image",children:"Sin imagen disponible"}),(0,Z.jsxs)("div",{className:"property-info",children:[(0,Z.jsx)($,{title:s}),(0,Z.jsxs)("p",{className:"property-address",children:["\ud83d\udccd ",o||"Sin direcci\xf3n"]}),(0,Z.jsxs)("div",{className:"property-price",children:["\ud83d\udcb0 ",l?"$ ".concat(Number(l).toLocaleString("es-CO")):"Sin precio"]}),(0,Z.jsxs)("div",{className:"property-details",children:[(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"ID Propiedad:"})," ",c]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"C\xf3digo interno:"})," ",u||"N/A"]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"A\xf1o construcci\xf3n:"})," ",d||"N/A"]})]}),p&&(0,Z.jsxs)("div",{className:"property-owner",children:[(0,Z.jsx)("h3",{children:"\ud83d\udc64 Propietario"}),p.photo?(0,Z.jsx)("img",{src:"data:image/jpeg;base64,".concat(p.photo),alt:p.name,className:"owner-photo",loading:"lazy"}):(0,Z.jsx)("div",{className:"no-image",children:"Sin foto"}),(0,Z.jsx)("p",{className:"owner-name",children:p.name||"Nombre no disponible"}),(0,Z.jsx)("p",{children:p.address||"Sin direcci\xf3n"}),(0,Z.jsxs)("p",{children:["\ud83c\udf82 ",v]})]}),(0,Z.jsxs)("div",{className:"property-traces",children:[(0,Z.jsx)("h3",{children:"\ud83d\udcc4 Historial de transacciones"}),h.length>0?h.map((e,a)=>(0,Z.jsxs)("div",{className:"trace-card",children:[(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"Fecha:"})," ",e.dateSale||"N/A"]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"Nombre:"})," ",e.name||"N/A"]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"Valor:"})," $ ",Number(e.value||0).toLocaleString("es-CO")]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"Impuesto:"})," ",Number(e.tax||0).toLocaleString("es-CO")," %"]})]},a)):(0,Z.jsx)("p",{className:"no-traces",children:"No hay historial de transacciones."})]}),(0,Z.jsx)(Fe,{id:"buttonBack",label:"\u2190 Regresar",onClick:()=>{var r;null!==(r=a.state)&&void 0!==r&&r.from?e(a.state.from,{state:{pagination:a.state.pagination,filters:a.state.filters}}):e("/")},"arial-label":"button back"})]})]})})},Oe="/api/auth/login".trim(),Ue=()=>{const e=(0,L.Zp)(),a=(0,t.wA)(),[r,i]=(0,O.useState)({email:"",password:""}),[n,s]=(0,O.useState)(!1),o=e=>{const{name:a,value:r}=e.target;i(e=>(0,l.A)((0,l.A)({},e),{},{[a]:r}))};return(0,Z.jsx)(xe.A,{className:"login-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",p:2},children:(0,Z.jsxs)(Se.A,{elevation:3,className:"login-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Z.jsx)($,{title:"Iniciar sesi\xf3n"}),(0,Z.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Z.jsx)(K.A,{label:"Correo electr\xf3nico",name:"email",type:"email",variant:"outlined",value:r.email,onChange:o,fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(ke.MrL,{color:Q.oD,size:20})})}}),(0,Z.jsx)(K.A,{label:"Contrase\xf1a",name:"password",type:"password",variant:"outlined",value:r.password,onChange:o,fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(V.F5$,{color:Q.oD,size:18})})}}),(0,Z.jsx)(je.A,{id:"loginButton",variant:"contained",color:n?"secondary":"primary",onClick:async()=>{const{email:t,password:i}=r;var n;if(t&&i)try{s(!0);const r=await a((n={email:t,password:i},async e=>{var a;const r=await(0,R.errorWrapper)(B.post(Oe,n));if(!r.ok)return{ok:!1,error:r.error};const t=(null===(a=r.data)||void 0===a?void 0:a.data)||{},i=t.user||{},s=t.accessToken||t.token||"",o=t.refreshToken||"";return s?(C(s),o&&C(o,"refreshToken"),e(p({token:s,user:i})),null!==i&&void 0!==i&&i.id&&sessionStorage.setItem("userId",i.id),{ok:!0,user:i,accessToken:s,refreshToken:o}):{ok:!1,error:{message:"Token no recibido del servidor"}}}));var o;if(!r.ok)return void ne().fire({text:(null===(o=r.error)||void 0===o?void 0:o.message)||"Credenciales inv\xe1lidas o servidor no disponible",icon:"error"});e("/home",{replace:!0})}catch(l){console.error(" Error en login:",l),ne().fire({text:"Ocurri\xf3 un error al iniciar sesi\xf3n",icon:"error"})}finally{s(!1)}else ne().fire({text:"Por favor, completa todos los campos",icon:"warning"})},disabled:n,sx:{borderRadius:2,textTransform:"none",py:1.2},children:n?"Ingresando...":"Ingresar"}),(0,Z.jsx)(je.A,{id:"registerButton",variant:"outlined",color:"secondary",onClick:()=>e("/register"),sx:{borderRadius:2,textTransform:"none",py:1.2},children:"Crear cuenta"}),(0,Z.jsx)(je.A,{id:"forgotPasswordButton",variant:"text",onClick:()=>e("/password-recover"),sx:{color:Q.eq,textTransform:"none",fontWeight:500,fontSize:"0.95rem !important",mt:1,"&:hover":{color:"#000"}},children:"\xbfOlvidaste tu contrase\xf1a?"}),(0,Z.jsx)(je.A,{id:"forgotPasswordButton",variant:"text",onClick:()=>e("/index"),sx:{color:Q.eq,textTransform:"none",fontWeight:500,fontSize:"0.95rem !important","&:hover":{color:"#000"}},children:"\u2190 Volver al Inicio"})]})]})})},Ye="/api/auth/register".trim(),Ze=()=>{const e=(0,L.Zp)(),[a,r]=(0,O.useState)({name:"",email:"",password:""}),[t,i]=(0,O.useState)(!1),n=e=>{const{name:a,value:t}=e.target;r(e=>(0,l.A)((0,l.A)({},e),{},{[a]:t}))};return(0,Z.jsx)(xe.A,{className:"register-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",p:2},children:(0,Z.jsxs)(Se.A,{elevation:3,className:"register-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Z.jsx)($,{title:"Crear cuenta"}),(0,Z.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Z.jsx)(K.A,{label:"Nombre",name:"name",variant:"outlined",value:a.name,onChange:n,fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(V.JXP,{color:Q.oD})})}}),(0,Z.jsx)(K.A,{label:"Correo electr\xf3nico",name:"email",type:"email",variant:"outlined",value:a.email,onChange:n,fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(V.Yh2,{color:Q.oD})})}}),(0,Z.jsx)(K.A,{label:"Contrase\xf1a",name:"password",type:"password",variant:"outlined",value:a.password,onChange:n,fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(V.F5$,{color:Q.oD})})}}),(0,Z.jsx)(je.A,{id:"registerButton",variant:"contained",color:t?"secondary":"primary",onClick:async()=>{const{name:r,email:t,password:n}=a;if(r&&t&&n)try{i(!0);const a=await B.post(Ye,{name:r,email:t,password:n});a.status>=200&&a.status<300&&(ne().fire({title:"Registro exitoso",icon:"success",timer:1500,showConfirmButton:!1}),e("/login",{replace:!0}))}catch(d){var s,o,l;console.error(" Error en registro:",(null===(s=d.response)||void 0===s?void 0:s.data)||d.message);const e=null===(o=d.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.errors;let a="";if(e&&"object"===typeof e){if(console.log("errors: ",e),a='<ul style="padding-left: 20px; text-align: left; margin: 0;">',Array.isArray(e))for(const r of e)a+='<li style="margin-bottom: 6px; color: #d33;">'.concat(r,"</li>");a+="</ul>"}else a='<span style="color: #d33;">Ocurri\xf3 un error inesperado. Intenta nuevamente.</span>';ne().fire({html:a,title:"Error",icon:"error",confirmButtonText:"Aceptar",customClass:{popup:"home-swal-popup",confirmButton:"home-accept-btn"}})}finally{i(!1)}else ne().fire({text:"Por favor, completa todos los campos",icon:"warning"})},disabled:t,sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"register button",children:t?"Registrando...":"Crear cuenta"}),(0,Z.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>e("/login"),sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"cancel button",children:"Cancelar"})]})]})})},He="/api/password/recover".trim(),Ve=()=>{const e=(0,L.Zp)(),[a,t]=(0,O.useState)(""),[i,n]=(0,O.useState)(!1);return(0,Z.jsx)(xe.A,{className:"recover-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",padding:2},children:(0,Z.jsxs)(Se.A,{elevation:3,className:"recover-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Z.jsx)($,{title:"Recuperar Contrase\xf1a"}),(0,Z.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Z.jsx)(K.A,{label:"Correo electr\xf3nico",type:"email",variant:"outlined",value:a,onChange:e=>t(e.target.value),fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(V.Yh2,{color:Q.oD,size:20})})}}),(0,Z.jsx)(je.A,{id:"sendButton",variant:"contained",color:i?"secondary":"primary",onClick:async()=>{if(a)try{n(!0);const{errorWrapper:t}=await Promise.resolve().then(r.bind(r,2589)),{ok:i,data:s,error:o}=await t(B.post("".concat(He),{email:a}),{unwrap:!1});if(i){null===s||void 0===s||s.message;ne().fire({title:"Correo enviado",icon:"success",confirmButtonColor:"#107ACC"}),e("/index")}else{const e=(null===o||void 0===o?void 0:o.message)||"No se pudo enviar el correo.";ne().fire({title:"Error",text:e,icon:"error",confirmButtonColor:"#C00F0C"})}}catch(t){ne().fire({title:"Error",text:"No se pudo enviar el correo.",icon:"error",confirmButtonColor:"#C00F0C"})}finally{n(!1)}},disabled:i,sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"send button",children:i?"Enviando...":"Enviar enlace"}),(0,Z.jsx)(je.A,{id:"cancelutton",variant:"outlined",color:"secondary",onClick:()=>e("/login"),sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"send button",children:"Cancelar"}),(0,Z.jsx)(ge.A,{onClick:()=>e("/login"),sx:{color:Q.eq,fontFamily:"Montserrat",fontSize:"0.95rem",fontWeight:"600",mt:4,cursor:"pointer","&:hover":{color:"#000 !important",textDecoration:"none !important"}},children:"\u2190 Volver al inicio de sesi\xf3n"})]})]})})},Xe="/api/password/update".trim(),Ge=()=>{const e=(0,L.Zp)(),{token:a}=(0,L.g)(),[r,t]=(0,O.useState)(""),[i,n]=(0,O.useState)(!1);return(0,Z.jsx)(xe.A,{className:"reset-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",padding:2},children:(0,Z.jsxs)(Se.A,{elevation:3,className:"reset-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Z.jsx)($,{title:"Crear Nueva contrase\xf1a"}),(0,Z.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Z.jsx)(K.A,{label:"Nueva contrase\xf1a",type:"password",variant:"outlined",value:r,onChange:e=>t(e.target.value),fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(Re.A,{position:"start",children:(0,Z.jsx)(V.F5$,{color:"#107ACC",size:20})})}}),(0,Z.jsx)(je.A,{id:"confirmButton",variant:"contained",color:i?"secondary":"primary",onClick:async()=>{try{const t=await B.patch("".concat(Xe),{token:a,newPassword:r});t.status>=200&&t.status<300&&(ne().fire({title:"Contrase\xf1a actualizada",icon:"success",confirmButtonColor:"#107ACC"}),e("/login"))}catch(s){var t,i,n;ne().fire({title:"Error",text:(null===(t=s.response)||void 0===t||null===(i=t.data)||void 0===i||null===(n=i.error)||void 0===n?void 0:n.message)||"No se pudo actualizar la contrase\xf1a.",icon:"error",confirmButtonColor:"#C00F0C"})}},disabled:i,sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"confirm button",children:i?"Enviando...":"Confirmar"}),(0,Z.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>e("/login"),sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"cancel button",children:"Cancelar"})]})]})})},Je=e=>{let{text:a="",color:r="#000"}=e;return(0,Z.jsx)("div",{className:"label",style:{color:r},children:(0,Z.jsx)("span",{children:a})})},$e=["https://res.cloudinary.com/brickandbatten/images/c_scale,w_1157,h_422,dpr_1.6500000953674316/f_auto,q_auto/v1716481720/wordpress_assets/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A.jpg?_i=AA","https://plus.unsplash.com/premium_photo-1661488387936-daf401be9cb7?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1460","https://www.intreasso.org/wp-content/uploads/elegir-un-agente-inmobiliario-_intreasso.jpg"],Ke=[{icon:(0,Z.jsx)(V.V5Y,{}),title:"Compra y venta",description:"Te ayudamos a comprar y vender propiedades de manera segura."},{icon:(0,Z.jsx)(V.p45,{}),title:"Asesor\xeda personalizada",description:"Nuestro equipo experto te acompa\xf1a en cada paso."},{icon:(0,Z.jsx)(V.usP,{}),title:"Propiedades exclusivas",description:"Accede a inmuebles \xfanicos en las mejores ubicaciones."},{icon:(0,Z.jsx)(V.ARf,{}),title:"Gesti\xf3n de alquileres",description:"Administramos tus propiedades para maximizar rentabilidad."}],Qe=()=>{const e=(0,L.Zp)(),[a,r]=(0,O.useState)(0);(0,O.useEffect)(()=>{const e=setInterval(()=>{r(e=>(e+1)%$e.length)},4e3);return()=>clearInterval(e)},[]);return(0,Z.jsx)("div",{className:"aboutUs-container",children:(0,Z.jsxs)("div",{className:"aboutUs-form aboutUs-content",children:[(0,Z.jsx)($,{title:"Nosotros"}),(0,Z.jsxs)("div",{className:"aboutUs-slider",children:[$e.map((e,r)=>(0,Z.jsx)("img",{src:e,alt:"Propiedad ".concat(r+1),className:r===a?"active":""},r)),(0,Z.jsx)("button",{className:"slider-arrow left",onClick:()=>r(e=>(e-1+$e.length)%$e.length),children:(0,Z.jsx)(V.irw,{})}),(0,Z.jsx)("button",{className:"slider-arrow right",onClick:()=>r(e=>(e+1)%$e.length),children:(0,Z.jsx)(V.fOo,{})}),(0,Z.jsx)("div",{className:"slider-indicators",children:$e.map((e,t)=>(0,Z.jsx)("span",{className:"indicator ".concat(t===a?"active":""),onClick:()=>r(t)},t))})]}),(0,Z.jsxs)("div",{className:"aboutUs-content",children:[(0,Z.jsx)("p",{children:"Somos una inmobiliaria pensada para ti, te ofrecemos propiedades exclusivas y asesor\xeda personalizada."}),(0,Z.jsx)(Je,{text:"\xa1Tu hogar ideal te espera!"})]}),(0,Z.jsxs)("div",{className:"aboutUs-services",children:[(0,Z.jsx)("h3",{children:"Nuestros Servicios"}),(0,Z.jsx)("div",{className:"services-grid",children:Ke.map((e,a)=>(0,Z.jsxs)("div",{className:"service-card",children:[(0,Z.jsx)("div",{className:"service-icon",children:e.icon}),(0,Z.jsx)("h4",{children:e.title}),(0,Z.jsx)("p",{children:e.description})]},a))})]}),(0,Z.jsxs)("div",{className:"aboutUs-buttons",children:[(0,Z.jsx)(Fe,{id:"navigateProperties",label:"Ver Propiedades",onClick:()=>e("/index")}),(0,Z.jsx)(Fe,{id:"navigateContact",label:"Cont\xe1ctanos",onClick:()=>e("/contact")})]})]})})},ea=()=>(0,Z.jsxs)("div",{className:"contact-container",children:[(0,Z.jsx)($,{title:"Nuestro Equipo"}),(0,Z.jsxs)("p",{className:"contact-subtitle",children:["Conoce al equipo detr\xe1s de ",(0,Z.jsx)("strong",{children:"Real Estate"}),", siempre listos para ayudarte a encontrar tu nuevo hogar."]}),(0,Z.jsx)("div",{className:"contact-cards",children:[{name:"Juan Fernando Mu\xf1oz",email:"juanferm0410@gmail.com",phone:"+57 3117863643",image:"https://randomuser.me/api/portraits/men/41.jpg"},{name:"Mar\xeda Camila Torres",email:"mariacamila@gmail.com",phone:"+57 3205542187",image:"https://randomuser.me/api/portraits/women/45.jpg"},{name:"Laura Mart\xednez",email:"lauramartinez@gmail.com",phone:"+57 3157749021",image:"https://randomuser.me/api/portraits/women/46.jpg"},{name:"Valentina L\xf3pez",email:"valentina.lopez@gmail.com",phone:"+57 3109982311",image:"https://randomuser.me/api/portraits/women/47.jpg"},{name:"Santiago Henao",email:"shr09@gmail.com",phone:"+57 3188511479",image:"https://randomuser.me/api/portraits/men/42.jpg"},{name:"Sof\xeda Ram\xedrez",email:"sofia.ramirez@gmail.com",phone:"+57 3168834402",image:"https://randomuser.me/api/portraits/women/48.jpg"}].map((e,a)=>(0,Z.jsxs)("div",{className:"contact-card",children:[(0,Z.jsx)("div",{className:"contact-image-wrapper",children:(0,Z.jsx)("img",{src:e.image,alt:e.name,className:"contact-photo"})}),(0,Z.jsxs)("div",{className:"contact-info",children:[(0,Z.jsx)("h3",{children:e.name}),(0,Z.jsx)("p",{children:e.email}),(0,Z.jsxs)("span",{className:"contact-phone",children:[(0,Z.jsx)("span",{className:"prefix",children:"+57"})," ",e.phone.replace("+57 ","")]})]})]},a))})]});const aa="/realestate.app".trim(),ra=()=>(0,Z.jsxs)(L.Kd,{basename:aa,children:[(0,Z.jsx)(X,{}),(0,Z.jsx)(H,{}),(0,Z.jsxs)(L.BV,{children:[(0,Z.jsx)(L.qh,{path:"*",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(We,{})})}),(0,Z.jsx)(L.qh,{path:"/index/*",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(We,{})})}),(0,Z.jsx)(L.qh,{path:"/property/:propertyId",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(Le,{})})}),(0,Z.jsx)(L.qh,{path:"/login/*",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(Ue,{})})}),(0,Z.jsx)(L.qh,{path:"/register",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(Ze,{})})}),(0,Z.jsx)(L.qh,{path:"/password-recover",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(Ve,{})})}),(0,Z.jsx)(L.qh,{path:"/password-reset/:token",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(Ge,{})})}),(0,Z.jsx)(L.qh,{path:"/about-us",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(Qe,{})})}),(0,Z.jsx)(L.qh,{path:"/contact",element:(0,Z.jsx)(_e,{children:(0,Z.jsx)(ea,{})})}),(0,Z.jsx)(L.qh,{path:"/*",element:(0,Z.jsx)(Te,{children:(0,Z.jsx)(qe,{})})})]})]});const ta=function(){return(0,Z.jsx)(t.Kq,{store:F,children:(0,Z.jsx)(i.Q,{loading:(0,Z.jsx)("div",{children:"Cargando sesi\xf3n..."}),persistor:M,children:(0,Z.jsx)(ra,{})})})}}}]);
//# sourceMappingURL=879.2066f313.chunk.js.map