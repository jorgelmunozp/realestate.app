{"version":3,"file":"static/js/561.7da78840.chunk.js","mappings":"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","sources":["services/api/errorWrapper.js","services/store/authSlice.js","services/api/config.js","services/auth/token.js","services/auth/session.js","services/api/api.js","services/store/propertySlice.js","services/store/store.js","components/header/Header.js","components/menu/AppMenu.js","routers/RoleRoute.js","components/title/Title.js","components/search/Search.js","components/pagination/Pagination.js","services/auth/roles.js","modules/core/home/Home.js","components/button/AddButton.js","modules/property/service/AddProperty.js","modules/property/mapper/propertyMapper.js","modules/owner/mapper/OwnerMapper.js","modules/propertyTrace/mapper/propertyTraceMapper.js","modules/property/service/EditProperty.js","modules/propertyImage/mapper/propertyImageMapper.js","modules/user/User.js","modules/user/mapper/userMapper.js","modules/user/service/EditUser.js","modules/user/service/ManageUsers.js","routers/DashboardRoutes.js","routers/PublicRoute.js","routers/PrivateRoute.js","modules/core/index/Index.js","components/button/Button.js","modules/property/Property.js","services/fetch/useFetch.js","modules/auth/login/Login.js","modules/auth/register/Register.js","modules/password/recover/PasswordRecover.js","modules/password/reset/PasswordReset.js","components/label/Label.js","modules/core/aboutus/AboutUs.js","modules/core/contact/Contact.js","modules/core/notfound/NotFound.js","routers/AppRouter.js","App.js"],"sourcesContent":["\r\n// Convierte diferentes formatos de errores en un arreglo plano\r\nexport function flattenErrors(e) {\r\n  if (!e) return [];\r\n  if (Array.isArray(e)) return e.filter(Boolean).map(String);\r\n  if (typeof e === \"object\") {\r\n    const out = [];\r\n    for (const [k, v] of Object.entries(e)) {\r\n      if (Array.isArray(v)) out.push(...v.map(String));\r\n      else if (v) out.push(String(v));\r\n    }\r\n    return out;\r\n  }\r\n  return [String(e)];\r\n}\r\n\r\n// Normaliza los errores (FluentValidation / ASP.NET / Custom Wrapper)\r\nexport function normalizeError(error) {\r\n  const res = error?.response;\r\n  const body = res?.data;\r\n  let statusCode = res?.status ?? 0;\r\n  let message = body?.message || body?.detail || res?.statusText || error?.message || \"Error inesperado\";\r\n  let errors = [];\r\n  let data = null;\r\n\r\n  if (body && typeof body === \"object\") {\r\n    const hasWrapper = \"success\" in body || \"statusCode\" in body || \"errors\" in body || \"data\" in body;\r\n\r\n    if (hasWrapper) {\r\n      statusCode = body.statusCode ?? statusCode;\r\n      message = body.message ?? message;\r\n      errors = flattenErrors(body.errors);\r\n      data = body.data ?? null;\r\n      return { success: false, statusCode, message, errors, data };\r\n    }\r\n\r\n    if (body.errors && typeof body.errors === \"object\") {\r\n      errors = flattenErrors(body.errors);\r\n      return { success: false, statusCode, message, errors, data: null };\r\n    }\r\n\r\n    if (body.title || body.detail) {\r\n      message = body.detail || body.title || message;\r\n      errors = flattenErrors(body.errors);\r\n      return { success: false, statusCode, message, errors, data: null };\r\n    }\r\n  }\r\n\r\n  if (!res) {\r\n    return {\r\n      success: false,\r\n      statusCode: 0,\r\n      message: \"No hay respuesta del servidor\",\r\n      errors: [error?.message || \"Network/Timeout\"],\r\n      data: null,\r\n    };\r\n  }\r\n\r\n  return { success: false, statusCode, message, errors, data: null };\r\n}\r\n\r\n// Wrapper universal de errores para Axios\r\nexport async function errorWrapper(promise, { unwrap = false } = {}) {\r\n  try {\r\n    const response = await promise;\r\n    const body = response?.data;\r\n\r\n    // Caso 1: Backend usa ServiceResultWrapper<T>\r\n    if (body && typeof body === \"object\" && \"success\" in body && \"statusCode\" in body) {\r\n      return {\r\n        ok: true,\r\n        success: body.success,\r\n        statusCode: body.statusCode,\r\n        message: body.message,\r\n        data: unwrap ? body.data : body,\r\n        error: null,\r\n      };\r\n    }\r\n\r\n    // Caso 2: Backend devuelve datos directos (sin wrapper)\r\n    return { ok: true, success: true, data: body, message: \"Operacin exitosa\", error: null };\r\n  } catch (err) {\r\n    const friendly = normalizeError(err);\r\n    return { ok: false, ...friendly, error: friendly };\r\n  }\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\n\n// Lee token guardado\nconst storedToken =\n  sessionStorage.getItem(\"token\") || localStorage.getItem(\"token\") || \"\";\n\n// Decodifica usuario desde el JWT\nlet storedUser = null;\nif (storedToken) {\n  try {\n    const base64Payload = storedToken.split(\".\")[1] || \"\";\n    storedUser = JSON.parse(atob(base64Payload));\n  } catch (err) {\n    storedUser = null;\n  }\n}\n\n// estado inicial\nconst initialState = {\n  logged: !!storedToken,\n  token: storedToken,\n  user: storedUser,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    // Mantiene compatibilidad con dispatch(login({...}))\n    login(state, action) {\n      const payload = action.payload || {};\n\n      // puede venir de 2 formas:\n      // a) { token, user: {...} }\n      // b) { id, name, email, role, token }\n      const nextToken = payload.token || state.token;\n\n      state.logged = true;\n      state.token = nextToken;\n\n      if (payload.user) {\n        state.user = payload.user;\n      } else {\n        const { id, name, email, role } = payload;\n        state.user = {\n          ...(state.user || {}),\n          ...(id ? { id } : {}),\n          ...(name ? { name } : {}),\n          ...(email ? { email } : {}),\n          ...(role ? { role } : {}),\n        };\n      }\n\n      // Para persistencia\n      if (nextToken) {\n        sessionStorage.setItem(\"token\", nextToken);\n      }\n    },\n\n    setAuth(state, action) {\n      const payload = action.payload || {};\n      state.logged = true;\n      if (payload.token) {\n        state.token = payload.token;\n        sessionStorage.setItem(\"token\", payload.token);\n      }\n      if (payload.user) {\n        state.user = payload.user;\n      }\n    },\n\n    // USado en EditUser.js\n    updateProfile(state, action) {\n      const changes = action.payload || {};\n      state.user = {\n        ...(state.user || {}),\n        ...changes,\n      };\n    },\n\n    logout(state) {\n      state.logged = false;\n      state.token = \"\";\n      state.user = null;\n      sessionStorage.removeItem(\"token\");\n      localStorage.removeItem(\"token\");\n    },\n  },\n});\n\nexport const { login, logout, updateProfile, setAuth } = authSlice.actions;\nexport default authSlice.reducer;\n","// export const getBaseURL = () => {\n//   const env = process.env.REACT_APP_BACKEND_URL;\n//   if (env && env !== 'undefined' && env !== 'null') return env;\n//   try {\n//     // Permite inyectar base en window en despliegues estticos\n//     if (typeof window !== 'undefined' && window.__API_BASE__) return window.__API_BASE__;\n//   } catch (_) {}\n//   // Fallback: relativo al mismo origen (til si hay proxy /api)\n//   return '';\n// };\n\n\nexport const getBaseURL = () => {\n  const env = process.env.REACT_APP_BACKEND_URL;\n  if (env && env !== \"undefined\" && env !== \"null\") return env.replace(/\\/+$/, \"\");\n  if (typeof window !== \"undefined\" && window.__API_BASE__) return window.__API_BASE__.replace(/\\/+$/, \"\");\n  return \"\";\n};\n\n","export const getToken = (key = 'token', storage = sessionStorage) => {\n  try {\n    return storage.getItem(key) || null;\n  } catch (_) {\n    return null;\n  }\n};\n\nexport const decodeToken = (token) => {\n  if (!token || typeof token !== 'string') return null;\n  const parts = token.split('.');\n  if (parts.length < 2) return null;\n  try {\n    const base64 = parts[1].replace(/-/g, '+').replace(/_/g, '/');\n    const json = decodeURIComponent(\n      atob(base64)\n        .split('')\n        .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n        .join('')\n    );\n    return JSON.parse(json);\n  } catch (_) {\n    return null;\n  }\n};\n\nexport const getTokenPayload = (key = 'token') => {\n  const token = getToken(key);\n  return decodeToken(token);\n};\n\nexport const getUserFromToken = (payload) => {\n  if (!payload || typeof payload !== 'object') return null;\n  const getFirst = (keys) => keys.map((k) => payload[k]).find((v) => v != null);\n\n  const id = getFirst(['sub', 'user_id', 'id']);\n  const name = getFirst([\n    'name',\n    'fullName',\n    'given_name',\n    'username',\n    'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name',\n  ]);\n  const email = getFirst([\n    'email',\n    'preferred_username',\n    'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress',\n  ]);\n  const role = getFirst([\n    'role',\n    'http://schemas.microsoft.com/ws/2008/06/identity/claims/role',\n  ]) || (Array.isArray(payload.roles) ? payload.roles[0] : undefined);\n\n  return { id, name, email, role };\n};\n\nexport const getTokenExp = (payload) => {\n  const p = payload || getTokenPayload('token');\n  if (!p || typeof p !== 'object') return null;\n  const exp = typeof p.exp === 'number' ? p.exp : null; // seconds since epoch\n  return exp ?? null;\n};\n\nexport const isTokenExpired = (payload, skewSeconds = 0) => {\n  const exp = getTokenExp(payload);\n  if (!exp) return true;\n  const nowSec = Math.floor(Date.now() / 1000);\n  return nowSec >= (exp - skewSeconds);\n};\n\nexport const isTokenNearExpiry = (payload, skewSeconds = 60) => {\n  const exp = getTokenExp(payload);\n  if (!exp) return true;\n  const nowSec = Math.floor(Date.now() / 1000);\n  return (exp - nowSec) <= skewSeconds;\n};\n\nexport const saveToken = (token, key = 'token', storage = sessionStorage) => {\n  try { storage.setItem(key, token); } catch (_) {}\n};\n\nexport const clearToken = (key = 'token', storage = sessionStorage) => {\n  try { storage.removeItem(key); } catch (_) {}\n};\n","import axios from \"axios\";\nimport { getBaseURL } from \"../api/config\";\nimport { store } from \"../store/store\";\nimport { logout, login } from \"../store/authSlice\";\nimport { getToken, getTokenPayload, isTokenNearExpiry, saveToken, clearToken } from \"./token\";\n\nlet refreshPromise = null;\nconst interceptorMap = new WeakMap();\n\nconst getRefreshEndpoint = () => process.env.REACT_APP_ENDPOINT_TOKEN_REFRESH;\nconst redirectToLogin = () => {\n  try {\n    const here = (window.location?.pathname || \"\") + (window.location?.search || \"\");\n    if (here && !here.startsWith(\"/login\")) sessionStorage.setItem(\"lastPath\", here);\n  } catch {}\n  try { store.dispatch(logout()); } catch {}\n  clearToken();\n  try { window.location.replace(\"/login\"); } catch {}\n};\n\nexport const refreshToken = async () => {\n  if (refreshPromise) return refreshPromise;\n\n  const endpoint = getRefreshEndpoint();\n  const baseURL = getBaseURL();\n  const currentToken = getToken(\"token\");\n  if (!endpoint || !currentToken) return null;\n\n  const client = axios.create({ baseURL, timeout: 15000 });\n\n  refreshPromise = client.post(endpoint, {}, { headers: { Authorization: `Bearer ${currentToken}` } })\n    .then((res) => {\n      const newToken = res?.data?.token ?? res?.data?.accessToken ?? res?.data?.data?.accessToken ?? null;\n      if (newToken) {\n        saveToken(newToken);\n        const user = store.getState()?.auth?.user || {};\n        store.dispatch(login({ ...user, token: newToken }));\n      }\n      return newToken;\n    })\n    .catch((err) => {\n      clearToken();\n      try { store.dispatch(logout()); } catch {}\n      redirectToLogin();\n      throw err;\n    })\n    .finally(() => { refreshPromise = null; });\n\n  return refreshPromise;\n};\n\nexport const ensureFreshToken = async (skewSeconds = 60) => {\n  const payload = getTokenPayload(\"token\");\n  if (!payload) return null;\n  if (isTokenNearExpiry(payload, skewSeconds)) {\n    try { return await refreshToken(); } catch { return null; }\n  }\n  return getToken(\"token\");\n};\n\nexport const installAuthInterceptors = (api) => {\n  if (!api) return null;\n  const existing = interceptorMap.get(api);\n  if (existing) return existing;\n\n  const reqId = api.interceptors.request.use(async (config) => {\n    if (config.__skipAuth) return config;\n    try {\n      await ensureFreshToken();\n      const token = getToken(\"token\");\n      if (token) {\n        config.headers = config.headers || {};\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch {}\n    return config;\n  });\n\n  const resId = api.interceptors.response.use(\n    (resp) => resp,\n    async (error) => {\n      const original = error?.config || {};\n      if (error?.response?.status === 401 && !original.__retry) {\n        original.__retry = true;\n        try {\n          const newToken = await refreshToken();\n          if (newToken) {\n            original.headers = original.headers || {};\n            original.headers.Authorization = `Bearer ${newToken}`;\n            return api(original);\n          }\n        } catch {}\n      }\n      if (error?.response?.status === 401) {\n        try { store.dispatch(logout()); } catch {}\n        redirectToLogin();\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  const ids = { reqId, resId };\n  interceptorMap.set(api, ids);\n  return ids;\n};\n\nexport const uninstallAuthInterceptors = (api) => {\n  const ids = interceptorMap.get(api);\n  if (!ids || !api) return;\n  try { api.interceptors.request.eject(ids.reqId); } catch {}\n  try { api.interceptors.response.eject(ids.resId); } catch {}\n  interceptorMap.delete(api);\n};\n\n// Opcional para tests\nexport const __testing = {\n  _resetRefresh: () => { refreshPromise = null; },\n  _installed: (api) => interceptorMap.get(api)\n};\n","import axios from \"axios\";\nimport { installAuthInterceptors } from \"../auth/session\";\nimport { getBaseURL } from \"./config\";\n\n// Instancia global de Axios\nexport const api = axios.create({\n  baseURL: getBaseURL(),          // Toma automticamente REACT_APP_API_BASE_URL del .env\n  timeout: 20000,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\n// Interceptores de autenticacin\ninstallAuthInterceptors(api); // Instala lgica de auto-refresh\n\nexport default api;\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { api } from '../../services/api/api';\nimport { errorWrapper } from '../../services/api/errorWrapper';\n\nconst ENDPOINT = process.env.REACT_APP_ENDPOINT_PROPERTY;\n\nexport const fetchProperties = createAsyncThunk(\n  'property/fetchAll',\n  async ({\n    page = 1,\n    limit = 6,\n    name = '',\n    address = '',\n    minPrice = '',\n    maxPrice = '',\n    refresh = false\n  } = {}) => {\n    if (!ENDPOINT) throw new Error('Falta configuracin: REACT_APP_ENDPOINT_PROPERTY');\n\n    const params = new URLSearchParams();\n    params.append('page', page);\n    params.append('limit', limit);\n    if (name && name.trim() !== '') params.append('name', name.trim());\n    if (address && address.trim() !== '') params.append('address', address.trim());\n    if (minPrice !== '' && minPrice !== null) params.append('minPrice', minPrice);\n    if (maxPrice !== '' && maxPrice !== null) params.append('maxPrice', maxPrice);\n    if (refresh) params.append('refresh', 'true');\n\n    const url = `${ENDPOINT}?${params.toString()}`;\n\n    const res = await errorWrapper(api.get(url, { __skipAuth: true }), { unwrap: false });\n    if (!res.ok) throw res.error;\n\n    const body = res.data || {};\n    let items = [];\n    let meta = {};\n\n    if (body?.data?.data && Array.isArray(body.data.data)) {\n      items = body.data.data;\n      meta = body.data.meta || {};\n    } else if (Array.isArray(body?.data)) {\n      items = body.data;\n      meta = body.meta || {};\n    } else if (Array.isArray(body)) {\n      items = body;\n      meta = {};\n    }\n\n    const finalMeta = meta || { page, limit, total: items.length, last_page: 1 };\n\n    const normalized = items.map((p) => ({\n      idProperty: p.idProperty ?? p.IdProperty ?? p.id ?? '',\n      name: p.name ?? p.Name ?? '',\n      address: p.address ?? p.Address ?? '',\n      price: Number(p.price ?? p.Price ?? 0),\n      year: Number(p.year ?? p.Year ?? 0),\n      codeInternal: Number(p.codeInternal ?? p.CodeInternal ?? 0),\n      idOwner: p.idOwner ?? p.IdOwner ?? '',\n      image: p.image ?? p.Image ?? null,\n      owner: p.owner ?? null,\n      traces: p.traces ?? [],\n    }));\n\n    return {\n      items: normalized,\n      meta: finalMeta,\n      filters: {                    // guarda filtros actuales en el state\n        name: name?.trim() || '',\n        address: address?.trim() || '',\n        minPrice: minPrice || '',\n        maxPrice: maxPrice || '',\n      }\n    };\n  }\n);\n\nexport const createProperty = createAsyncThunk(\n  'property/create',\n  async (propertyData) => {\n    if (!ENDPOINT) throw new Error('Falta configuracin: REACT_APP_ENDPOINT_PROPERTY');\n    const res = await errorWrapper(api.post(ENDPOINT, propertyData));\n    return res.data?.data ?? res.data;\n  }\n);\n\nconst propertySlice = createSlice({\n  name: 'property',\n  initialState: {\n    properties: [],\n    meta: { page: 1, limit: 6, total: 0, last_page: 1 },\n    loading: false,\n    error: null,\n    filters: {\n      name: '',\n      address: '',\n      minPrice: '',\n      maxPrice: '',\n    },\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchProperties.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchProperties.fulfilled, (state, action) => {\n        state.loading = false;\n        state.properties = action.payload.items || [];\n        state.meta = action.payload.meta || state.meta;\n        state.filters = action.payload.filters || state.filters;\n      })\n      .addCase(fetchProperties.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message;\n      })\n      .addCase(createProperty.fulfilled, (state, action) => {\n        if (action.payload) state.properties.push(action.payload);\n      });\n  },\n});\n\nexport default propertySlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport createWebStorage from \"redux-persist/lib/storage/createWebStorage\";\nimport authReducer from \"./authSlice\";\nimport propertyReducer from \"./propertySlice\";\n\n//useFetch Configuracin del almacenamiento en sesin (sessionStorage)\nconst createSessionStorage = () => {\n  try {\n    return createWebStorage(\"session\");\n  } catch {\n    // Fallback para entornos sin window (SSR o pruebas)\n    return {\n      getItem: () => Promise.resolve(null),\n      setItem: (_key, value) => Promise.resolve(value),\n      removeItem: () => Promise.resolve(),\n    };\n  }\n};\nconst sessionStorage = createSessionStorage();\n\n//useFetch Configuracin de persistencia solo para auth\nconst persistConfig = {\n  key: \"auth\",\n  storage: sessionStorage,\n  whitelist: [\"user\", \"token\", \"logged\"], // persistimos solo lo necesario\n};\n\n// Reducer persistente para autenticacin\nconst persistedAuthReducer = persistReducer(persistConfig, authReducer);\n\n//useFetch Store principal\nexport const store = configureStore({\n  reducer: {\n    auth: persistedAuthReducer,\n    property: propertyReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false, // evita warnings con redux-persist\n    }),\n});\n\n//useFetch Persistor (necesario para <PersistGate> en tu App.jsx)\nexport const persistor = persistStore(store);\n","import { TbSmartHome } from \"react-icons/tb\";\r\nimport './Header.scss';\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header-content\">\r\n        <TbSmartHome className=\"header-icon\" size={52.5} strokeWidth={2.5} />\r\n        <h1 className=\"header-title\">\r\n          Real<span className=\"header-letter\">Estate</span>\r\n        </h1>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import { useMemo, useCallback, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '../../services/store/authSlice.js';\r\nimport { slide as Menu } from 'react-burger-menu';\r\nimport { Header } from '../header/Header.js';\r\nimport { FiHome, FiUser, FiUsers, FiPhone, FiLogOut, FiUpload, FiEdit } from 'react-icons/fi';\r\nimport { getTokenPayload, getUserFromToken, isTokenExpired } from '../../services/auth/token';\r\nimport './AppMenu.scss';\r\n\r\nexport const AppMenu = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector(s => s.auth.user);\r\n\r\n  const { logged, role } = useMemo(() => {\r\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token') || '';\r\n    if (!token && !user) return { logged: false, role: '' };\r\n    try {\r\n      const payload = token ? getTokenPayload(token) : null;\r\n      const tokenUser = payload ? getUserFromToken(payload) : null;\r\n      const currentRole = (user?.role || tokenUser?.role || '').toLowerCase();\r\n      const valid = payload ? !isTokenExpired(payload) : Boolean(user);\r\n      return { logged: Boolean(valid && (user || tokenUser)), role: currentRole };\r\n    } catch { return { logged: Boolean(user), role: (user?.role || '').toLowerCase() }; }\r\n  }, [user]);\r\n\r\n  // Control del men para poder cerrarlo al navegar\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const closeMenu = useCallback(() => setMenuOpen(false), []);\r\n  const syncMenu = useCallback(s => setMenuOpen(s.isOpen), []);\r\n\r\n  const go = useCallback((whenIn, whenOut) => { navigate(logged ? whenIn : whenOut); closeMenu(); }, [logged, navigate, closeMenu]);\r\n  const goUsers = useCallback(() => { navigate('/users'); closeMenu(); }, [navigate, closeMenu]);\r\n  const goLogin = useCallback(() => { navigate('/login'); closeMenu(); }, [navigate, closeMenu]);\r\n  const goAddProperty = useCallback(() => { navigate('/add-property'); closeMenu(); }, [navigate, closeMenu]);\r\n\r\n  const handleLogout = useCallback(() => {\r\n    dispatch(logout());\r\n    try {\r\n      localStorage.removeItem('token');\r\n      sessionStorage.removeItem('token');\r\n      sessionStorage.removeItem('userId');\r\n      sessionStorage.removeItem('refreshToken');\r\n    } catch {}\r\n    navigate('/', { replace: true });\r\n    closeMenu();\r\n  }, [dispatch, navigate, closeMenu]);\r\n\r\n  return (\r\n    <Menu left isOpen={menuOpen} onStateChange={syncMenu} disableAutoFocus>\r\n      <Header />\r\n      <hr className=\"bm-hr\" />\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={() => go('/home', '/index')}>\r\n        <FiHome className='menu-item-icon' /> Inmuebles\r\n      </button>\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={() => go('/add-property', '/about-us')}>\r\n        {logged ? (<><FiUpload className='menu-item-icon' /> Registrar inmueble</>) : (<><FiUser className='menu-item-icon' /> Nosotros</>)}\r\n      </button>\r\n\r\n      {logged && role === 'admin' && (\r\n        <button type=\"button\" className=\"menu-item\" onClick={goUsers}>\r\n          <FiUsers className='menu-item-icon' /> Usuarios\r\n        </button>\r\n      )}\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={() => go('/profile', '/contact')}>\r\n        {logged ? (<><FiUser className='menu-item-icon' /> Perfil</>) : (<><FiPhone className='menu-item-icon' /> Contacto</>)}\r\n      </button>\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={logged ? handleLogout : goLogin}>\r\n        <FiLogOut className='menu-item-icon' /> {logged ? 'Cerrar sesin' : 'Ingresar'}\r\n      </button>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default AppMenu;\r\n","import { Navigate, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getTokenPayload, getUserFromToken } from '../services/auth/token';\n\nexport const RoleRoute = ({ element, allowed = [], redirectTo = '/home' }) => {\n  const user = useSelector((state) => state.auth.user);\n  const { pathname, search } = useLocation();\n\n  const payload = getTokenPayload('token');\n  const tokenUser = getUserFromToken(payload) || {};\n\n  const rawRole = user?.role ?? tokenUser?.role;\n  const userRoles = Array.isArray(rawRole) ? rawRole : (rawRole ? [rawRole] : []);\n  const allowedRoles = Array.isArray(allowed) ? allowed : [allowed];\n\n  const toKey = (v) => (v == null ? '' : String(v).toLowerCase());\n  const userKeys = userRoles.map(toKey);\n  const allowedKeys = allowedRoles.map(toKey);\n\n  sessionStorage.setItem('lastPath', pathname + search);\n\n  const isAllowed = allowedKeys.length === 0\n    ? true\n    : allowedKeys.some((r) => userKeys.includes(r));\n\n  return isAllowed ? element : <Navigate to={redirectTo} replace />;\n};\n\nexport default RoleRoute;\n","import './Title.scss';\r\n\r\nexport const Title = ({ title='' }) => {\r\n  return (\r\n    <div className=\"title\"><h1>{ title }</h1></div>\r\n  )\r\n}\r\n\r\nexport default Title;","import { memo, useEffect, useRef, useState } from \"react\";\nimport { TextField, Button, Box, Paper, MenuItem } from \"@mui/material\";\nimport { FiSearch, FiMapPin, FiDollarSign, FiFilter, FiX, FiRotateCcw } from \"react-icons/fi\";\nimport { MAX_PRICE, secondaryColor, STEP } from \"../../global\";\nimport \"./Search.scss\";\n\nconst formatShort = (v) => (v >= 1_000_000 ? `${Math.round(v / 1_000_000)} M` : `$ ${v.toLocaleString()}`);\n\nexport const Search = ({ filters = {}, onChange, className = \"\" }) => {\n  const didInit = useRef(false);\n  const trackRef = useRef(null);\n  const [name, setName] = useState(filters.name || \"\");\n  const [address, setAddress] = useState(filters.address || \"\");\n  const [min, setMin] = useState(filters.minPrice !== undefined ? Number(filters.minPrice) : 0);\n  const [max, setMax] = useState(filters.maxPrice !== undefined ? Number(filters.maxPrice) : MAX_PRICE);\n  const [open, setOpen] = useState(false);\n  const cleanup = useRef(null);\n\n  useEffect(() => {\n    if (!didInit.current) didInit.current = true;\n    return () => { if (cleanup.current) clearTimeout(cleanup.current); };\n  }, []);\n\n  const isDirty = !!name || !!address || min > 0 || max < MAX_PRICE;\n  const build = () => ({ name, address, minPrice: min, maxPrice: max });\n\n  const apply = () => { if (typeof onChange === \"function\") onChange(build()); setOpen(false); };\n  const clear = () => {\n    setName(\"\"); setAddress(\"\"); setMin(0); setMax(MAX_PRICE);\n    if (typeof onChange === \"function\") onChange({ name: \"\", address: \"\", minPrice: 0, maxPrice: MAX_PRICE });\n  };\n  const toggle = () => setOpen((v) => !v);\n\n  const onMinRange = (val) => {\n    const v = Math.min(Math.max(0, Number(val)), MAX_PRICE);\n    if (v >= max) return;\n    setMin(v);\n  };\n  const onMaxRange = (val) => {\n    const v = Math.min(Math.max(0, Number(val)), MAX_PRICE);\n    if (v <= min) return;\n    setMax(v);\n  };\n\n  // click en la lnea  mueve el handle ms cercano\n  const handleTrackClick = (e) => {\n    if (!trackRef.current) return;\n    const rect = trackRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    let pct = x / rect.width;\n    pct = Math.min(Math.max(pct, 0), 1);\n    let value = Math.round((pct * MAX_PRICE) / STEP) * STEP;\n    const distMin = Math.abs(value - min);\n    const distMax = Math.abs(value - max);\n\n    if (distMin <= distMax) {\n      // mover min\n      let nextMin = Math.min(value, max - STEP);\n      if (nextMin < 0) nextMin = 0;\n      setMin(nextMin);\n    } else {\n      // mover max\n      let nextMax = Math.max(value, min + STEP);\n      if (nextMax > MAX_PRICE) nextMax = MAX_PRICE;\n      setMax(nextMax);\n    }\n  };\n\n  return (\n    <div className={`searchbar ${className}`.trim()}>\n      <button type=\"button\" className={`searchbar-toggle ${open ? \"is-open\" : \"\"}`} onClick={toggle}>\n        <FiFilter className=\"searchbar-icon\" /><span>Filtros</span>\n        {isDirty && <small className=\"searchbar-indicator\">aplicados</small>}\n        {open && <FiX className=\"searchbar-toggle-close\" />}\n      </button>\n\n      <div className={`searchbar-panel ${open ? \"is-open\" : \"\"}`}>\n        <div className=\"searchbar-group\">\n          <div className=\"searchbar-field\">\n            <FiSearch className=\"searchbar-icon\" />\n            <TextField id=\"nameSearch\" type=\"text\" value={name} onChange={(e) => setName(e.target.value)} label=\"Nombre\" aria-label=\"name search input\"/>\n          </div>\n          <div className=\"searchbar-divider\" />\n          <div className=\"searchbar-field\">\n            <FiMapPin className=\"searchbar-icon\" />\n            <TextField id=\"addressSearch\" type=\"text\" value={address} onChange={(e) => setAddress(e.target.value)} label=\"Direccin | sector\" aria-label=\"address search input\"/>\n          </div>\n          <div className=\"searchbar-divider hide-mobile\" />\n          <div className=\"searchbar-field searchbar-price\">\n            <FiDollarSign strokeWidth={2} className=\"searchbar-icon\" />\n            <div className=\"price-slider\" onClick={handleTrackClick}>\n              <div className=\"price-slider-track\" ref={trackRef} />\n              <div className=\"price-slider-range\" style={{ left: `${(min / MAX_PRICE) * 100}%`, right: `${100 - (max / MAX_PRICE) * 100}%` }} />\n              <input id=\"minRangeLimit\" type=\"range\" min=\"0\" max={MAX_PRICE} step={STEP} value={min} onChange={(e) => onMinRange(e.target.value)} aria-label=\"min range limit\"/>\n              <input id=\"maxRangeLimit\" type=\"range\" min=\"0\" max={MAX_PRICE} step={STEP} value={max} onChange={(e) => onMaxRange(e.target.value)} aria-label=\"max range limit\"/>\n              <div className=\"price-slider-labels\">\n                <span>{formatShort(min)}</span>\n                <span>{formatShort(max)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"searchbar-actions\">\n          <button id=\"clearButton\" type=\"button\" className=\"searchbar-clear\" onClick={clear}><FiRotateCcw color={secondaryColor} aria-label=\"clear button\"/><span>Limpiar</span></button>\n          <button id=\"applyButton\" type=\"button\" className=\"searchbar-apply\" onClick={apply}><FiFilter color={secondaryColor} aria-label=\"apply button\" /><span>Aplicar</span></button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Search);\n","import React from \"react\";\nimport { primaryColor } from \"../../global\";\nimport \"./Pagination.scss\";\n\nexport const Pagination = ({ page = 1, lastPage = 1, onPageChange, className = \"pagination\", buttonClassName = \"pagination_btn\", prevLabel = \"Anterior\", nextLabel = \"Siguiente\", disabled = false }) => {\n  const prevDisabled = disabled || page <= 1;\n  const nextDisabled = disabled || page >= lastPage;\n  const lastDisabled = disabled || page >= lastPage;\n\n  const handlePrev = () => { if (!prevDisabled && typeof onPageChange === \"function\") onPageChange(page - 1); };\n  const handleNext = () => { if (!nextDisabled && typeof onPageChange === \"function\") onPageChange(page + 1); };\n  const handleGoLast = () => { if (!lastDisabled && typeof onPageChange === \"function\") onPageChange(lastPage); };\n\n  return (\n    <div className={className}>\n      <button className={buttonClassName} disabled={prevDisabled} onClick={handlePrev} aria-label=\"Anterior\"><span>{prevLabel}</span></button>\n      <span className=\"pagination_info\">\n        Pgina {page} de{\" \"}\n        <button type=\"button\" onClick={handleGoLast} disabled={lastDisabled} aria-label=\"Ir a la ltima pgina\" className=\"pagination_last\">\n          {lastPage}\n        </button>\n      </span>\n      <button className={buttonClassName} disabled={nextDisabled} onClick={handleNext} aria-label=\"Siguiente\"><span>{nextLabel}</span></button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","export const toArray = (raw) => (Array.isArray(raw) ? raw : raw ? [raw] : []);\nexport const norm = (v) => (v == null ? '' : String(v).toLowerCase());\n\n// export const rolesOf = (raw) => toArray(raw).map(norm);\nexport const hasAnyRole = (raw, allowed = []) => {\n  const userRoles = rolesOf(raw);\n  const allowedRoles = toArray(allowed).map(norm);\n  return allowedRoles.length === 0 ? true : allowedRoles.some((r) => userRoles.includes(r));\n};\n\nexport function rolesOf(value){\n  if(!value) return [];\n  if(Array.isArray(value)) return value.map(String).map(s=>s.trim()).filter(Boolean);\n  if(typeof value==='string') return value.split(',').map(s=>s.trim()).filter(Boolean);\n  return [String(value)].filter(Boolean);\n}\n","import { useEffect, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { api } from \"../../../services/api/api\";\r\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\r\nimport { Title } from \"../../../components/title/Title\";\r\nimport { Search } from \"../../../components/search/Search\";\r\nimport { Pagination } from \"../../../components/pagination/Pagination\";\r\nimport { fetchProperties } from \"../../../services/store/propertySlice\";\r\nimport { getTokenPayload, getUserFromToken } from \"../../../services/auth/token\";\r\nimport { rolesOf } from \"../../../services/auth/roles\";\r\nimport Swal from \"sweetalert2\";\r\nimport { FaUserSecret, FaUserTie, FaUser } from \"react-icons/fa6\";\r\nimport { FiPlus, FiEdit2, FiTrash2 } from \"react-icons/fi\";\r\nimport \"./Home.scss\";\r\n\r\nconst propertyEndpoint = process.env.REACT_APP_ENDPOINT_PROPERTY;\r\n\r\nexport const Home = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const propertyState = useSelector((state) => state.property);\r\n  const properties = propertyState?.properties ?? [];\r\n  const loading = propertyState?.loading;\r\n  const meta = propertyState?.meta ?? {};\r\n  const error = propertyState?.error;\r\n  const authUser = useSelector((state) => state.auth.user);\r\n\r\n  // const [filters, setFilters] = useState({ name: \"\", address: \"\" });\r\n  // const [pagination, setPagination] = useState({ last_page: 1, limit: 6, page: 1, total: 0 });\r\n\r\n  const userId = sessionStorage.getItem(\"userId\");\r\n  const payload = getTokenPayload(\"token\");\r\n  const tokenUser = getUserFromToken(payload) || {};\r\n  const roles = rolesOf(authUser?.role ?? tokenUser?.role);\r\n  const role = roles[0] || \"\";\r\n  const isAdmin = role === \"admin\";\r\n  const isEditor = role === \"editor\";\r\n  const canEdit = isEditor || isAdmin;\r\n  const canDelete = isAdmin;\r\n  const firstName = ((authUser?.name || tokenUser?.name || \"\").split(\" \")[0]) || \"\";\r\n  const displayRole = role ? role.charAt(0).toUpperCase() + role.slice(1) : \"\";\r\n\r\n  // Cuando regresa de property restaura la paginacin y los filtros con lo que venga del history\r\n  const [filters, setFilters] = useState(() => location.state?.filters || { name: \"\", address: \"\" });\r\n  const [pagination, setPagination] = useState(() => location.state?.pagination || { last_page: 1, limit: 6, page: 1, total: 0 });\r\n\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      navigate(\"/index\");\r\n      return;\r\n    }\r\n    const needsRefresh = location.state?.refresh === true;\r\n    const { name, address, minPrice, maxPrice } = filters;\r\n    dispatch(fetchProperties({ page: pagination.page, limit: pagination.limit, name, address, minPrice, maxPrice, refresh: needsRefresh }));\r\n    if (needsRefresh) navigate(location.pathname, { replace: true, state: {} });\r\n  }, [ dispatch, navigate, location.pathname, location.state?.refresh, pagination.page, pagination.limit, filters.name, filters.address, filters.minPrice, filters.maxPrice, userId, ]);\r\n\r\n   // Sincroniza history cuando cambien filtros/paginacin\r\n  useEffect(() => {\r\n    const { refresh, ...rest } = location.state || {}; \r\n    navigate(location.pathname, { replace: true, state: { ...rest, pagination, filters } }); \r\n  }, [pagination, filters, navigate, location.pathname]); \r\n\r\n  const handleFiltersChange = (next) => { setFilters(next); setPagination((prev) => ({ ...prev, page: 1 })); };\r\n  \r\n  const handleEditProperty = (propertyId) => navigate(`/edit-property/${propertyId}`, { state: { from: location.pathname, pagination, filters } });\r\n\r\n  // const handleAddProperty = () => navigate(\"/add-property\");\r\n  const handleAddProperty = () => navigate(\"/add-property\", { state: { from: location.pathname, pagination, filters } });\r\n\r\n  const handleDeleteProperty = async (propertyId) => {\r\n    const result = await Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"Deseas eliminar este inmueble?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"S, eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      confirmButtonColor: \"#107ACC\",\r\n      cancelButtonColor: \"#6b7280\",\r\n      background: \"#ffffff\",\r\n      customClass: { popup: \"home-swal-popup\" },\r\n    });\r\n    if (!result.isConfirmed) return;\r\n\r\n    try {\r\n      await errorWrapper(api.delete(`${propertyEndpoint}/${propertyId}`));\r\n      const { name, address, minPrice, maxPrice } = filters;\r\n      await dispatch(fetchProperties({ page: pagination.page, limit: pagination.limit, name, address, minPrice, maxPrice, refresh: true })).unwrap();\r\n      Swal.fire({ title: \"Inmueble Eliminado\", icon: \"success\", confirmButtonColor: \"#107ACC\" });\r\n    } catch {\r\n      Swal.fire(\"Error\", \"No se pudo eliminar la propiedad\", \"error\");\r\n    }\r\n  };\r\n\r\n  const handleChangePage = (newPage) => setPagination((prev) => ({ ...prev, page: newPage }));\r\n\r\n  // fallback\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loader-overlay loader-overlay--home\">\r\n        <div className=\"loader-spinner\"></div>\r\n        <p className=\"loader-text\">Cargando propiedades...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <div className=\"home-content\">\r\n        <div className=\"home-header\">\r\n          <Title title=\"Inmuebles\" />\r\n          <button className=\"home-add-btn\" onClick={handleAddProperty} title=\"Agregar propiedad\"><FiPlus /></button>\r\n        </div>\r\n\r\n        {error && <div className=\"home-error\">{String(error)}</div>}\r\n\r\n        {(firstName || displayRole) && (\r\n          <div className=\"home-meta\">\r\n            <p className=\"home-greeting\">Hola {firstName}</p>\r\n            <p className=\"home-role\">{role === \"admin\" ? <FaUserSecret /> : role === \"editor\" ? <FaUserTie /> : <FaUser />}<span className=\"home-role__label\">{displayRole}</span></p>\r\n          </div>\r\n        )}\r\n\r\n        <Search filters={filters} onChange={handleFiltersChange} />\r\n\r\n        <div className=\"home-grid\">\r\n          {properties.length > 0 ? (\r\n            properties.map((p) => (\r\n              <div key={p.idProperty} className=\"home-property-card\">\r\n                <div className=\"home-property-card-img-wrapper\" onClick={canEdit ? () => handleEditProperty(p.idProperty) : undefined} style={{ cursor: canEdit ? \"pointer\" : \"default\" }} title={canEdit ? \"Editar\" : undefined}>\r\n                  {p.image?.file ? <img className=\"home-property-card-img\" src={`data:image/jpeg;base64,${p.image.file}`} alt={p.name} loading=\"lazy\" /> : <div className=\"no-image\">Sin imagen</div>}\r\n                </div>\r\n                <div className=\"home-property-card-info\">\r\n                  <h1>{p.name}</h1>\r\n                  <p className=\"home-property-price\">${Number(p.price || 0).toLocaleString()} | {p.address}</p>\r\n                </div>\r\n                <div className=\"home-property-card-buttons\">\r\n                  {canEdit && <button className={`btn-edit ${isEditor ? \"editor\" : \"\"} ${isAdmin ? \"admin\" : \"\"}`} title=\"Editar\" onClick={(e) => { e.stopPropagation(); handleEditProperty(p.idProperty); }}><FiEdit2 /></button>}\r\n                  {canDelete && <button className=\"btn-delete\" title=\"Eliminar\" onClick={(e) => { e.stopPropagation(); handleDeleteProperty(p.idProperty); }}><FiTrash2 /></button>}\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p className=\"no-results\">No hay propiedades registradas an</p>\r\n          )}\r\n        </div>\r\n\r\n        <Pagination page={pagination.page} lastPage={meta?.last_page || pagination.last_page} onPageChange={handleChangePage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { memo, useCallback } from 'react';\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport './AddButton.scss';\r\n\r\nexport const AddButton = ({ label='', handleChange, className='' }) => {\r\n  const handleInputChange = useCallback( handleChange, [handleChange]); // depende de handleChange, as no se rompe\r\n    \r\n  return (\r\n    <div className={`add-btn-container ${className}`}>\r\n      <button id=\"addButton\" type=\"button\" onClick={ handleInputChange } className='add-btn-button' aria-label='add button'>\r\n        <div className=\"add-btn-label\"><FiPlus /></div>\r\n        <label className='add-btn-text'>{ label }</label>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(AddButton);","import { useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { api } from \"../../../services/api/api\";\r\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\r\nimport { Title } from \"../../../components/title/Title.js\";\r\nimport { AddButton } from \"../../../components/button/AddButton.js\";\r\nimport { FiTrash2 } from \"react-icons/fi\";\r\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport dayjs from \"dayjs\";\r\nimport { Box, Typography, TextField, Button } from \"@mui/material\";\r\nimport propertyDto from \"../dto/PropertyDto.json\";\r\nimport ownerDto from \"../../owner/dto/OwnerDto.json\";\r\nimport propertyImageDto from \"../../propertyImage/dto/PropertyImageDto.json\";\r\nimport propertyTraceDto from \"../../propertyTrace/dto/PropertyTraceDto.json\";\r\nimport { mapPropertyToDto } from \"../mapper/propertyMapper\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"./AddProperty.scss\";\r\n\r\nexport const AddProperty = () => {\r\n  const navigate = useNavigate();\r\n  const endpoints = {\r\n    property: process.env.REACT_APP_ENDPOINT_PROPERTY,\r\n  };\r\n\r\n  const [itemProperty, setProperty] = useState(propertyDto);\r\n  const [itemOwner, setOwner] = useState(ownerDto);\r\n  const [itemPropertyImage, setPropertyImage] = useState(propertyImageDto);\r\n  const [itemPropertyTrace, setPropertyTrace] = useState([propertyTraceDto]);\r\n  const [creating, setCreating] = useState(false);\r\n\r\n  const toBase64 = useCallback(\r\n    (file) =>\r\n      new Promise((res, rej) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => res(reader.result.split(\",\")[1]);\r\n        reader.onerror = (e) => rej(e);\r\n        reader.readAsDataURL(file);\r\n      }),\r\n    []\r\n  );\r\n\r\n  const clamp = (v) => {\r\n    const n = Number(v);\r\n    return Number.isFinite(n) ? Math.max(0, n) : 0;\r\n  };\r\n\r\n  const handleChange = (e, section = \"property\", index = null) => {\r\n    const { name, value } = e.target;\r\n    if (section === \"traces\") {\r\n      const val = name === \"value\" || name === \"tax\" ? clamp(value) : value;\r\n      setPropertyTrace((prev) => prev.map((t, i) => (i === index ? { ...t, [name]: val } : t)));\r\n    } else if (section === \"owner\") {\r\n      setOwner((prev) => ({ ...prev, [name]: value }));\r\n    } else {\r\n      const val = name === \"price\" || name === \"codeInternal\" ? clamp(value) : value;\r\n      setProperty((prev) => ({ ...prev, [name]: val }));\r\n    }\r\n  };\r\n\r\n  const handleImageChange = async (e, type = \"property\") => {\r\n    if (!e?.target?.files?.[0]) return;\r\n    const file = e.target.files[0];\r\n    const base64 = await toBase64(file);\r\n    const preview = URL.createObjectURL(file);\r\n    if (type === \"owner\") {\r\n      setOwner((prev) => ({ ...prev, photo: base64, ownerPhotoPreview: preview }));\r\n    } else {\r\n      setPropertyImage((prev) => ({ ...prev, file: base64, enabled: true, imagePreview: preview }));\r\n    }\r\n  };\r\n\r\n  const handleAddTrace = () => {\r\n    setPropertyTrace((prev) => [...prev, { name: \"\", value: 0, tax: 0, dateSale: \"\", idProperty: \"\" }]);\r\n  };\r\n\r\n  const handleDeleteTrace = (index) => {\r\n    setPropertyTrace((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  // Guardar nueva propiedad (POST con wrapper adaptado)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validaciones simples\r\n    if (!itemProperty.name || !itemProperty.address)\r\n      return Swal.fire(\"Faltan datos\", \"Completa los datos de la propiedad.\", \"warning\");\r\n\r\n    if (!itemPropertyImage?.file)\r\n      return Swal.fire(\"Imagen requerida\", \"Debes cargar la imagen del inmueble.\", \"warning\");\r\n\r\n    if (!itemOwner.name || !itemOwner.address || !itemOwner.photo || !itemOwner.birthday)\r\n      return Swal.fire(\"Datos del propietario\", \"Completa todos los datos del propietario.\", \"warning\");\r\n\r\n    const traceValid = itemPropertyTrace.every((t) => t.name && t.dateSale && t.value > 0);\r\n    if (!traceValid)\r\n      return Swal.fire(\"Historial\", \"Completa los datos de las trazas.\", \"warning\");\r\n\r\n    try {\r\n      setCreating(true)\r\n      const payload = mapPropertyToDto({      // Construccin del payload de datos\r\n        ...itemProperty,\r\n        owner: itemOwner,\r\n        image: itemPropertyImage,\r\n        traces: itemPropertyTrace,\r\n      });\r\n\r\n      const res = await errorWrapper(api.post(endpoints.property, payload));\r\n      const { success, message } = res;\r\n\r\n      if (success) {\r\n        Swal.fire({title:\"Inmueble registrado\", icon:\"success\"});\r\n        navigate('/home', { state: { refresh: true } });\r\n      } else {\r\n        Swal.fire(\"Error\", message || \"Ocurri un error al registrar el inmueble.\", \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error al crear propiedad:\", error);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Error\",\r\n        text: error?.response?.data?.message || \"Ocurri un error al registrar el inmueble\",\r\n      });\r\n    } finally { setCreating(false); } \r\n  };\r\n\r\n  // fallback\r\n  if (creating)\r\n    return (\r\n      <div className=\"loader-overlay loader-overlay--home\">\r\n        <div className=\"loader-spinner\"></div>\r\n          <p className=\"loader-text\">Registrando inmueble...</p>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"addproperty-container\">\r\n      <form className=\"addproperty-card\" onSubmit={handleSubmit}>\r\n        <Title title=\"Registrar nueva propiedad\" />\r\n\r\n        {/* --- Datos generales --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Datos generales</h2>\r\n          <div className=\"form-grid\">\r\n            <TextField name=\"name\" label=\"Nombre\" value={itemProperty.name} onChange={handleChange} required />\r\n            <TextField name=\"address\" label=\"Direccin\" value={itemProperty.address} onChange={handleChange} required />\r\n            <TextField name=\"price\" label=\"Precio\" type=\"number\" value={itemProperty.price} onChange={handleChange} required />\r\n            <TextField name=\"codeInternal\" label=\"Cdigo interno\" type=\"number\" value={itemProperty.codeInternal} onChange={handleChange} required />\r\n            <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n              <DatePicker label=\"Ao\" views={[\"year\"]}\r\n                value={itemProperty.year ? dayjs(String(itemProperty.year), \"YYYY\") : null}\r\n                onChange={(v) => handleChange({ target: { name: \"year\", value: v ? v.year() : \"\" } })}\r\n                slotProps={{ textField: { fullWidth: true, required: true } }}\r\n              />\r\n            </LocalizationProvider>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Imagen propiedad --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Imagen del inmueble</h2>\r\n          <div className=\"image-upload-container\">\r\n            {!itemPropertyImage.imagePreview ? (\r\n              <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"propertyFileInput\").click()}>\r\n                <Typography variant=\"body1\" color=\"textSecondary\">\r\n                  Haz clic o arrastra una imagen\r\n                </Typography>\r\n                <input id=\"propertyFileInput\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"property\")} aria-label=\"property image input\" required  aria-required=\"true\"/>\r\n              </Box>\r\n            ) : (\r\n              <div className=\"image-preview filled\">\r\n                <img src={itemPropertyImage.imagePreview} alt=\"Inmueble\" className=\"property-image\" />\r\n                <div className=\"add-property-card-buttons\">\r\n                  <button type=\"button\" className=\"replace-btn\" onClick={() => setPropertyImage({ imagePreview: \"\", file: \"\" })}>\r\n                    <FiTrash2 />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Propietario --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Propietario</h2>\r\n          <div className=\"form-grid owner-grid\">\r\n            <TextField name=\"name\" label=\"Nombre\" value={itemOwner.name} onChange={(e) => handleChange(e, \"owner\")} required />\r\n            <TextField name=\"address\" label=\"Direccin\" value={itemOwner.address} onChange={(e) => handleChange(e, \"owner\")} required />\r\n            <TextField type=\"date\" name=\"birthday\" label=\"Fecha de nacimiento\" value={itemOwner.birthday} onChange={(e) => handleChange(e, \"owner\")} InputLabelProps={{ shrink: true }} required />\r\n            <div className=\"image-upload-container full-width\">\r\n              {!itemOwner.ownerPhotoPreview ? (\r\n                <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"ownerFileInput\").click()}>\r\n                  <Typography variant=\"body1\" color=\"textSecondary\">Cargar imagen del propietario</Typography>\r\n                  <input id=\"ownerFileInput\" name=\"file\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"owner\")} aria-label=\"owner photo input\" required  aria-required=\"true\"/>\r\n                </Box>\r\n              ) : (\r\n                <div className=\"image-preview filled\">\r\n                  <img src={itemOwner.ownerPhotoPreview} alt=\"Propietario\" className=\"owner-photo\" />\r\n                  <div className=\"add-property-card-buttons\">\r\n                    <button type=\"button\" className=\"replace-btn\" onClick={() => setOwner({ ...itemOwner, photo: \"\", ownerPhotoPreview: \"\" })}>\r\n                      <FiTrash2 />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Historial --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Historial</h2>\r\n          {itemPropertyTrace.map((trace, i) => (\r\n            <div key={i} className=\"addproperty-trace-wrapper\">\r\n              <div className=\"trace-grid\">\r\n                <TextField type=\"date\" name=\"dateSale\" label=\"Fecha\" value={trace.dateSale} onChange={(e) => handleChange(e, \"traces\", i)} InputLabelProps={{ shrink: true }} required />\r\n                <TextField name=\"name\" label=\"Evento\" value={trace.name} onChange={(e) => handleChange(e, \"traces\", i)} required />\r\n                <TextField type=\"number\" name=\"value\" label=\"Valor\" value={trace.value} onChange={(e) => handleChange(e, \"traces\", i)} required />\r\n                <TextField type=\"number\" name=\"tax\" label=\"Impuesto\" value={trace.tax} onChange={(e) => handleChange(e, \"traces\", i)} required />\r\n                <button type=\"button\" className=\"addproperty-trace-delete-btn\" onClick={() => handleDeleteTrace(i)}>\r\n                  <FiTrash2 />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <AddButton label=\"Aadir evento\" handleChange={handleAddTrace} />\r\n        </div>\r\n\r\n        <Button id=\"createButton\" type=\"submit\" variant=\"contained\" color={creating ? 'secondary':'primary'} disabled={creating}  aria-label=\"create button\">{creating ? 'Registrando...' : 'Registrar Propiedad'}</Button>\r\n        <Button id=\"cancelButton\" variant=\"outlined\" color=\"secondary\" onClick={() => navigate('/home')} aria-label=\"cancel button\">Cancelar</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProperty;\r\n","// Normaliza PropertyDto del backend  formato frontend (camelCase)\r\nexport const normalizeProperty = (data = {}) => ({\r\n  idProperty: data?.idProperty ?? data?.IdProperty ?? \"\",\r\n  name: data?.name ?? data?.Name ?? \"\",\r\n  address: data?.address ?? data?.Address ?? \"\",\r\n  price: data?.price ?? data?.Price ?? 0,\r\n  codeInternal: data?.codeInternal ?? data?.CodeInternal ?? 0,\r\n  year: data?.year ?? data?.Year ?? 0,\r\n  idOwner: data?.idOwner ?? data?.IdOwner ?? \"\",\r\n  // Propietario (embebido)\r\n  owner: data?.owner ?? data?.Owner\r\n    ? {\r\n        idOwner: data?.owner?.idOwner ?? data?.Owner?.IdOwner ?? \"\",\r\n        name: data?.owner?.name ?? data?.Owner?.Name ?? \"\",\r\n        address: data?.owner?.address ?? data?.Owner?.Address ?? \"\",\r\n        photo: data?.owner?.photo ?? data?.Owner?.Photo ?? \"\",\r\n        birthday: data?.owner?.birthday ?? data?.Owner?.Birthday ?? \"\",\r\n      }\r\n    : null,\r\n  // Imagen (embebida)\r\n  image: data?.image ?? data?.Image\r\n    ? {\r\n        idPropertyImage: data?.image?.idPropertyImage ?? data?.Image?.IdPropertyImage ?? \"\",\r\n        idProperty: data?.image?.idProperty ?? data?.Image?.IdProperty ?? \"\",\r\n        file: data?.image?.file ?? data?.Image?.File ?? \"\",\r\n        enabled: data?.image?.enabled ?? data?.Image?.Enabled ?? true,\r\n      }\r\n    : null,\r\n  // Trazas (embebidas)\r\n  traces: Array.isArray(data?.traces ?? data?.Traces)\r\n    ? (data.traces ?? data.Traces).map(trace => ({\r\n        idPropertyTrace: trace?.idPropertyTrace ?? trace?.IdPropertyTrace ?? \"\",\r\n        idProperty: trace?.idProperty ?? trace?.IdProperty ?? \"\",\r\n        dateSale: trace?.dateSale ?? trace?.DateSale ?? \"\",\r\n        name: trace?.name ?? trace?.Name ?? \"\",\r\n        value: trace?.value ?? trace?.Value ?? 0,\r\n        tax: trace?.tax ?? trace?.Tax ?? 0,\r\n      }))\r\n    : [],\r\n});\r\n\r\n// Mapea Property del frontend  formato backend (camelCase compatible con .NET)\r\nexport const mapPropertyToDto = (property = {}) => ({\r\n  idProperty: property?.idProperty ?? \"\",\r\n  name: property?.name ?? \"\",\r\n  address: property?.address ?? \"\",\r\n  price: property?.price ?? 0,\r\n  codeInternal: property?.codeInternal ?? 0,\r\n  year: property?.year ?? 0,\r\n  idOwner: property?.idOwner ?? \"\",\r\n  // Propietario\r\n  owner: property?.owner\r\n    ? {\r\n        idOwner: property.owner.idOwner ?? \"\",\r\n        name: property.owner.name ?? \"\",\r\n        address: property.owner.address ?? \"\",\r\n        photo: property.owner.photo ?? \"\",\r\n        birthday: property.owner.birthday ?? \"\",\r\n      }\r\n    : undefined,\r\n  // Imagen\r\n  image: property?.image\r\n    ? {\r\n        idPropertyImage: property.image.idPropertyImage ?? \"\",\r\n        idProperty: property.image.idProperty ?? \"\",\r\n        file: property.image.file ?? \"\",\r\n        enabled: property.image.enabled ?? true,\r\n      }\r\n    : undefined,\r\n  // Trazas\r\n  traces: Array.isArray(property?.traces)\r\n    ? property.traces.map(trace => ({\r\n        idPropertyTrace: trace.idPropertyTrace ?? \"\",\r\n        idProperty: trace.idProperty ?? \"\",\r\n        dateSale: trace.dateSale ?? \"\",\r\n        name: trace.name ?? \"\",\r\n        value: trace.value ?? 0,\r\n        tax: trace.tax ?? 0,\r\n      }))\r\n    : [],\r\n});\r\n","// Convierte un OwnerDto del backend (PascalCase) a formato frontend (camelCase)\r\nexport const normalizeOwner = (data = {}) => ({\r\n  name: data?.Name ?? \"\",\r\n  address: data?.Address ?? \"\",\r\n  photo: data?.Photo ?? \"\",\r\n  birthday: data?.Birthday ?? \"\",\r\n});\r\n\r\n// Convierte un Owner del frontend (camelCase) al formato backend (PascalCase)\r\nexport const mapOwnerToDto = (owner = {}) => ({\r\n  Name: owner?.name ?? \"\",\r\n  Address: owner?.address ?? \"\",\r\n  Photo: owner?.photo ?? \"\",\r\n  Birthday: owner?.birthday ?? \"\",\r\n});\r\n","// Convierte uno o varios PropertyTraceDto del backend (PascalCase) al formato frontend (camelCase)\r\n export const normalizePropertyTrace = (data = []) => {\r\n  const traces = Array.isArray(data) ? data : [data];\r\n  return traces.map(trace => ({\r\n    idPropertyTrace: trace?.IdPropertyTrace ?? \"\",\r\n    dateSale: trace?.DateSale ?? \"\",\r\n    name: trace?.Name ?? \"\",\r\n    value: trace?.Value ?? 0,\r\n    tax: trace?.Tax ?? 0,\r\n    idProperty: trace?.IdProperty ?? \"\"\r\n  }));\r\n};\r\n\r\n// Convierte un PropertyTrace del frontend (camelCase) al formato backend (PascalCase)\r\nexport const mapPropertyTraceToDto = (trace = {}) => ({\r\n  IdPropertyTrace: trace?.idPropertyTrace ?? \"\",\r\n  DateSale: trace?.dateSale ?? \"\",\r\n  Name: trace?.name ?? \"\",\r\n  Value: trace?.value ?? 0,\r\n  Tax: trace?.tax ?? 0,\r\n  IdProperty: trace?.idProperty ?? \"\"\r\n});\r\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport { api } from \"../../../services/api/api\";\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\nimport { Title } from \"../../../components/title/Title.js\";\nimport { AddButton } from \"../../../components/button/AddButton.js\";\nimport { FiTrash2 } from \"react-icons/fi\";\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport dayjs from \"dayjs\";\nimport { Box, Typography, TextField, Button, Alert } from \"@mui/material\";\nimport { mapOwnerToDto } from \"../../owner/mapper/OwnerMapper\";\nimport { mapPropertyImageToDto } from \"../../propertyImage/mapper/propertyImageMapper\";\nimport { mapPropertyTraceToDto } from \"../../propertyTrace/mapper/propertyTraceMapper\";\nimport Swal from \"sweetalert2\";\nimport \"./EditProperty.scss\";\n\nexport const EditProperty = () => {\n  const navigate = useNavigate();\n  const { propertyId } = useParams();\n  const location = useLocation();\n  const endpoint = process.env.REACT_APP_ENDPOINT_PROPERTY;\n\n  const [itemProperty, setProperty] = useState(null);\n  const [itemOwner, setOwner] = useState({});\n  const [itemPropertyImage, setPropertyImage] = useState({});\n  const [itemPropertyTrace, setPropertyTrace] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n  \n  const [traceAlert, setTraceAlert] = useState({ message: \"\", severity: \"success\" });\n\n\n   // funcin para volver conservando paginacin y filtros\n  const goBackToHome = (withRefresh = false) => {\n    const backTo = location.state?.from || \"/home\";\n    const stateToSend = {\n      pagination: location.state?.pagination,\n      filters: location.state?.filters,\n      ...(withRefresh ? { refresh: true } : {})\n    };\n    navigate(backTo, { state: stateToSend });\n  };\n\n  const toBase64 = useCallback(\n    (file) =>\n      new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result.split(\",\")[1]);\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      }),\n    []\n  );\n\n  // Cargar datos completos de la propiedad\n  useEffect(() => {\n    const loadProperty = async () => {\n      try {\n        const needsRefresh = location.state?.refresh === true;\n        const res = await errorWrapper(api.get(`${endpoint}/${propertyId}${needsRefresh ? \"?refresh=true\" : \"\"}`));\n        const property = res?.data?.data ?? res?.data ?? res?.data?.data;\n        if (!property) throw new Error(\"No se encontr la propiedad\");\n\n        setProperty(property);\n        if (property.image)\n          setPropertyImage({\n            ...property.image,\n            imagePreview: property.image.file ? `data:image/jpeg;base64,${property.image.file}` : \"\",\n          });\n        if (property.owner)\n          setOwner({\n            ...property.owner,\n            ownerPhotoPreview: property.owner.photo ? `data:image/jpeg;base64,${property.owner.photo}` : \"\",\n          });\n        if (property.traces?.length) setPropertyTrace(property.traces);\n      } catch (err) {\n        console.error(\"Error al cargar propiedad:\", err);\n        Swal.fire({ icon: \"error\", title: \"Error\", text: \"No se obtuvo los datos del inmueble\" });\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadProperty();\n  }, [propertyId, location.state, endpoint]);\n\n  // Handlers\n  const clampNonNegative = (v) => {\n    const n = Number(v);\n    return Number.isFinite(n) ? Math.max(0, n) : 0;\n  };\n\n  const handleChange = (e, section = \"property\", index = null) => {\n    const { name, value } = e.target;\n    if (section === \"owner\") {\n      setOwner((prev) => ({ ...prev, [name]: value }));\n    } else if (section === \"traces\") {\n      const newVal = name === \"value\" || name === \"tax\" ? clampNonNegative(value) : value;\n      setPropertyTrace((prev) => prev.map((t, i) => (i === index ? { ...t, [name]: newVal } : t)));\n    } else {\n      const newVal = name === \"price\" || name === \"codeInternal\" ? clampNonNegative(value) : value;\n      setProperty((prev) => ({ ...prev, [name]: newVal }));\n    }\n  };\n\n  const handleImageChange = async (e, type = \"property\") => {\n    if (!e?.target?.files?.[0]) return;\n    const file = e.target.files[0];\n    const base64 = await toBase64(file);\n    const preview = URL.createObjectURL(file);\n    if (type === \"owner\") {\n      setOwner((prev) => ({ ...prev, photo: base64, ownerPhotoPreview: preview }));\n    } else {\n      setPropertyImage((prev) => ({ ...prev, file: base64, enabled: true, imagePreview: preview }));\n    }\n  };\n\n  const handleAddTrace = () => setPropertyTrace((prev) => [...prev, { name: \"\", value: 0, tax: 0, dateSale: \"\" }]);\n  const handleDeleteTrace = (index) => {\n    setPropertyTrace((prev) => prev.filter((_, i) => i !== index));\n    setTraceAlert({ message: \"Traza eliminada localmente (se guardar al actualizar)\", severity: \"info\" });\n  };\n\n  // Guardar cambios con wrapper\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setUpdating(true);\n      if (!itemProperty) {\n        setUpdating(false);\n        Swal.fire({ icon: \"error\", title: \"Error\", text: \"No se encontr la propiedad.\" });\n        return;\n      }\n\n      const cleanedImage =\n        itemPropertyImage?.file && itemPropertyImage.file.trim() !== \"\"\n          ? mapPropertyImageToDto(itemPropertyImage)\n          : null;\n\n      const cleanedOwner =\n        itemOwner?.name?.trim() &&\n        itemOwner?.address?.trim() &&\n        (itemOwner?.photo?.trim() || itemOwner?.ownerPhotoPreview?.trim()) &&\n        itemOwner?.birthday?.trim()\n          ? mapOwnerToDto(itemOwner)\n          : null;\n\n      const cleanedTraces =\n        Array.isArray(itemPropertyTrace) && itemPropertyTrace.length > 0\n          ? itemPropertyTrace\n              .filter((t) => t.name?.trim() && t.dateSale?.trim() && Number(t.value) > 0)\n              .map(mapPropertyTraceToDto)\n          : [];\n\n      const patchPayload = {\n        name: itemProperty.name,\n        address: itemProperty.address,\n        price: Number(itemProperty.price),\n        codeInternal: Number(itemProperty.codeInternal),\n        year: itemProperty.year,\n        image: cleanedImage,\n        owner: cleanedOwner,\n        traces: cleanedTraces,\n      };\n\n      console.log(\"Actualizacin Ok \", patchPayload);\n\n      const resUpdate = await errorWrapper(api.patch(`${endpoint}/${propertyId}`, patchPayload));\n      const { success, message, error } = resUpdate;\n      console.log(\"message: \", message)\n      console.log(\"error: \", error)\n\n      if (success) {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Propiedad actualizada\",\n          confirmButtonText: \"Aceptar\",\n        });\n        goBackToHome(true);\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: message || \"Ocurri un error al actualizar la propiedad\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Error al actualizar propiedad:\", error);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Error\",\n        text: error?.response?.data?.message || \"Ocurri un error al actualizar el inmueble\",\n      });\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  // fallback\n  if (loading || updating)\n    return (\n      <div className=\"loader-overlay loader-overlay--home\">\n        <div className=\"loader-spinner\"></div>\n        {loading &&  <p className=\"loader-text\">Cargando inmueble...</p>}\n        {updating &&  <p className=\"loader-text\">Actualizando inmueble...</p>}\n      </div>\n    );\n\n  if (!itemProperty)\n    return <p style={{ textAlign: \"center\", color: \"red\" }}>Inmueble no encontrado</p>;\n\n  return (\n    <div className=\"editproperty-container\">\n      <form className=\"editproperty-card\" onSubmit={handleSubmit}>\n        <Title title=\"Editar propiedad\" />\n\n        {/* --- Datos generales --- */}\n        <div className=\"form-section\">\n          <h2>Datos generales</h2>\n          <div className=\"form-grid\">\n            <TextField name=\"name\" label=\"Nombre\" value={itemProperty.name || \"\"} onChange={handleChange} required />\n            <TextField name=\"address\" label=\"Direccin\" value={itemProperty.address || \"\"} onChange={handleChange} required />\n            <TextField name=\"price\" label=\"Precio\" type=\"number\" value={itemProperty.price || 0} onChange={handleChange} required />\n            <TextField name=\"codeInternal\" label=\"Cdigo interno\" type=\"number\" value={itemProperty.codeInternal || 0} onChange={handleChange} required />\n            <LocalizationProvider dateAdapter={AdapterDayjs}>\n              <DatePicker\n                label=\"Ao\"\n                views={[\"year\"]}\n                value={itemProperty.year ? dayjs(String(itemProperty.year), \"YYYY\") : null}\n                onChange={(v) => handleChange({ target: { name: \"year\", value: v ? v.year() : \"\" } })}\n                slotProps={{\n                  textField: {\n                    fullWidth: true,\n                    InputLabelProps: { shrink: true },\n                    required: true,\n                  },\n                }}\n              />\n            </LocalizationProvider>\n          </div>\n        </div>\n\n        {/* --- Imagen propiedad --- */}\n        <div className=\"form-section\">\n          <h2>Imagen del inmueble</h2>\n          <div className=\"image-upload-container\">\n            {!itemPropertyImage.imagePreview ? (\n              <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"propertyFileInput\").click()}>\n                <Typography variant=\"body1\" color=\"textSecondary\">Haz clic o arrastra una imagen</Typography>\n                <input id=\"propertyFileInput\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"property\")} aria-label=\"property image input\" required aria-required=\"true\" />\n              </Box>\n            ) : (\n              <div className=\"image-preview filled\">\n                <img src={itemPropertyImage.imagePreview} alt=\"Inmueble\" className=\"property-image\" />\n                <div className=\"add-property-card-buttons\">\n                  <button type=\"button\" className=\"replace-btn\" onClick={() => setPropertyImage({ imagePreview: \"\" })}>\n                    <FiTrash2 />\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* --- Propietario --- */}\n        <div className=\"form-section\">\n          <h2>Propietario</h2>\n          <div className=\"form-grid owner-grid\">\n            <TextField name=\"name\" label=\"Nombre\" value={itemOwner.name || \"\"} onChange={(e) => handleChange(e, \"owner\")} required />\n            <TextField name=\"address\" label=\"Direccin\" value={itemOwner.address || \"\"} onChange={(e) => handleChange(e, \"owner\")} required />\n            <TextField type=\"date\" name=\"birthday\" label=\"Fecha de nacimiento\" value={itemOwner.birthday || \"\"} onChange={(e) => handleChange(e, \"owner\")} InputLabelProps={{ shrink: true }} required />\n            <div className=\"image-upload-container full-width\">\n              {!itemOwner.ownerPhotoPreview && !itemOwner.photo ? (\n                <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"ownerFileInput\").click()}>\n                  <Typography variant=\"body1\" color=\"textSecondary\">Cargar imagen del propietario</Typography>\n                  <input id=\"ownerFileInput\" name=\"file\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"owner\")} aria-label=\"owner photo input\" required aria-required=\"true\" />\n                </Box>\n              ) : (\n                <div className=\"image-preview filled\">\n                  <img src={itemOwner.ownerPhotoPreview || `data:image/jpeg;base64,${itemOwner.photo}`} alt=\"Propietario\" className=\"owner-photo\" />\n                  <div className=\"add-property-card-buttons\">\n                    <button type=\"button\" className=\"replace-btn\" onClick={() => setOwner({ ...itemOwner, photo: \"\", ownerPhotoPreview: \"\" })}>\n                      <FiTrash2 />\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* --- Historial --- */}\n        <div className=\"form-section\">\n          <h2>Historial</h2>\n          {itemPropertyTrace.map((trace, index) => (\n            <div key={index} className=\"editproperty-trace-wrapper\">\n              <div className=\"trace-grid\">\n                <TextField type=\"date\" name=\"dateSale\" label=\"Fecha\" value={trace.dateSale || \"\"} onChange={(e) => handleChange(e, \"traces\", index)} InputLabelProps={{ shrink: true }} required />\n                <TextField name=\"name\" label=\"Evento\" value={trace.name || \"\"} onChange={(e) => handleChange(e, \"traces\", index)} required />\n                <TextField type=\"number\" name=\"value\" label=\"Valor\" value={trace.value || 0} onChange={(e) => handleChange(e, \"traces\", index)} required />\n                <TextField type=\"number\" name=\"tax\" label=\"Impuesto\" value={trace.tax || 0} onChange={(e) => handleChange(e, \"traces\", index)} required />\n                <button type=\"button\" className=\"editproperty-trace-delete-btn\" onClick={() => handleDeleteTrace(index)}>\n                  <FiTrash2 />\n                </button>\n              </div>\n            </div>\n          ))}\n          {traceAlert.message && (\n            <Box className=\"trace-alert\" sx={{ mb: 2 }}>\n              <Alert severity={traceAlert.severity} onClose={() => setTraceAlert({ message: \"\", severity: \"success\" })}>\n                {traceAlert.message}\n              </Alert>\n            </Box>\n          )}\n          <AddButton label=\"Aadir evento\" handleChange={handleAddTrace} />\n        </div>\n\n        <Button id=\"updateButton\" type=\"submit\" variant=\"contained\" color={updating ? 'secondary':'primary'} disabled={updating} aria-label=\"update button\">{updating ? 'Actualizando...' : 'Actualizar Propiedad'}</Button>\n        <Button id=\"cancelButton\" variant=\"outlined\" color=\"secondary\" onClick={() => goBackToHome(false)} aria-label=\"cancel button\">Cancelar</Button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProperty;\n","// Normaliza imagen del backend (PascalCase  camelCase)\nexport const normalizePropertyImage = (data = {}) => ({\n  idPropertyImage: data?.IdPropertyImage ?? data?.idPropertyImage ?? data?.id ?? \"\",\n  idProperty: data?.IdProperty ?? data?.idProperty ?? \"\",\n  file: data?.File ?? data?.file ?? \"\",\n  enabled: data?.Enabled ?? data?.enabled ?? true,\n  imagePreview: data?.imagePreview\n    ? data.imagePreview\n    : data?.File\n    ? `data:image/jpeg;base64,${data.File}`\n    : \"\",\n});\n\n\n// Mapea imagen del frontend (camelCase  PascalCase)\nexport const mapPropertyImageToDto = (image = {}) => ({\n  IdPropertyImage: image?.idPropertyImage ?? image?.IdPropertyImage ?? image?.id ?? \"\",\n  IdProperty: image?.idProperty ?? image?.IdProperty ?? \"\",\n  File: image?.file ?? \"\",\n  Enabled: image?.enabled ?? true,\n});\n","import { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { Title } from '../../components/title/Title';\nimport { PiUserCircleFill, } from 'react-icons/pi';\nimport { FiEdit } from 'react-icons/fi';\nimport { getTokenPayload, getUserFromToken, getToken, isTokenExpired } from '../../services/auth/token';\nimport { secondaryColor } from '../../global';\nimport './User.scss';\n\nexport const User = () => {\n  const navigate = useNavigate();\n  const authUser = useSelector((state) => state.auth.user);\n  const token = getToken('token');\n  const payload = getTokenPayload('token');\n  const tokenUser = getUserFromToken(payload) || {};\n\n  const name = authUser?.name || tokenUser?.name || 'Usuario';\n  const email = authUser?.email || tokenUser?.email || 'correo@dominio.com';\n  const role = (authUser?.role || tokenUser?.role || 'user').toLowerCase();\n  const userId = authUser?.id || tokenUser?.id || '-';\n  const isLogged = !!token && !isTokenExpired(payload);\n\n  return (\n    <div className=\"user-container\">\n      <div className=\"user-card\">\n        <div className=\"user-header\">\n          <Title title=\"Mi perfil\" />\n          {isLogged && (  <button className=\"user-edit-btn\" onClick={() => navigate('/profile/edit')}>\n                            <label>Editar</label> <FiEdit className=\"user-edit-btn-icon\" size={30} color={secondaryColor} />\n                          </button> )\n          }\n        </div>\n\n        <div className=\"user-data\">\n          <div className=\"user-avatar\">\n            <PiUserCircleFill size={96} color={secondaryColor} />\n          </div>\n\n          <div className=\"user-info\">\n            <h2 className=\"user-name\">{name}</h2>\n            <p className=\"user-email\">{email}</p>\n\n            <div className=\"user-meta\">\n              <div className=\"meta-item\">\n                <span className=\"meta-label\">ID de usuario</span>\n                <span className=\"meta-value\">{userId}</span>\n              </div>\n              <div className=\"meta-item\">\n                <span className=\"meta-label\">Rol</span>\n                <span className=\"meta-value\">{role}</span>\n              </div>\n              <div className=\"meta-item\">\n                <span className=\"meta-label\">Estado</span>\n                <span className={`meta-badge ${isLogged ? 'ok' : 'off'}`}>\n                  {isLogged ? 'Activo' : 'Inactivo'}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default User;\n","// Convierte un UserDto del backend (PascalCase) a formato frontend (camelCase) basado en el DTO User.json\nexport const normalizeUser = (data = {}) => {\n  if (typeof data !== \"object\" || data === null) return { id: \"\", name: \"\", email: \"\", role: \"\" };\n\n  const pick = (...keys) => {\n    for (const key of keys) {\n      if (data?.[key] != null && data[key] !== \"\") return data[key];\n    }\n    return undefined;\n  };\n\n  const id = pick(\"Id\", \"id\", \"UserId\", \"userId\", \"sub\") || \"\";\n  const name = pick(\"Name\", \"name\", \"FullName\", \"fullName\", \"Username\", \"username\") || \"\";\n  const email = pick(\"Email\", \"email\", \"Correo\", \"correo\", \"preferred_username\") || \"\";\n  const roleRaw =\n    pick(\"Role\", \"role\") ||\n    (Array.isArray(data?.roles) ? data.roles[0] : \"\") ||\n    \"\";\n\n  const role = (roleRaw || \"\").toString().toLowerCase();\n\n  return { id, name, email, role };\n};\n\n// Convierte un User del frontend (camelCase) al formato backend (PascalCase)\nexport const mapUserToDto = (user = {}) => {\n  if (typeof user !== \"object\" || user === null) return {};\n\n  return {\n    Id: user?.id ?? user?.Id ?? null,\n    Name: user?.name?.trim?.() || \"\",\n    Email: user?.email?.trim?.() || \"\",\n    Role: user?.role?.trim?.() || \"\",\n  };\n};\n","import { useEffect, useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { api } from \"../../../services/api/api\";\nimport { Title } from \"../../../components/title/Title\";\nimport { updateProfile } from \"../../../services/store/authSlice\";\nimport { getTokenPayload, getUserFromToken } from \"../../../services/auth/token\";\nimport { TextField, Button, Box, Paper, MenuItem } from \"@mui/material\";\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\nimport { mapUserToDto } from \"../../user/mapper/userMapper\";\nimport Swal from \"sweetalert2\";\nimport \"./EditUser.scss\";\n\nexport const EditUser = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const authUser = useSelector((state) => state.auth.user);\n  const [updating, setUpdating] = useState(false);\n\n  // Lee token real del navegador\n  const token = localStorage.getItem(\"token\") || sessionStorage.getItem(\"token\") || \"\";\n  const payload = getTokenPayload(token);\n  const tokenUser = getUserFromToken(payload) || {};\n\n  const role = (authUser?.role || tokenUser?.role || \"user\").toLowerCase();\n  const isAdmin = role === \"admin\";\n\n  // Formulario usuario (solo perfil propio)\n  const [form, setForm] = useState({\n    name: authUser?.name || tokenUser?.name || \"\",\n    email: authUser?.email || tokenUser?.email || \"\",\n    role: authUser?.role || tokenUser?.role || \"user\",\n  });\n\n  useEffect(() => {\n    setForm({\n      name: authUser?.name || tokenUser?.name || \"\",\n      email: authUser?.email || tokenUser?.email || \"\",\n      role: authUser?.role || tokenUser?.role || \"user\",\n    });\n  }, [authUser?.name, authUser?.email, authUser?.role]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // Guarda perfil propio\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setUpdating(true);\n      const userDto = mapUserToDto(form);\n\n      // Solo envia campos modificados\n      const changedFields = {};\n      if (authUser?.name !== userDto.Name && userDto.Name.trim() !== \"\")\n        changedFields.name = userDto.Name.trim();\n\n      if (Object.keys(changedFields).length === 0) {\n        Swal.fire({\n          icon: \"info\",\n          text: \"No hay cambios para guardar.\",\n          timer: 1500,\n          showConfirmButton: false,\n        });\n        return;\n      }\n\n      const res = await errorWrapper(\n        api.patch(`${process.env.REACT_APP_ENDPOINT_USER}/${form.email}`, changedFields)\n      );\n\n      if (res.ok) {\n        dispatch(updateProfile({ ...authUser, ...changedFields }));\n        Swal.fire({\n          icon: \"success\",\n          title: \"Perfil actualizado\",\n          timer: 1500,\n          showConfirmButton: false,\n        });\n        navigate(-1)\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          text: res.error?.message || \"Error al actualizar el perfil\",\n        });\n      }\n    } catch (err) {\n      console.error(\" Error al actualizar perfil:\", err);\n      Swal.fire({ icon: \"error\", text: \"No se pudo actualizar el perfil\" });\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  // fallback\n  if (updating)\n    return (\n      <div className=\"loader-overlay loader-overlay--home\">\n        <div className=\"loader-spinner\"></div>\n          <p className=\"loader-text\">Actualizando usuario...</p>\n      </div>\n    );\n\n  return (\n    <div className=\"edituser-container\">\n      <Paper elevation={3} className=\"edituser-card\">\n        <Title title=\"Editar perfil\" />\n        <Box component=\"form\" className=\"edituser-form\" onSubmit={handleSubmit} sx={{ '& #saveUser': { gridColumn:'1 / -1', width:'100%' } }}>\n          <TextField name=\"name\" label=\"Nombre\" value={form.name} onChange={handleChange} fullWidth required />\n          <TextField name=\"email\" label=\"Correo\" type=\"email\" value={form.email} fullWidth disabled />\n          <TextField name=\"role\" label=\"Rol\" value={form.role} select fullWidth disabled><MenuItem value=\"admin\">Admin</MenuItem><MenuItem value=\"editor\">Editor</MenuItem><MenuItem value=\"user\">User</MenuItem></TextField>\n          <Button id=\"saveUser\" type=\"submit\" variant=\"contained\" color=\"primary\" sx={{ borderRadius:2, textTransform:'none', py:1.2 }} aria-label=\"save user\">Guardar</Button>\n        </Box>\n        <Button id=\"cancelUser\" onClick={() => navigate(-1)} variant=\"outlined\" color=\"secondary\" sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"cancel to save user\">Cancelar</Button>\n      </Paper>\n    </div>\n  );\n};\n\nexport default EditUser;\n","import { useEffect, useState } from \"react\";\nimport { Paper, TextField, Button, MenuItem, InputAdornment } from \"@mui/material\";\nimport { api } from \"../../../services/api/api\";\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\nimport { FiTrash2, FiSearch } from \"react-icons/fi\";\nimport { Title } from \"../../../components/title/Title\";\nimport { Pagination } from \"../../../components/pagination/Pagination\";\nimport { normalizeUser } from \"../mapper/userMapper\";\nimport { primaryColor, secondaryColor } from \"../../../global\";\nimport Swal from \"sweetalert2\";\nimport \"./ManageUsers.scss\";\n\nconst PAGE_SIZE = 6;\n\nexport const ManageUsers = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [pagination, setPagination] = useState({ page: 1, limit: PAGE_SIZE, last_page: 1, total: 0 });\n\n  const userEndpoint = process.env.REACT_APP_ENDPOINT_USER;\n\n  useEffect(() => {\n    const load = async () => {\n      setLoading(true);\n      setErrorMsg(\"\");\n      try {\n        const res = await errorWrapper(api.get(userEndpoint));\n        const { success, data, message, error } = res;\n        if (success) {\n          const raw = data?.data ?? data;\n          const list = Array.isArray(raw) ? raw : Array.isArray(raw?.items) ? raw.items : Array.isArray(raw?.users) ? raw.users : [];\n          const normalized = list.map((u) => normalizeUser(u));\n          setUsers(normalized);\n          const total = normalized.length;\n          setPagination((prev) => ({ ...prev, total, last_page: Math.max(1, Math.ceil(total / prev.limit)) }));\n        } else {\n          setErrorMsg(error?.message || message || \"No se obtuvieron los usuarios\");\n        }\n      } catch {\n        setErrorMsg(\"Ocurri un error inesperado en el servicio\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [userEndpoint]);\n\n  const handleRoleChange = async (user, newRole) => {\n    try {\n      const url = `${userEndpoint}/${encodeURIComponent(user.email)}`;\n      const body = { role: newRole };\n      const res = await errorWrapper(api.patch(url, body));\n      const { success, message, error } = res;\n      if (success) {\n        Swal.fire({ icon: \"success\", title: \"Rol actualizado\", timer: 1400, showConfirmButton: false });\n        setUsers((prev) => prev.map((u) => (u.email === user.email ? { ...u, role: newRole } : u)));\n      } else {\n        Swal.fire({ icon: \"error\", text: error?.message || message || \"No se pudo actualizar el rol\" });\n      }\n    } catch {\n      Swal.fire({ icon: \"error\", text: \"No se pudo actualizar el rol\" });\n    }\n  };\n\n  const handleDelete = async (email) => {\n    const confirm = await Swal.fire({\n      title: \"Eliminar usuario?\",\n      text: \"Esta accin no se puede deshacer.\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: primaryColor,\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"S, eliminar\",\n      cancelButtonText: \"Cancelar\",\n    });\n    if (!confirm.isConfirmed) return;\n\n    const res = await errorWrapper(api.delete(`${userEndpoint}/${encodeURIComponent(email)}`));\n    const { success, message, error } = res;\n\n    if (success) {\n      Swal.fire({ icon: \"success\", text: message || \"Usuario eliminado correctamente\", timer: 1400, showConfirmButton: false });\n      setUsers((prev) => prev.filter((u) => u.email !== email));\n      setPagination((prev) => {\n        const nextTotal = Math.max(0, prev.total - 1);\n        const nextLast = Math.max(1, Math.ceil(nextTotal / prev.limit));\n        const nextPage = prev.page > nextLast ? nextLast : prev.page;\n        return { ...prev, total: nextTotal, last_page: nextLast, page: nextPage };\n      });\n    } else {\n      Swal.fire({ icon: \"error\", text: error?.message || message || \"No se pudo eliminar el usuario\" });\n    }\n  };\n\n  const filtered = (users || []).filter((u) => {\n    const q = query.trim().toLowerCase();\n    if (!q) return true;\n    return (u.name || \"\").toLowerCase().includes(q) || (u.email || \"\").toLowerCase().includes(q) || (u.role || \"\").toLowerCase().includes(q);\n  });\n\n  const totalFiltered = filtered.length;\n  const lastFilteredPage = Math.max(1, Math.ceil(totalFiltered / pagination.limit));\n  const currentPage = Math.min(pagination.page, lastFilteredPage);\n  const start = (currentPage - 1) * pagination.limit;\n  const end = start + pagination.limit;\n  const paged = filtered.slice(start, end);\n\n  const handleChangePage = (newPage) => setPagination((prev) => ({ ...prev, page: newPage }));\n\n  return (\n    <div className=\"manageusers-container\">\n      <Paper elevation={3} className=\"manageusers-card\">\n        <Title title=\"Administrar usuarios\" />\n\n        {errorMsg && <p className=\"error-text\">{errorMsg}</p>}\n\n        <div className=\"manageusers-toolbar\">\n          <TextField value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Buscar por nombre, correo o rol...\" InputProps={{ startAdornment: (<InputAdornment position=\"start\"><FiSearch size={18} color={secondaryColor} /></InputAdornment>) }} fullWidth className=\"manageusers-search-input\" />\n        </div>\n\n        <div className=\"manageusers-table\">\n          <div className=\"manageusers-head\">\n            <div>Nombre</div>\n            <div>Correo</div>\n            <div>Rol</div>\n            <div>Accin</div>\n          </div>\n\n          {paged.length > 0 ? (\n            paged.map((u, idx) => (\n              <div key={`${u.email}-${idx}`} className=\"manageusers-row\">\n                <TextField value={u.name || \"\"} fullWidth disabled />\n                <TextField value={u.email || \"\"} fullWidth disabled />\n                <TextField select value={u.role || \"user\"} onChange={(e) => handleRoleChange(u, e.target.value)} fullWidth>\n                  <MenuItem value=\"admin\">Admin</MenuItem>\n                  <MenuItem value=\"editor\">Editor</MenuItem>\n                  <MenuItem value=\"user\">User</MenuItem>\n                </TextField>\n                <Button id={`deletebutton${idx}`} variant=\"outlined\" className=\"manageusers-delete-btn\" color=\"error\" onClick={() => handleDelete(u.email)} style={{marginTop:0}} aria-label={`delete button ${idx}`}><FiTrash2 /></Button>\n              </div>\n            ))\n          ) : (\n            !loading && <div className=\"manageusers-empty\">No hay usuarios que coincidan con la bsqueda</div>\n          )}\n        </div>\n\n        <Pagination page={currentPage} lastPage={lastFilteredPage} onPageChange={handleChangePage} />\n      </Paper>\n    </div>\n  );\n};\n\nexport default ManageUsers;\n","import { Routes, Route } from \"react-router-dom\";\r\nimport { RoleRoute } from \"./RoleRoute\";\r\nimport { Home } from \"../modules/core/home/Home\";\r\nimport { AddProperty } from \"../modules/property/service/AddProperty\";\r\nimport { EditProperty } from \"../modules/property/service/EditProperty\";\r\nimport { User } from \"../modules/user/User\";\r\nimport { EditUser } from \"../modules/user/service/EditUser\";\r\nimport { ManageUsers } from \"../modules/user/service/ManageUsers\";\r\n\r\nexport const DashboardRoutes = () => (\r\n  <Routes>\r\n    <Route path=\"/\" element={<Home/>} />\r\n    <Route path=\"/home\" element={<Home/>} />\r\n    \r\n    <Route path=\"/add-property\" element={<AddProperty/>} />\r\n    <Route path=\"/edit-property/:propertyId\" element={<RoleRoute allowed={[\"editor\",\"admin\"]} element={<EditProperty/>} />} />\r\n    <Route path=\"/profile\" element={<User/>} />\r\n    <Route path=\"/profile/edit\" element={<RoleRoute allowed={[\"admin\",\"editor\",\"user\"]} element={<EditUser/>} />} />\r\n    <Route path=\"/users\" element={<RoleRoute allowed={[\"admin\"]} element={<ManageUsers/>} />} />\r\n\r\n    {/* Fallback */}\r\n    <Route path=\"*\" element={<Home/>} />\r\n  </Routes>\r\n);\r\n\r\nexport default DashboardRoutes;\r\n","import { useSelector } from 'react-redux';\nimport { DashboardRoutes } from \"./DashboardRoutes.js\";\n\nexport const PublicRoute = ({ children }) => {\n  const { logged } = useSelector((state) => state.auth);\n  \n  return logged ? <DashboardRoutes /> : children;\n};\n\nexport default PublicRoute;\n","import { Navigate, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nexport const PrivateRoute = ({ children }) => {\n  const { logged } = useSelector((state) => state.auth);\n  const { pathname, search } = useLocation();\n\n  sessionStorage.setItem('lastPath', pathname + search);\n\n  return logged ? children : <Navigate to={'/'} replace />;\n};\n\nexport default PrivateRoute;\n","import { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Title } from \"../../../components/title/Title\";\nimport { Search } from \"../../../components/search/Search\";\nimport { Pagination } from \"../../../components/pagination/Pagination\";\nimport { fetchProperties } from \"../../../services/store/propertySlice\";\nimport \"./Index.scss\";\n\nexport const Index = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const { properties = [], loading = false, meta = {} } = useSelector((s) => s.property || {});\n\n  // Cuando regresa de property restaura la paginacin y los filtros con lo que venga del history\n  const [filters, setFilters] = useState(() => location.state?.filters || { name: \"\", address: \"\" });\n  const [pagination, setPagination] = useState(() => location.state?.pagination || { page: 1, limit: 6, last_page: 1, total: 0 });\n\n  useEffect(() => {\n    const needsRefresh = location.state?.refresh === true;\n    dispatch(\n      fetchProperties({\n        page: pagination.page,\n        limit: pagination.limit,\n        name: filters.name,\n        address: filters.address,\n        minPrice: filters.minPrice,\n        maxPrice: filters.maxPrice,\n        refresh: needsRefresh\n      })\n    );\n    if (needsRefresh) navigate(location.pathname, { replace: true, state: {} });\n  }, [\n    location.pathname,\n    location.state?.refresh,\n    pagination.page,\n    pagination.limit,\n    filters,\n    dispatch,\n    navigate\n  ]);\n\n   // Cuando el usuario cambie de pgina o de filtros se actualiza el history\n  useEffect(() => {\n    const { refresh, ...rest } = location.state || {};\n    navigate(location.pathname, { replace: true, state: { ...rest, pagination, filters } });\n  }, [pagination, filters, navigate, location.pathname]);\n\n  const handleSearchChange = (nextFilters) => { setFilters(nextFilters); setPagination((prev) => ({ ...prev, page: 1 })); };\n\n  const handleOpenProperty = (propertyId) => navigate(`/property/${propertyId}`, { state: { from: location.pathname, pagination, filters } });\n\n  const handleChangePage = (newPage) => setPagination((prev) => ({ ...prev, page: newPage }));\n\n  if (loading) {\n    return (\n      <div className=\"container-loader full-screen\">\n        <div className=\"spinner\"></div>\n        <p>Cargando inmuebles...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"index-container\">\n      <div className=\"index-content\">\n        <div className=\"index-header\"><Title title=\"Inmuebles Disponibles\" /></div>\n        <Search filters={filters} onChange={handleSearchChange} />\n        <div className=\"index-grid\">\n          {properties.length > 0 ? (\n            properties.map((p) => (\n              <div key={p.idProperty} className=\"index-property-card\" onClick={() => handleOpenProperty(p.idProperty)}>\n                {p.image && p.image.file ? <img className=\"index-property-card-img\" src={`data:image/jpeg;base64,${p.image.file}`} alt={p.name} loading=\"lazy\" /> : <div className=\"no-image\">Sin imagen</div>}\n                <div className=\"index-property-card-info\">\n                  <h1>{p.name}</h1>\n                  <p>{p.address}</p>\n                  <p className=\"price\">${Number(p.price || 0).toLocaleString()}</p>\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"no-results\">No se encontraron inmuebles</p>\n          )}\n        </div>\n        <Pagination page={pagination.page} lastPage={meta?.last_page || pagination.last_page} onPageChange={handleChangePage} />\n      </div>\n    </div>\n  );\n};\n\nexport default Index;\n","import './Button.scss';\r\n\r\nexport const Button = ({id='button', label='', onClick, className=''}) => {\r\n  return (\r\n   <button id={id} onClick={onClick} className={ `button ${className}`} aria-label={ ` ${label} button`}>{ label }</button>\r\n  )\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\r\nimport { Title } from \"../../components/title/Title.js\";\r\nimport { Button } from \"../../components/button/Button.js\";\r\nimport { useFetch } from \"../../services/fetch/useFetch.js\";\r\nimport \"./Property.scss\";\r\n\r\nconst propertyEndpoint = process.env.REACT_APP_ENDPOINT_PROPERTY;\r\n\r\nexport const Property = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { propertyId } = useParams();\r\n  const { data: property, loading, error } = useFetch(`${propertyEndpoint}/${propertyId}`);\r\n\r\n  // Scroll al inicio al montar\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  // Toma \"from\" y el estado de paginacin para volver\r\n  const goBack = () => {\r\n    if (location.state?.from) {\r\n      navigate(location.state.from, { state: { pagination: location.state.pagination, filters: location.state.filters } });\r\n    } else {\r\n      navigate(\"/\");              // fallback si entr directo\r\n    }\r\n  };\r\n\r\n  // Loader\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container-loader full-screen\">\r\n        <div className=\"spinner\"></div>\r\n        <p>Cargando inmueble...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error o sin datos\r\n  if (error || !property) {\r\n    return (\r\n      <div className=\"property-error\">\r\n         Error al cargar el inmueble o no existe.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Extraccin de datos\r\n  const { name, address, price, year, idProperty, codeInternal, image, owner, traces = [] } = property.data;\r\n\r\n  // Render principal\r\n  return (\r\n    <div className=\"property-container\">\r\n      <div className=\"property-card\">\r\n\r\n        {/* Imagen principal */}\r\n        {image?.file ? ( <div className=\"property-image-wrapper\">\r\n                           <img src={`data:image/jpeg;base64,${image.file}`} alt={name} className=\"property-main-image\" loading=\"lazy\" />\r\n                         </div> ) \r\n                     : ( <div className=\"no-image\">Sin imagen disponible</div> )\r\n        }\r\n\r\n        {/* Informacin general */}\r\n        <div className=\"property-info\">\r\n          <Title title={name} />\r\n          <p className=\"property-address\"> {address || \"Sin direccin\"}</p>\r\n          <div className=\"property-price\">\r\n             {price ? `$ ${Number(price).toLocaleString(\"es-CO\")}` : \"Sin precio\"}\r\n          </div>\r\n\r\n          <div className=\"property-details\">\r\n            <p><strong>ID Propiedad:</strong> {idProperty}</p>\r\n            <p><strong>Cdigo interno:</strong> {codeInternal || \"N/A\"}</p>\r\n            <p><strong>Ao construccin:</strong> {year || \"N/A\"}</p>\r\n          </div>\r\n\r\n          {/* Propietario */}\r\n          {owner && (\r\n            <div className=\"property-owner\">\r\n              <h3> Propietario</h3>\r\n              {owner.photo ? ( <img src={`data:image/jpeg;base64,${owner.photo}`} alt={owner.name} className=\"owner-photo\" loading=\"lazy\" /> )\r\n                           : ( <div className=\"no-image\">Sin foto</div> )}\r\n              <p className=\"owner-name\">{owner.name || \"Nombre no disponible\"}</p>\r\n              <p>{owner.address || \"Sin direccin\"}</p>\r\n              <p> {owner.birthday || \"Sin fecha de nacimiento\"}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Historial */}\r\n          <div className=\"property-traces\">\r\n            <h3> Historial de transacciones</h3>\r\n            {traces.length > 0 ? (\r\n              traces.map((trace, index) => (\r\n                <div key={index} className=\"trace-card\">\r\n                  <p><strong>Fecha:</strong> {trace.dateSale || \"N/A\"}</p>\r\n                  <p><strong>Nombre:</strong> {trace.name || \"N/A\"}</p>\r\n                  <p><strong>Valor:</strong> $ {Number(trace.value || 0).toLocaleString(\"es-CO\")}</p>\r\n                  <p><strong>Impuesto:</strong> {Number(trace.tax || 0).toLocaleString(\"es-CO\")} %</p>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"no-traces\">No hay historial de transacciones.</p>\r\n            )}\r\n          </div>\r\n\r\n          <Button id=\"buttonBack\" label={' Regresar'} onClick={goBack} arial-label=\"button back\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Property;\r\n","import { useState, useEffect } from \"react\";\r\nimport { api } from \"../api/api\";\r\nimport { errorWrapper } from \"../api/errorWrapper\";\r\n\r\nexport const useFetch = (apiUrl) => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(Boolean(apiUrl));\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!apiUrl) return; // No ejecutar si la URL no est definida\r\n\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await errorWrapper(api.get(apiUrl));\r\n        const { success, data, message, error: errObj } = res;\r\n\r\n        if (success && data !== undefined) {\r\n          setData(data);\r\n          setMessage(message || \"Datos cargados correctamente\");\r\n        } else {\r\n          console.warn(\" Error lgico en useFetch:\", message, errObj);\r\n          setError(errObj || { message: message || \"Error desconocido\" });\r\n          setData(null);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error en useFetch:\", err);\r\n        setError({ message: err?.message || \"Error al obtener datos\" });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [apiUrl]);\r\n\r\n  return { data, loading, error, message };\r\n};\r\n","import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { api } from '../../../services/api/api';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { login } from '../../../services/store/authSlice';\r\nimport { saveToken } from '../../../services/auth/token';\r\nimport { TextField, Button, InputAdornment, Box, Paper } from '@mui/material';\r\nimport { PiUserCircleFill } from 'react-icons/pi';\r\nimport { FiLock } from 'react-icons/fi';\r\nimport { primaryColor, secondaryColor } from '../../../global';\r\nimport Swal from 'sweetalert2';\r\nimport './Login.scss';\r\n\r\nconst loginEndpoint = process.env.REACT_APP_ENDPOINT_LOGIN;\r\n\r\nexport const Login = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [form, setForm] = useState({ email: '', password: '' });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleLogin = async () => {\r\n    const { email, password } = form;\r\n    if (!email || !password) {\r\n      Swal.fire({ text: 'Por favor, completa todos los campos', icon: 'warning' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.post(loginEndpoint, { email, password });\r\n\r\n      const { data } = response;\r\n      const user = data?.data?.user || {};\r\n      const accessToken = data?.data?.accessToken || '';\r\n      const refreshToken = data?.data?.refreshToken || '';\r\n\r\n      if (!accessToken || !user?.id) {\r\n        Swal.fire({ text: 'Respuesta invlida del servidor', icon: 'error' });\r\n        return;\r\n      }\r\n\r\n      saveToken(accessToken);\r\n      if (refreshToken) saveToken(refreshToken, 'refreshToken');\r\n      sessionStorage.setItem('userId', user.id);\r\n\r\n      dispatch(login({ id: user.id, name: user.name, email: user.email, role: user.role, token: accessToken }));\r\n\r\n      navigate('/home', { replace: true });\r\n    } catch (error) {\r\n      console.error(' Error en login:', error.response?.data || error.message);\r\n      Swal.fire({\r\n        text: error.response?.data?.message || 'Credenciales invlidas o servidor no disponible',\r\n        icon: 'error',\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className=\"login-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', p: 2 }}>\r\n      <Paper elevation={3} className=\"login-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Iniciar sesin\" />\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Correo electrnico\" name=\"email\" type=\"email\" variant=\"outlined\"\r\n            value={form.email} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <PiUserCircleFill color={secondaryColor} size={20} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <TextField label=\"Contrasea\" name=\"password\" type=\"password\"\r\n            variant=\"outlined\" value={form.password} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiLock color={secondaryColor} size={18} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button id=\"loginButton\" variant=\"contained\" color=\"primary\" onClick={handleLogin} disabled={loading} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"login button\">\r\n            {loading ? 'Ingresando...' : 'Ingresar'}\r\n          </Button>\r\n          <Button id=\"registerButton\" variant=\"outlined\" color=\"secondary\" onClick={() => navigate('/register')} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"register button\">\r\n            Crear cuenta\r\n          </Button>\r\n          <Button id=\"forgotPasswordButton\" variant=\"text\" onClick={() => navigate('/password-recover')} sx={{ color: primaryColor, textTransform: 'none', fontWeight: 500, fontSize: '0.95rem !important', mt: 1, '&:hover': { color: '#000' }, }} aria-label=\"forgot password button\">\r\n            Olvidaste tu contrasea?\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { api } from '../../../services/api/api';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { TextField, Button, InputAdornment, Box, Paper } from '@mui/material';\r\nimport { FiUser, FiAtSign, FiLock } from 'react-icons/fi';\r\nimport { secondaryColor } from '../../../global';\r\nimport Swal from 'sweetalert2';\r\nimport './Register.scss';\r\n\r\nconst registerEndpoint = process.env.REACT_APP_ENDPOINT_REGISTER;\r\n\r\nexport const Register = () => {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({ name: '', email: '', password: '' });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    const { name, email, password } = form;\r\n\r\n    if (!name || !email || !password) {\r\n      Swal.fire({ text: 'Por favor, completa todos los campos', icon: 'warning' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.post(registerEndpoint, { name, email, password });\r\n\r\n      if (response.status >= 200 && response.status < 300) {\r\n        Swal.fire({\r\n          title: 'Registro exitoso',\r\n          icon: 'success',\r\n          timer: 1500,\r\n          showConfirmButton: false,\r\n        });\r\n        navigate('/login', { replace: true });\r\n      }\r\n    } catch (error) {\r\n      console.error(' Error en registro:', error.response?.data || error.message);\r\n\r\n      const errors = error.response?.data?.errors;\r\n      let errorHtml = '';\r\n\r\n      if (errors && typeof errors === 'object') {\r\n        console.log(\"errors: \",errors)\r\n        errorHtml = '<ul style=\"padding-left: 20px; text-align: left; margin: 0;\">';\r\n        if (Array.isArray(errors)) {\r\n          for (const msg of errors) {\r\n            errorHtml += `<li style=\"margin-bottom: 6px; color: #d33;\">${msg}</li>`;\r\n          }\r\n        }\r\n        errorHtml += '</ul>';\r\n      } else {\r\n        errorHtml = `<span style=\"color: #d33;\">Ocurri un error inesperado. Intenta nuevamente.</span>`;\r\n      }\r\n\r\n      Swal.fire({\r\n        html: errorHtml,\r\n        title: 'Error',\r\n        icon: 'error',\r\n        confirmButtonText: 'Aceptar',\r\n        customClass: {\r\n          popup: 'home-swal-popup',\r\n          confirmButton: 'home-accept-btn',\r\n        },\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className=\"register-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', p: 2 }}>\r\n      <Paper elevation={3} className=\"register-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Crear cuenta\" />\r\n\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Nombre\" name=\"name\" variant=\"outlined\"\r\n            value={form.name} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiUser color={secondaryColor} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <TextField label=\"Correo electrnico\" name=\"email\" type=\"email\"\r\n            variant=\"outlined\" value={form.email} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiAtSign color={secondaryColor} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <TextField label=\"Contrasea\" name=\"password\" type=\"password\"\r\n            variant=\"outlined\" value={form.password} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiLock color={secondaryColor} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <Button id=\"registerButton\" variant=\"contained\" color=\"primary\" onClick={handleRegister} disabled={loading} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='register button'>\r\n            {loading ? 'Registrando...' : 'Crear cuenta'}\r\n          </Button>\r\n\r\n          <Button id=\"cancelButton\"  variant=\"outlined\" color=\"secondary\" onClick={() => navigate('/login')} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='cancel button'>\r\n            Cancelar\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { api } from '../../../services/api/api';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { Box, Paper, TextField, Button, InputAdornment, Typography } from '@mui/material';\r\nimport { FiAtSign } from 'react-icons/fi';\r\nimport { primaryColor, secondaryColor } from '../../../global';\r\nimport Swal from 'sweetalert2';\r\nimport './PasswordRecover.scss';\r\n\r\nconst recoverEndpoint = process.env.REACT_APP_ENDPOINT_PASSWORD_RECOVER;\r\n\r\nexport const PasswordRecover = () => {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [sending, setSending] = useState(false);\r\n\r\n  const handleRecover = async () => {\r\n    if (!email) return;\r\n    \r\n    try {\r\n      setSending(true);\r\n      const { errorWrapper } = await import('../../../services/api/errorWrapper');\r\n      const { ok, data, error } = await errorWrapper(api.post(`${recoverEndpoint}`, { email }), { unwrap: false });\r\n      if (ok) {\r\n        const msg = data?.message || 'Revisa tu bandeja de entrada para continuar.';\r\n        Swal.fire({ title: 'Correo enviado', icon: 'success', confirmButtonColor: '#107ACC' });\r\n        navigate('/index');\r\n      } else {\r\n        const msg = error?.message || 'No se pudo enviar el correo.';\r\n        Swal.fire({ title: 'Error', text: msg, icon: 'error', confirmButtonColor: '#C00F0C' });\r\n      }\r\n    } catch (err) {\r\n      Swal.fire({ title: 'Error', text: 'No se pudo enviar el correo.', icon: 'error', confirmButtonColor: '#C00F0C' });\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => navigate('/login');\r\n  const handleBack = () => navigate('/login');\r\n\r\n  return (\r\n    <Box className=\"recover-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', padding: 2 }}>\r\n      <Paper elevation={3} className=\"recover-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Recuperar Contrasea\" />\r\n\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Correo electrnico\" type=\"email\" variant=\"outlined\" value={email} onChange={(e) => setEmail(e.target.value)} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiAtSign color={secondaryColor} size={20} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <Button id=\"sendButton\" variant=\"contained\" color=\"primary\" onClick={handleRecover} disabled={sending} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"send button\">\r\n             {sending ? 'Enviando...':'Enviar enlace'}\r\n          </Button>\r\n\r\n          <Button id=\"cancelutton\" variant=\"outlined\" color=\"secondary\" onClick={handleCancel} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"send button\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Typography onClick={handleBack} sx={{ color:primaryColor, fontFamily:'Montserrat', fontSize:'0.95rem', fontWeight:'600', mt:4, cursor:'pointer', '&:hover': { color:'#000 !important', textDecoration:'none !important' } }}>\r\n             Volver al inicio de sesin\r\n          </Typography>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PasswordRecover;\r\n\r\n\r\n\r\n","import { useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { api } from '../../../services/api/api';\r\nimport { Title } from '../../../components/title/Title';\r\nimport Swal from 'sweetalert2';\r\nimport { Box, Paper, TextField, Button, InputAdornment } from '@mui/material';\r\nimport { FiLock } from 'react-icons/fi';\r\nimport './PasswordReset.scss';\r\n\r\nconst resetEndpoint = process.env.REACT_APP_ENDPOINT_PASSWORD_RESET;\r\n\r\nexport const PasswordReset = () => {\r\n  const navigate = useNavigate();\r\n  const { token } = useParams();\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleReset = async () => {\r\n    try {\r\n      const response = await api.patch(`${resetEndpoint}`, { token, newPassword: password });\r\n      if (response.status >= 200 && response.status < 300) {\r\n        Swal.fire({\r\n          title: 'Contrasea actualizada',\r\n          icon: 'success',\r\n          confirmButtonColor: '#107ACC',\r\n        });\r\n        navigate('/login');\r\n      }\r\n    } catch (error) {\r\n      Swal.fire({\r\n        title: 'Error',\r\n        text: error.response?.data?.error?.message || 'No se pudo actualizar la contrasea.',\r\n        icon: 'error',\r\n        confirmButtonColor: '#C00F0C',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => navigate('/login');\r\n\r\n  return (\r\n    <Box className=\"reset-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', padding: 2 }}>\r\n      <Paper elevation={3} className=\"reset-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Crear Nueva contrasea\" />\r\n\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Nueva contrasea\" type=\"password\" variant=\"outlined\" value={password} onChange={(e) => setPassword(e.target.value)} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiLock color=\"#107ACC\" size={20} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <Button id=\"confirmButton\" variant=\"contained\" color=\"primary\" onClick={handleReset} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='confirm button'>\r\n            Confirmar\r\n          </Button>\r\n\r\n          <Button id=\"cancelButton\" variant=\"outlined\" color=\"secondary\" onClick={handleCancel} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='cancel button'>\r\n            Cancelar\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PasswordReset;\r\n\r\n\r\n\r\n\r\n","import './Label.scss';\r\n\r\nexport const Label = ({ text='', color='#000' }) => {\r\n  return (\r\n    <div className=\"label\" style={{color:color}}><span>{ text }</span></div>\r\n  )\r\n}\r\n\r\nexport default Label;","import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { Label } from '../../../components/label/Label';\r\nimport { Button } from '../../../components/button/Button';\r\nimport { FiHome, FiUserCheck, FiStar, FiTrendingUp, FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\r\nimport './AboutUs.scss';\r\n\r\n// Imgenes para slider\r\nconst sliderImages = [\r\n  'https://res.cloudinary.com/brickandbatten/images/c_scale,w_1157,h_422,dpr_1.6500000953674316/f_auto,q_auto/v1716481720/wordpress_assets/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A.jpg?_i=AA',\r\n  'https://plus.unsplash.com/premium_photo-1661488387936-daf401be9cb7?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1460',\r\n  'https://www.intreasso.org/wp-content/uploads/elegir-un-agente-inmobiliario-_intreasso.jpg'\r\n];\r\n\r\n// Servicios\r\nconst services = [\r\n  { icon: <FiHome />, title: 'Compra y venta', description: 'Te ayudamos a comprar y vender propiedades de manera segura.' },\r\n  { icon: <FiUserCheck />, title: 'Asesora personalizada', description: 'Nuestro equipo experto te acompaa en cada paso.' },\r\n  { icon: <FiStar />, title: 'Propiedades exclusivas', description: 'Accede a inmuebles nicos en las mejores ubicaciones.' },\r\n  { icon: <FiTrendingUp />, title: 'Gestin de alquileres', description: 'Administramos tus propiedades para maximizar rentabilidad.' }\r\n];\r\n\r\nexport const AboutUs = () => {\r\n  const navigate = useNavigate();\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n\r\n  // Cambio automtico cada 4s\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrentSlide((prev) => (prev + 1) % sliderImages.length);\r\n    }, 4000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const goToSlide = (index) => setCurrentSlide(index);\r\n  const prevSlide = () => setCurrentSlide((prev) => (prev - 1 + sliderImages.length) % sliderImages.length);\r\n  const nextSlide = () => setCurrentSlide((prev) => (prev + 1) % sliderImages.length);\r\n\r\n  return (\r\n    <div className=\"aboutUs-container\">\r\n      <div className=\"aboutUs-form aboutUs-content\">\r\n        <Title title=\"Nosotros\" />\r\n        {/* Slider */}\r\n        <div className=\"aboutUs-slider\">\r\n          {sliderImages.map((img, idx) => (\r\n            <img key={idx}src={img}\r\n              alt={`Propiedad ${idx + 1}`} className={idx === currentSlide ? 'active' : ''} />\r\n          ))}\r\n\r\n          {/* Flechas */}\r\n          <button className=\"slider-arrow left\" onClick={prevSlide}><FiChevronLeft /></button>\r\n          <button className=\"slider-arrow right\" onClick={nextSlide}><FiChevronRight /></button>\r\n\r\n          {/* Indicadores */}\r\n          <div className=\"slider-indicators\">\r\n            {sliderImages.map((_, idx) => (\r\n              <span\r\n                key={idx}\r\n                className={`indicator ${idx === currentSlide ? 'active' : ''}`}\r\n                onClick={() => goToSlide(idx)}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Contenido */}\r\n        <div className=\"aboutUs-content\">\r\n          <p>Somos una inmobiliaria pensada para ti, ofrecindote propiedades exclusivas y asesora personalizada.</p>\r\n          <Label text=\"Tu hogar ideal te espera!\" />\r\n        </div>\r\n\r\n        {/* Servicios */}\r\n        <div className=\"aboutUs-services\">\r\n          <h3>Nuestros Servicios</h3>\r\n          <div className=\"services-grid\">\r\n            {services.map((s, idx) => (\r\n              <div key={idx} className=\"service-card\">\r\n                <div className=\"service-icon\">{s.icon}</div>\r\n                <h4>{s.title}</h4>\r\n                <p>{s.description}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botones */}\r\n        <div className=\"aboutUs-buttons\">\r\n          <Button id=\"navigateProperties\" label={'Ver Propiedades'} onClick={() => navigate('/index')}/>\r\n          <Button id=\"navigateContact\" label={'Contctanos'} onClick={() => navigate('/contact')}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutUs;\r\n","import { Title } from '../../../components/title/Title';\r\nimport './Contact.scss';\r\n\r\nexport const Contact = () => {\r\n  const team = [\r\n    {\r\n      name: 'Juan Fernando Muoz',\r\n      email: 'juanferm0410@gmail.com',\r\n      phone: '+57 3117863643',\r\n      image: 'https://randomuser.me/api/portraits/men/41.jpg',\r\n    },\r\n    {\r\n      name: 'Mara Camila Torres',\r\n      email: 'mariacamila@gmail.com',\r\n      phone: '+57 3205542187',\r\n      image: 'https://randomuser.me/api/portraits/women/45.jpg',\r\n    },\r\n    {\r\n      name: 'Laura Martnez',\r\n      email: 'lauramartinez@gmail.com',\r\n      phone: '+57 3157749021',\r\n      image: 'https://randomuser.me/api/portraits/women/46.jpg',\r\n    },\r\n    {\r\n      name: 'Valentina Lpez',\r\n      email: 'valentina.lopez@gmail.com',\r\n      phone: '+57 3109982311',\r\n      image: 'https://randomuser.me/api/portraits/women/47.jpg',\r\n    },\r\n    {\r\n      name: 'Santiago Henao',\r\n      email: 'shr09@gmail.com',\r\n      phone: '+57 3188511479',\r\n      image: 'https://randomuser.me/api/portraits/men/42.jpg',\r\n    },\r\n    {\r\n      name: 'Sofa Ramrez',\r\n      email: 'sofia.ramirez@gmail.com',\r\n      phone: '+57 3168834402',\r\n      image: 'https://randomuser.me/api/portraits/women/48.jpg',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"contact-container\">\r\n      <Title title=\"Nuestro Equipo\" />\r\n      <p className=\"contact-subtitle\">\r\n        Conoce al equipo detrs de <strong>Real Estate</strong>, siempre listos para ayudarte a encontrar tu nuevo hogar.\r\n      </p>\r\n\r\n      <div className=\"contact-cards\">\r\n        {team.map((member, index) => (\r\n          <div className=\"contact-card\" key={index}>\r\n            <div className=\"contact-image-wrapper\">\r\n              <img src={member.image} alt={member.name} className=\"contact-photo\" />\r\n            </div>\r\n            <div className=\"contact-info\">\r\n              <h3>{member.name}</h3>\r\n              <p>{member.email}</p>\r\n              <span className=\"contact-phone\">\r\n                <span className=\"prefix\">+57</span> {member.phone.replace('+57 ', '')}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport function NotFound(){\r\n  return (\r\n    <main style={{minHeight:\"60vh\",display:\"grid\",placeItems:\"center\",padding:\"32px\"}}>\r\n      <div style={{textAlign:\"center\"}}>\r\n        <h1 style={{fontSize:\"64px\",margin:0}}>404</h1>\r\n        <p style={{margin:\"8px 0 16px\"}}>La pgina que buscas no existe.</p>\r\n        <Link to=\"/\" style={{padding:\"10px 16px\",borderRadius:\"12px\",border:\"1px solid #ccc\",display:\"inline-block\"}}>\r\n          Ir al inicio\r\n        </Link>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\nexport default NotFound;\r\n","import { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport { AppMenu } from \"../components/menu/AppMenu\";\r\nimport { Header } from \"../components/header/Header\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { DashboardRoutes } from \"./DashboardRoutes\";\r\nimport { Index } from \"../modules/core/index/Index\";\r\nimport { Property } from \"../modules/property/Property\";\r\nimport { Login } from \"../modules/auth/login/Login\";\r\nimport { Register } from \"../modules/auth/register/Register\";\r\nimport { PasswordRecover } from \"../modules/password/recover/PasswordRecover\";\r\nimport { PasswordReset } from \"../modules/password/reset/PasswordReset\";\r\nimport { AboutUs } from \"../modules/core/aboutus/AboutUs\";\r\nimport { Contact } from \"../modules/core/contact/Contact\";\r\nimport { NotFound } from \"../modules/core/notfound/NotFound\";\r\n\r\nconst urlBasepath = process.env.REACT_APP_FRONTEND_BASEPATH;\r\n\r\nexport const AppRouter = () => (\r\n  <BrowserRouter basename={urlBasepath}>\r\n    <AppMenu />\r\n    <Header />\r\n    <Routes>\r\n      <Route path=\"*\" element={<PublicRoute><Index/></PublicRoute>} />\r\n      <Route path=\"/index/*\" element={<PublicRoute><Index/></PublicRoute>} />\r\n      <Route path=\"/property/:propertyId\" element={<PublicRoute><Property/></PublicRoute>} />\r\n      <Route path=\"/login/*\" element={<PublicRoute><Login/></PublicRoute>} />\r\n      <Route path=\"/register\" element={<PublicRoute><Register/></PublicRoute>} />\r\n      <Route path=\"/password-recover\" element={<PublicRoute><PasswordRecover/></PublicRoute>} />\r\n      <Route path=\"/password-reset/:token\" element={<PublicRoute><PasswordReset/></PublicRoute>} />\r\n      <Route path=\"/about-us\" element={<PublicRoute><AboutUs/></PublicRoute>} />\r\n      <Route path=\"/contact\" element={<PublicRoute><Contact/></PublicRoute>} />\r\n      <Route path=\"/*\" element={<PrivateRoute><DashboardRoutes/></PrivateRoute>} />\r\n      {/* <Route path=\"*\" element={<PublicRoute><NotFound/></PublicRoute>} /> */}\r\n    </Routes>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default AppRouter;\r\n","import { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./services/store/store.js\";\nimport { AppRouter } from './routers/AppRouter';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <PersistGate loading={<div>Cargando sesin...</div>} persistor={persistor}>\n        <AppRouter />\n      </PersistGate>\n    </Provider>\n  );\n}\n\nexport default App;\n"],"names":["flattenErrors","e","Array","isArray","filter","Boolean","map","String","out","k","v","Object","entries","push","async","errorWrapper","promise","unwrap","arguments","length","undefined","response","body","data","ok","success","statusCode","message","error","err","friendly","_res$status","res","status","detail","statusText","errors","_body$statusCode","_body$message","_body$data","title","normalizeError","_objectSpread","storedToken","sessionStorage","getItem","localStorage","storedUser","base64Payload","split","JSON","parse","atob","initialState","logged","token","user","authSlice","createSlice","name","reducers","login","state","action","payload","nextToken","id","email","role","setItem","setAuth","updateProfile","changes","logout","removeItem","actions","getBaseURL","env","process","replace","window","__API_BASE__","getToken","key","storage","_","getTokenPayload","parts","base64","json","decodeURIComponent","c","charCodeAt","toString","slice","join","decodeToken","getUserFromToken","getFirst","keys","find","roles","getTokenExp","p","exp","isTokenExpired","skewSeconds","Math","floor","Date","now","saveToken","clearToken","refreshPromise","interceptorMap","WeakMap","redirectToLogin","_window$location","_window$location2","here","location","pathname","search","startsWith","_unused","store","dispatch","_unused2","_unused3","refreshToken","endpoint","baseURL","currentToken","client","axios","create","timeout","post","headers","Authorization","concat","then","_ref","_ref2","_res$data$token","_res$data","_res$data2","_res$data3","_res$data3$data","newToken","accessToken","_store$getState","_store$getState$auth","getState","auth","catch","_unused4","finally","ensureFreshToken","isTokenNearExpiry","_unused5","api","existing","get","ids","reqId","interceptors","request","use","config","__skipAuth","_unused6","resId","resp","_error$response","_error$response2","original","__retry","_unused7","_unused8","Promise","reject","set","installAuthInterceptors","ENDPOINT","fetchProperties","createAsyncThunk","page","limit","address","minPrice","maxPrice","refresh","params","URLSearchParams","append","trim","url","items","meta","finalMeta","total","last_page","_p$idProperty","_ref3","_p$name","_ref4","_p$address","_ref5","_p$price","_ref6","_p$year","_ref7","_p$codeInternal","_ref8","_p$idOwner","_ref9","_p$image","_p$owner","_p$traces","idProperty","IdProperty","Name","Address","price","Number","Price","year","Year","codeInternal","CodeInternal","idOwner","IdOwner","image","Image","owner","traces","filters","createProperty","_res$data$data","propertyData","properties","loading","extraReducers","builder","addCase","pending","fulfilled","rejected","persistConfig","createSessionStorage","createWebStorage","resolve","_key","value","whitelist","persistedAuthReducer","persistReducer","authReducer","configureStore","reducer","property","propertyReducer","middleware","getDefaultMiddleware","serializableCheck","persistor","persistStore","Header","_jsx","className","children","_jsxs","TbSmartHome","size","strokeWidth","AppMenu","useDispatch","navigate","useNavigate","useSelector","s","useMemo","tokenUser","currentRole","toLowerCase","valid","menuOpen","setMenuOpen","useState","closeMenu","useCallback","syncMenu","isOpen","go","whenIn","whenOut","goUsers","goLogin","handleLogout","Menu","left","onStateChange","disableAutoFocus","type","onClick","FiHome","_Fragment","FiUpload","FiUser","FiUsers","FiPhone","FiLogOut","RoleRoute","_user$role","element","allowed","redirectTo","useLocation","rawRole","userRoles","allowedRoles","toKey","userKeys","allowedKeys","some","r","includes","Navigate","to","Title","formatShort","round","toLocaleString","Search","onChange","didInit","useRef","trackRef","setName","setAddress","min","setMin","max","setMax","MAX_PRICE","open","setOpen","cleanup","useEffect","current","clearTimeout","isDirty","toggle","FiFilter","FiX","FiSearch","TextField","target","label","FiMapPin","FiDollarSign","rect","getBoundingClientRect","pct","clientX","width","STEP","abs","nextMin","nextMax","ref","style","right","step","val","onMinRange","onMaxRange","clear","FiRotateCcw","color","secondaryColor","apply","Pagination","lastPage","onPageChange","buttonClassName","prevLabel","nextLabel","disabled","prevDisabled","nextDisabled","lastDisabled","handlePrev","handleGoLast","handleNext","rolesOf","Home","_propertyState$proper","_propertyState$meta","_authUser$role","_location$state4","propertyState","authUser","userId","isAdmin","isEditor","canEdit","canDelete","firstName","displayRole","charAt","toUpperCase","setFilters","_location$state","pagination","setPagination","_location$state2","_location$state3","needsRefresh","rest","_objectWithoutProperties","_excluded","handleEditProperty","propertyId","from","handleAddProperty","FiPlus","FaUserSecret","FaUserTie","FaUser","next","prev","cursor","file","src","alt","stopPropagation","FiEdit2","Swal","text","icon","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","cancelButtonColor","background","customClass","popup","isConfirmed","delete","handleDeleteProperty","FiTrash2","newPage","AddButton","handleChange","handleInputChange","AddProperty","endpoints","itemProperty","setProperty","propertyDto","itemOwner","setOwner","ownerDto","itemPropertyImage","setPropertyImage","propertyImageDto","itemPropertyTrace","setPropertyTrace","propertyTraceDto","creating","setCreating","toBase64","rej","reader","FileReader","onload","result","onerror","readAsDataURL","clamp","n","isFinite","section","index","t","i","handleImageChange","_e$target","_e$target$files","files","preview","URL","createObjectURL","photo","ownerPhotoPreview","enabled","imagePreview","onSubmit","preventDefault","birthday","every","dateSale","_property$idProperty","_property$name","_property$address","_property$price","_property$codeInterna","_property$year","_property$idOwner","_property$owner$idOwn","_property$owner$name","_property$owner$addre","_property$owner$photo","_property$owner$birth","_property$image$idPro","_property$image$idPro2","_property$image$file","_property$image$enabl","idPropertyImage","trace","_trace$idPropertyTrac2","_trace$idProperty2","_trace$dateSale2","_trace$name2","_trace$value2","_trace$tax2","idPropertyTrace","tax","mapPropertyToDto","_error$response$data","console","required","LocalizationProvider","dateAdapter","AdapterDayjs","DatePicker","views","dayjs","slotProps","textField","fullWidth","Box","document","getElementById","click","Typography","variant","accept","hidden","InputLabelProps","shrink","handleDeleteTrace","handleAddTrace","Button","mapPropertyTraceToDto","_trace$idPropertyTrac","_trace$dateSale","_trace$name","_trace$value","_trace$tax","_trace$idProperty","IdPropertyTrace","DateSale","Value","Tax","EditProperty","useParams","setLoading","updating","setUpdating","traceAlert","setTraceAlert","severity","goBackToHome","withRefresh","backTo","stateToSend","_property$traces","Error","loadProperty","clampNonNegative","newVal","_itemOwner$name","_itemOwner$address","_itemOwner$photo","_itemOwner$ownerPhoto","_itemOwner$birthday","cleanedImage","_image$idPropertyImag","_image$idProperty","_image$file","_image$enabled","IdPropertyImage","File","Enabled","mapPropertyImageToDto","cleanedOwner","_owner$name","_owner$address","_owner$photo","_owner$birthday","Photo","Birthday","mapOwnerToDto","cleanedTraces","_t$name","_t$dateSale","patchPayload","log","resUpdate","patch","sx","mb","Alert","onClose","textAlign","User","isLogged","FiEdit","PiUserCircleFill","EditUser","form","setForm","Paper","elevation","component","userDto","_user$id","_user$name","_user$name$trim","_user$email","_user$email$trim","_user$role$trim","Id","call","Email","Role","mapUserToDto","changedFields","timer","showConfirmButton","_res$error","gridColumn","select","MenuItem","borderRadius","textTransform","py","ManageUsers","users","setUsers","query","setQuery","errorMsg","setErrorMsg","userEndpoint","_data$data","raw","normalized","u","pick","_len","normalizeUser","ceil","load","filtered","q","totalFiltered","lastFilteredPage","currentPage","start","end","paged","placeholder","InputProps","startAdornment","InputAdornment","position","idx","newRole","encodeURIComponent","handleRoleChange","primaryColor","nextTotal","nextLast","nextPage","handleDelete","marginTop","DashboardRoutes","Routes","Route","path","PublicRoute","PrivateRoute","Index","nextFilters","handleOpenProperty","Property","apiUrl","setData","setError","setMessage","errObj","warn","fetchData","useFetch","scrollTo","goBack","Login","password","display","justifyContent","alignItems","minHeight","maxWidth","flexDirection","gap","mt","FiLock","_data$data2","_data$data3","_error$response2$data","fontWeight","fontSize","Register","FiAtSign","errorHtml","msg","html","confirmButton","PasswordRecover","setEmail","sending","setSending","padding","handleCancel","handleBack","fontFamily","textDecoration","PasswordReset","setPassword","newPassword","_error$response$data$","Label","sliderImages","services","description","FiUserCheck","FiStar","FiTrendingUp","AboutUs","currentSlide","setCurrentSlide","interval","setInterval","clearInterval","img","prevSlide","FiChevronLeft","nextSlide","FiChevronRight","Contact","phone","member","AppRouter","BrowserRouter","basename","Provider","PersistGate"],"sourceRoot":""}