"use strict";(self.webpackChunkrealestate_app=self.webpackChunkrealestate_app||[]).push([[561],{2589:(e,a,r)=>{r.d(a,{errorWrapper:()=>i});var t=r(9379);function n(e){if(!e)return[];if(Array.isArray(e))return e.filter(Boolean).map(String);if("object"===typeof e){const a=[];for(const[r,t]of Object.entries(e))Array.isArray(t)?a.push(...t.map(String)):t&&a.push(String(t));return a}return[String(e)]}async function i(e){let{unwrap:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const r=await e,t=null===r||void 0===r?void 0:r.data;return t&&"object"===typeof t&&"success"in t&&"statusCode"in t?{ok:!0,success:t.success,statusCode:t.statusCode,message:t.message,data:a?t.data:t,error:null}:{ok:!0,success:!0,data:t,message:"Operaci\xf3n exitosa",error:null}}catch(r){const e=function(e){var a;const r=null===e||void 0===e?void 0:e.response,t=null===r||void 0===r?void 0:r.data;let i=null!==(a=null===r||void 0===r?void 0:r.status)&&void 0!==a?a:0,s=(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.detail)||(null===r||void 0===r?void 0:r.statusText)||(null===e||void 0===e?void 0:e.message)||"Error inesperado",o=[],l=null;if(t&&"object"===typeof t){var d,c,u;if("success"in t||"statusCode"in t||"errors"in t||"data"in t)return i=null!==(d=t.statusCode)&&void 0!==d?d:i,s=null!==(c=t.message)&&void 0!==c?c:s,o=n(t.errors),l=null!==(u=t.data)&&void 0!==u?u:null,{success:!1,statusCode:i,message:s,errors:o,data:l};if(t.errors&&"object"===typeof t.errors)return o=n(t.errors),{success:!1,statusCode:i,message:s,errors:o,data:null};if(t.title||t.detail)return s=t.detail||t.title||s,o=n(t.errors),{success:!1,statusCode:i,message:s,errors:o,data:null}}return r?{success:!1,statusCode:i,message:s,errors:o,data:null}:{success:!1,statusCode:0,message:"No hay respuesta del servidor",errors:[(null===e||void 0===e?void 0:e.message)||"Network/Timeout"],data:null}}(r);return(0,t.A)((0,t.A)({ok:!1},e),{},{error:e})}}},6561:(e,a,r)=>{r.r(a),r.d(a,{default:()=>Je});var t=r(3003),n=r(4730),i=r(4809),s=r(6698),o=r(6766),l=r(9379);const d=sessionStorage.getItem("token")||localStorage.getItem("token")||"";let c=null;if(d)try{const e=d.split(".")[1]||"";c=JSON.parse(atob(e))}catch(Ke){c=null}const u={logged:!!d,token:d,user:c},m=(0,i.Z0)({name:"auth",initialState:u,reducers:{login(e,a){const r=a.payload||{},t=r.token||e.token;if(e.logged=!0,e.token=t,r.user)e.user=r.user;else{const{id:a,name:t,email:n,role:i}=r;e.user=(0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},e.user||{}),a?{id:a}:{}),t?{name:t}:{}),n?{email:n}:{}),i?{role:i}:{})}t&&sessionStorage.setItem("token",t)},setAuth(e,a){const r=a.payload||{};e.logged=!0,r.token&&(e.token=r.token,sessionStorage.setItem("token",r.token)),r.user&&(e.user=r.user)},updateProfile(e,a){const r=a.payload||{};e.user=(0,l.A)((0,l.A)({},e.user||{}),r)},logout(e){e.logged=!1,e.token="",e.user=null,sessionStorage.removeItem("token"),localStorage.removeItem("token")}}}),{login:p,logout:v,updateProfile:h,setAuth:x}=m.actions,g=m.reducer;var j=r(9722);const f=()=>{const e="https://realestate-api-r76f.onrender.com";return e?e.replace(/\/+$/,""):"undefined"!==typeof window&&window.__API_BASE__?window.__API_BASE__.replace(/\/+$/,""):""},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sessionStorage;try{return a.getItem(e)||null}catch(r){return null}},y=function(){return(e=>{if(!e||"string"!==typeof e)return null;const a=e.split(".");if(a.length<2)return null;try{const e=a[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(e).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch(r){return null}})(b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token"))},N=e=>{if(!e||"object"!==typeof e)return null;const a=a=>a.map(a=>e[a]).find(e=>null!=e);return{id:a(["sub","user_id","id"]),name:a(["name","fullName","given_name","username","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"]),email:a(["email","preferred_username","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]),role:a(["role","http://schemas.microsoft.com/ws/2008/06/identity/claims/role"])||(Array.isArray(e.roles)?e.roles[0]:void 0)}},A=e=>{const a=e||y("token");if(!a||"object"!==typeof a)return null;const r="number"===typeof a.exp?a.exp:null;return null!==r&&void 0!==r?r:null},C=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=A(e);if(!r)return!0;return Math.floor(Date.now()/1e3)>=r-a},w=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"token",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sessionStorage;try{r.setItem(a,e)}catch(t){}},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sessionStorage;try{a.removeItem(e)}catch(r){}};let k=null;const I=new WeakMap,S=()=>{try{var e,a;const r=((null===(e=window.location)||void 0===e?void 0:e.pathname)||"")+((null===(a=window.location)||void 0===a?void 0:a.search)||"");r&&!r.startsWith("/login")&&sessionStorage.setItem("lastPath",r)}catch(r){}try{L.dispatch(v())}catch(t){}P();try{window.location.replace("/login")}catch(n){}},B=async()=>{if(k)return k;const e="/api/token/refresh",a=f(),r=b("token");if(!r)return null;const t=j.A.create({baseURL:a,timeout:15e3});return k=t.post(e,{},{headers:{Authorization:"Bearer ".concat(r)}}).then(e=>{var a,r,t,n,i,s,o;const d=null!==(a=null!==(r=null!==(t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.token)&&void 0!==t?t:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.accessToken)&&void 0!==r?r:null===e||void 0===e||null===(s=e.data)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.accessToken)&&void 0!==a?a:null;if(d){var c,u;w(d);const e=(null===(c=L.getState())||void 0===c||null===(u=c.auth)||void 0===u?void 0:u.user)||{};L.dispatch(p((0,l.A)((0,l.A)({},e),{},{token:d})))}return d}).catch(e=>{P();try{L.dispatch(v())}catch(a){}throw S(),e}).finally(()=>{k=null}),k},E=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;const a=y("token");if(!a)return null;if(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;const r=A(e);return!r||r-Math.floor(Date.now()/1e3)<=a}(a,e))try{return await B()}catch(r){return null}return b("token")},z=j.A.create({baseURL:f(),timeout:2e4,headers:{"Content-Type":"application/json"}});(e=>{if(!e)return null;const a=I.get(e);if(a)return a;const r={reqId:e.interceptors.request.use(async e=>{if(e.__skipAuth)return e;try{await E();const a=b("token");a&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(a))}catch(a){}return e}),resId:e.interceptors.response.use(e=>e,async a=>{var r,t;const n=(null===a||void 0===a?void 0:a.config)||{};if(401===(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)&&!n.__retry){n.__retry=!0;try{const a=await B();if(a)return n.headers=n.headers||{},n.headers.Authorization="Bearer ".concat(a),e(n)}catch(i){}}if(401===(null===a||void 0===a||null===(t=a.response)||void 0===t?void 0:t.status)){try{L.dispatch(v())}catch(s){}S()}return Promise.reject(a)})};I.set(e,r)})(z);var q=r(2589);const R="/api/property",_=(0,i.zD)("property/fetchAll",async function(){var e;let{page:a=1,limit:r=6,name:t="",address:n="",minPrice:i="",maxPrice:s="",refresh:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=new URLSearchParams;l.append("page",a),l.append("limit",r),t&&""!==t.trim()&&l.append("name",t.trim()),n&&""!==n.trim()&&l.append("address",n.trim()),""!==i&&null!==i&&l.append("minPrice",i),""!==s&&null!==s&&l.append("maxPrice",s),o&&l.append("refresh","true");const d="".concat(R,"?").concat(l.toString()),c=await(0,q.errorWrapper)(z.get(d,{__skipAuth:!0}),{unwrap:!1});if(!c.ok)throw c.error;const u=c.data||{};let m=[],p={};null!==u&&void 0!==u&&null!==(e=u.data)&&void 0!==e&&e.data&&Array.isArray(u.data.data)?(m=u.data.data,p=u.data.meta||{}):Array.isArray(null===u||void 0===u?void 0:u.data)?(m=u.data,p=u.meta||{}):Array.isArray(u)&&(m=u,p={});const v=p||{page:a,limit:r,total:m.length,last_page:1};return{items:m.map(e=>{var a,r,t,n,i,s,o,l,d,c,u,m,p,v,h,x,g,j,f;return{idProperty:null!==(a=null!==(r=null!==(t=e.idProperty)&&void 0!==t?t:e.IdProperty)&&void 0!==r?r:e.id)&&void 0!==a?a:"",name:null!==(n=null!==(i=e.name)&&void 0!==i?i:e.Name)&&void 0!==n?n:"",address:null!==(s=null!==(o=e.address)&&void 0!==o?o:e.Address)&&void 0!==s?s:"",price:Number(null!==(l=null!==(d=e.price)&&void 0!==d?d:e.Price)&&void 0!==l?l:0),year:Number(null!==(c=null!==(u=e.year)&&void 0!==u?u:e.Year)&&void 0!==c?c:0),codeInternal:Number(null!==(m=null!==(p=e.codeInternal)&&void 0!==p?p:e.CodeInternal)&&void 0!==m?m:0),idOwner:null!==(v=null!==(h=e.idOwner)&&void 0!==h?h:e.IdOwner)&&void 0!==v?v:"",image:null!==(x=null!==(g=e.image)&&void 0!==g?g:e.Image)&&void 0!==x?x:null,owner:null!==(j=e.owner)&&void 0!==j?j:null,traces:null!==(f=e.traces)&&void 0!==f?f:[]}}),meta:v,filters:{name:(null===t||void 0===t?void 0:t.trim())||"",address:(null===n||void 0===n?void 0:n.trim())||"",minPrice:i||"",maxPrice:s||""}}}),D=(0,i.zD)("property/create",async e=>{var a,r;const t=await(0,q.errorWrapper)(z.post(R,e));return null!==(a=null===(r=t.data)||void 0===r?void 0:r.data)&&void 0!==a?a:t.data}),W=(0,i.Z0)({name:"property",initialState:{properties:[],meta:{page:1,limit:6,total:0,last_page:1},loading:!1,error:null,filters:{name:"",address:"",minPrice:"",maxPrice:""}},reducers:{},extraReducers:e=>{e.addCase(_.pending,e=>{e.loading=!0,e.error=null}).addCase(_.fulfilled,(e,a)=>{e.loading=!1,e.properties=a.payload.items||[],e.meta=a.payload.meta||e.meta,e.filters=a.payload.filters||e.filters}).addCase(_.rejected,(e,a)=>{e.loading=!1,e.error=a.error.message}).addCase(D.fulfilled,(e,a)=>{a.payload&&e.properties.push(a.payload)})}}).reducer,T={key:"auth",storage:(()=>{try{return(0,o.A)("session")}catch(e){return{getItem:()=>Promise.resolve(null),setItem:(e,a)=>Promise.resolve(a),removeItem:()=>Promise.resolve()}}})(),whitelist:["user","token","logged"]},F=(0,s.rL)(T,g),L=(0,i.U1)({reducer:{auth:F,property:W},middleware:e=>e({serializableCheck:!1})}),M=(0,s.GM)(L);var O=r(9001),U=r(5043),Z=r(6723),H=r(397),Y=r(579);const V=()=>(0,Y.jsx)("header",{className:"header",children:(0,Y.jsxs)("div",{className:"header-content",children:[(0,Y.jsx)(H.tTb,{className:"header-icon",size:52.5,strokeWidth:2.5}),(0,Y.jsxs)("h1",{className:"header-title",children:["Real",(0,Y.jsx)("span",{className:"header-letter",children:"Estate"})]})]})});var X=r(5200);const G=()=>{const e=(0,t.wA)(),a=(0,O.Zp)(),r=(0,t.d4)(e=>e.auth.user),{logged:n,role:i}=(0,U.useMemo)(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token")||"";if(!e&&!r)return{logged:!1,role:""};try{const a=e?y(e):null,t=a?N(a):null,n=((null===r||void 0===r?void 0:r.role)||(null===t||void 0===t?void 0:t.role)||"").toLowerCase(),i=a?!C(a):Boolean(r);return{logged:Boolean(i&&(r||t)),role:n}}catch(a){return{logged:Boolean(r),role:((null===r||void 0===r?void 0:r.role)||"").toLowerCase()}}},[r]),[s,o]=(0,U.useState)(!1),l=(0,U.useCallback)(()=>o(!1),[]),d=(0,U.useCallback)(e=>o(e.isOpen),[]),c=(0,U.useCallback)((e,r)=>{a(n?e:r),l()},[n,a,l]),u=(0,U.useCallback)(()=>{a("/users"),l()},[a,l]),m=(0,U.useCallback)(()=>{a("/login"),l()},[a,l]),p=((0,U.useCallback)(()=>{a("/add-property"),l()},[a,l]),(0,U.useCallback)(()=>{e(v());try{localStorage.removeItem("token"),sessionStorage.removeItem("token"),sessionStorage.removeItem("userId"),sessionStorage.removeItem("refreshToken")}catch(r){}a("/",{replace:!0}),l()},[e,a,l]));return(0,Y.jsxs)(Z.slide,{left:!0,isOpen:s,onStateChange:d,disableAutoFocus:!0,children:[(0,Y.jsx)(V,{}),(0,Y.jsx)("hr",{className:"bm-hr"}),(0,Y.jsxs)("button",{type:"button",className:"menu-item",onClick:()=>c("/home","/index"),children:[(0,Y.jsx)(X.V5Y,{className:"menu-item-icon"})," Inmuebles"]}),(0,Y.jsx)("button",{type:"button",className:"menu-item",onClick:()=>c("/add-property","/about-us"),children:n?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(X.B88,{className:"menu-item-icon"})," Registrar inmueble"]}):(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(X.JXP,{className:"menu-item-icon"})," Nosotros"]})}),n&&"admin"===i&&(0,Y.jsxs)("button",{type:"button",className:"menu-item",onClick:u,children:[(0,Y.jsx)(X.cfS,{className:"menu-item-icon"})," Usuarios"]}),(0,Y.jsx)("button",{type:"button",className:"menu-item",onClick:()=>c("/profile","/contact"),children:n?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(X.JXP,{className:"menu-item-icon"})," Perfil"]}):(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(X.QFc,{className:"menu-item-icon"})," Contacto"]})}),(0,Y.jsxs)("button",{type:"button",className:"menu-item",onClick:n?p:m,children:[(0,Y.jsx)(X.QeK,{className:"menu-item-icon"})," ",n?"Cerrar sesi\xf3n":"Ingresar"]})]})},$=e=>{var a;let{element:r,allowed:n=[],redirectTo:i="/home"}=e;const s=(0,t.d4)(e=>e.auth.user),{pathname:o,search:l}=(0,O.zy)(),d=y("token"),c=N(d)||{},u=null!==(a=null===s||void 0===s?void 0:s.role)&&void 0!==a?a:null===c||void 0===c?void 0:c.role,m=Array.isArray(u)?u:u?[u]:[],p=Array.isArray(n)?n:[n],v=e=>null==e?"":String(e).toLowerCase(),h=m.map(v),x=p.map(v);sessionStorage.setItem("lastPath",o+l);return 0===x.length||x.some(e=>h.includes(e))?r:(0,Y.jsx)(O.C5,{to:i,replace:!0})};var J=r(45);const K=e=>{let{title:a=""}=e;return(0,Y.jsx)("div",{className:"title",children:(0,Y.jsx)("h1",{children:a})})};var Q=r(5078),ee=r(6213);const ae=e=>e>=1e6?"".concat(Math.round(e/1e6)," M"):"$ ".concat(e.toLocaleString()),re=e=>{let{filters:a={},onChange:r,className:t=""}=e;const n=(0,U.useRef)(!1),i=(0,U.useRef)(null),[s,o]=(0,U.useState)(a.name||""),[l,d]=(0,U.useState)(a.address||""),[c,u]=(0,U.useState)(void 0!==a.minPrice?Number(a.minPrice):0),[m,p]=(0,U.useState)(void 0!==a.maxPrice?Number(a.maxPrice):ee.P4),[v,h]=(0,U.useState)(!1),x=(0,U.useRef)(null);(0,U.useEffect)(()=>(n.current||(n.current=!0),()=>{x.current&&clearTimeout(x.current)}),[]);const g=!!s||!!l||c>0||m<ee.P4;return(0,Y.jsxs)("div",{className:"searchbar ".concat(t).trim(),children:[(0,Y.jsxs)("button",{type:"button",className:"searchbar-toggle ".concat(v?"is-open":""),onClick:()=>h(e=>!e),children:[(0,Y.jsx)(X.K7R,{className:"searchbar-icon"}),(0,Y.jsx)("span",{children:"Filtros"}),g&&(0,Y.jsx)("small",{className:"searchbar-indicator",children:"aplicados"}),v&&(0,Y.jsx)(X.yGN,{className:"searchbar-toggle-close"})]}),(0,Y.jsxs)("div",{className:"searchbar-panel ".concat(v?"is-open":""),children:[(0,Y.jsxs)("div",{className:"searchbar-group",children:[(0,Y.jsxs)("div",{className:"searchbar-field",children:[(0,Y.jsx)(X.CKj,{className:"searchbar-icon"}),(0,Y.jsx)(Q.A,{id:"nameSearch",type:"text",value:s,onChange:e=>o(e.target.value),label:"Nombre","aria-label":"name search input"})]}),(0,Y.jsx)("div",{className:"searchbar-divider"}),(0,Y.jsxs)("div",{className:"searchbar-field",children:[(0,Y.jsx)(X.HzC,{className:"searchbar-icon"}),(0,Y.jsx)(Q.A,{id:"addressSearch",type:"text",value:l,onChange:e=>d(e.target.value),label:"Direcci\xf3n | sector","aria-label":"address search input"})]}),(0,Y.jsx)("div",{className:"searchbar-divider hide-mobile"}),(0,Y.jsxs)("div",{className:"searchbar-field searchbar-price",children:[(0,Y.jsx)(X.z8N,{strokeWidth:2,className:"searchbar-icon"}),(0,Y.jsxs)("div",{className:"price-slider",onClick:e=>{if(!i.current)return;const a=i.current.getBoundingClientRect();let r=(e.clientX-a.left)/a.width;r=Math.min(Math.max(r,0),1);let t=Math.round(r*ee.P4/ee.RZ)*ee.RZ;if(Math.abs(t-c)<=Math.abs(t-m)){let e=Math.min(t,m-ee.RZ);e<0&&(e=0),u(e)}else{let e=Math.max(t,c+ee.RZ);e>ee.P4&&(e=ee.P4),p(e)}},children:[(0,Y.jsx)("div",{className:"price-slider-track",ref:i}),(0,Y.jsx)("div",{className:"price-slider-range",style:{left:"".concat(c/ee.P4*100,"%"),right:"".concat(100-m/ee.P4*100,"%")}}),(0,Y.jsx)("input",{id:"minRangeLimit",type:"range",min:"0",max:ee.P4,step:ee.RZ,value:c,onChange:e=>(e=>{const a=Math.min(Math.max(0,Number(e)),ee.P4);a>=m||u(a)})(e.target.value),"aria-label":"min range limit"}),(0,Y.jsx)("input",{id:"maxRangeLimit",type:"range",min:"0",max:ee.P4,step:ee.RZ,value:m,onChange:e=>(e=>{const a=Math.min(Math.max(0,Number(e)),ee.P4);a<=c||p(a)})(e.target.value),"aria-label":"max range limit"}),(0,Y.jsxs)("div",{className:"price-slider-labels",children:[(0,Y.jsx)("span",{children:ae(c)}),(0,Y.jsx)("span",{children:ae(m)})]})]})]})]}),(0,Y.jsxs)("div",{className:"searchbar-actions",children:[(0,Y.jsxs)("button",{id:"clearButton",type:"button",className:"searchbar-clear",onClick:()=>{o(""),d(""),u(0),p(ee.P4),"function"===typeof r&&r({name:"",address:"",minPrice:0,maxPrice:ee.P4})},children:[(0,Y.jsx)(X.cO3,{color:ee.oD,"aria-label":"clear button"}),(0,Y.jsx)("span",{children:"Limpiar"})]}),(0,Y.jsxs)("button",{id:"applyButton",type:"button",className:"searchbar-apply",onClick:()=>{"function"===typeof r&&r({name:s,address:l,minPrice:c,maxPrice:m}),h(!1)},children:[(0,Y.jsx)(X.K7R,{color:ee.oD,"aria-label":"apply button"}),(0,Y.jsx)("span",{children:"Aplicar"})]})]})]})]})},te=e=>{let{page:a=1,lastPage:r=1,onPageChange:t,className:n="pagination",buttonClassName:i="pagination_btn",prevLabel:s="Anterior",nextLabel:o="Siguiente",disabled:l=!1}=e;const d=l||a<=1,c=l||a>=r,u=l||a>=r;return(0,Y.jsxs)("div",{className:n,children:[(0,Y.jsx)("button",{className:i,disabled:d,onClick:()=>{d||"function"!==typeof t||t(a-1)},"aria-label":"Anterior",children:(0,Y.jsx)("span",{children:s})}),(0,Y.jsxs)("span",{className:"pagination_info",children:["P\xe1gina ",a," de"," ",(0,Y.jsx)("button",{type:"button",onClick:()=>{u||"function"!==typeof t||t(r)},disabled:u,"aria-label":"Ir a la \xfaltima p\xe1gina",className:"pagination_last",children:r})]}),(0,Y.jsx)("button",{className:i,disabled:c,onClick:()=>{c||"function"!==typeof t||t(a+1)},"aria-label":"Siguiente",children:(0,Y.jsx)("span",{children:o})})]})};function ne(e){return e?Array.isArray(e)?e.map(String).map(e=>e.trim()).filter(Boolean):"string"===typeof e?e.split(",").map(e=>e.trim()).filter(Boolean):[String(e)].filter(Boolean):[]}var ie=r(64),se=r.n(ie),oe=r(3156);const le=["refresh"],de=()=>{var e,a,r,n;const i=(0,O.Zp)(),s=(0,O.zy)(),o=(0,t.wA)(),d=(0,t.d4)(e=>e.property),c=null!==(e=null===d||void 0===d?void 0:d.properties)&&void 0!==e?e:[],u=null===d||void 0===d?void 0:d.loading,m=null!==(a=null===d||void 0===d?void 0:d.meta)&&void 0!==a?a:{},p=null===d||void 0===d?void 0:d.error,v=(0,t.d4)(e=>e.auth.user),h=sessionStorage.getItem("userId"),x=y("token"),g=N(x)||{},j=ne(null!==(r=null===v||void 0===v?void 0:v.role)&&void 0!==r?r:null===g||void 0===g?void 0:g.role)[0]||"",f="admin"===j,b="editor"===j,A=b||f,C=f,w=((null===v||void 0===v?void 0:v.name)||(null===g||void 0===g?void 0:g.name)||"").split(" ")[0]||"",P=j?j.charAt(0).toUpperCase()+j.slice(1):"",[k,I]=(0,U.useState)(()=>{var e;return(null===(e=s.state)||void 0===e?void 0:e.filters)||{name:"",address:""}}),[S,B]=(0,U.useState)(()=>{var e;return(null===(e=s.state)||void 0===e?void 0:e.pagination)||{last_page:1,limit:6,page:1,total:0}});(0,U.useEffect)(()=>{var e;if(!h)return void i("/index");const a=!0===(null===(e=s.state)||void 0===e?void 0:e.refresh),{name:r,address:t,minPrice:n,maxPrice:l}=k;o(_({page:S.page,limit:S.limit,name:r,address:t,minPrice:n,maxPrice:l,refresh:a})),a&&i(s.pathname,{replace:!0,state:{}})},[o,i,s.pathname,null===(n=s.state)||void 0===n?void 0:n.refresh,S.page,S.limit,k.name,k.address,k.minPrice,k.maxPrice,h]),(0,U.useEffect)(()=>{const e=s.state||{},{refresh:a}=e,r=(0,J.A)(e,le);i(s.pathname,{replace:!0,state:(0,l.A)((0,l.A)({},r),{},{pagination:S,filters:k})})},[S,k,i,s.pathname]);const E=e=>i("/edit-property/".concat(e),{state:{from:s.pathname,pagination:S,filters:k}});return u?(0,Y.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Y.jsx)("div",{className:"loader-spinner"}),(0,Y.jsx)("p",{className:"loader-text",children:"Cargando propiedades..."})]}):(0,Y.jsx)("div",{className:"home-container",children:(0,Y.jsxs)("div",{className:"home-content",children:[(0,Y.jsxs)("div",{className:"home-header",children:[(0,Y.jsx)(K,{title:"Inmuebles"}),(0,Y.jsx)("button",{className:"home-add-btn",onClick:()=>i("/add-property",{state:{from:s.pathname,pagination:S,filters:k}}),title:"Agregar propiedad",children:(0,Y.jsx)(X.GGD,{})})]}),p&&(0,Y.jsx)("div",{className:"home-error",children:String(p)}),(w||P)&&(0,Y.jsxs)("div",{className:"home-meta",children:[(0,Y.jsxs)("p",{className:"home-greeting",children:["Hola ",w]}),(0,Y.jsxs)("p",{className:"home-role",children:["admin"===j?(0,Y.jsx)(oe.XiY,{}):"editor"===j?(0,Y.jsx)(oe.p7b,{}):(0,Y.jsx)(oe.x$1,{}),(0,Y.jsx)("span",{className:"home-role__label",children:P})]})]}),(0,Y.jsx)(re,{filters:k,onChange:e=>{I(e),B(e=>(0,l.A)((0,l.A)({},e),{},{page:1}))}}),(0,Y.jsx)("div",{className:"home-grid",children:c.length>0?c.map(e=>{var a;return(0,Y.jsxs)("div",{className:"home-property-card",children:[(0,Y.jsx)("div",{className:"home-property-card-img-wrapper",onClick:A?()=>E(e.idProperty):void 0,style:{cursor:A?"pointer":"default"},title:A?"Editar":void 0,children:null!==(a=e.image)&&void 0!==a&&a.file?(0,Y.jsx)("img",{className:"home-property-card-img",src:"data:image/jpeg;base64,".concat(e.image.file),alt:e.name,loading:"lazy"}):(0,Y.jsx)("div",{className:"no-image",children:"Sin imagen"})}),(0,Y.jsxs)("div",{className:"home-property-card-info",children:[(0,Y.jsx)("h1",{children:e.name}),(0,Y.jsxs)("p",{className:"home-property-price",children:["$",Number(e.price||0).toLocaleString()," | ",e.address]})]}),(0,Y.jsxs)("div",{className:"home-property-card-buttons",children:[A&&(0,Y.jsx)("button",{className:"btn-edit ".concat(b?"editor":""," ").concat(f?"admin":""),title:"Editar",onClick:a=>{a.stopPropagation(),E(e.idProperty)},children:(0,Y.jsx)(X.WXf,{})}),C&&(0,Y.jsx)("button",{className:"btn-delete",title:"Eliminar",onClick:a=>{a.stopPropagation(),(async e=>{if((await se().fire({title:"Eliminar",text:"Deseas eliminar este inmueble?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#107ACC",cancelButtonColor:"#6b7280",background:"#ffffff",customClass:{popup:"home-swal-popup"}})).isConfirmed)try{await(0,q.errorWrapper)(z.delete("".concat("/api/property","/").concat(e)));const{name:a,address:r,minPrice:t,maxPrice:n}=k;await o(_({page:S.page,limit:S.limit,name:a,address:r,minPrice:t,maxPrice:n,refresh:!0})).unwrap(),se().fire({title:"Inmueble Eliminado",icon:"success",confirmButtonColor:"#107ACC"})}catch(a){se().fire("Error","No se pudo eliminar la propiedad","error")}})(e.idProperty)},children:(0,Y.jsx)(X.IXo,{})})]})]},e.idProperty)}):(0,Y.jsx)("p",{className:"no-results",children:"No hay propiedades registradas a\xfan"})}),(0,Y.jsx)(te,{page:S.page,lastPage:(null===m||void 0===m?void 0:m.last_page)||S.last_page,onPageChange:e=>B(a=>(0,l.A)((0,l.A)({},a),{},{page:e}))})]})})},ce=e=>{let{label:a="",handleChange:r,className:t=""}=e;const n=(0,U.useCallback)(r,[r]);return(0,Y.jsx)("div",{className:"add-btn-container ".concat(t),children:(0,Y.jsxs)("button",{id:"addButton",type:"button",onClick:n,className:"add-btn-button","aria-label":"add button",children:[(0,Y.jsx)("div",{className:"add-btn-label",children:(0,Y.jsx)(X.GGD,{})}),(0,Y.jsx)("label",{className:"add-btn-text",children:a})]})})};var ue=r(1914),me=r(8793),pe=r(4793),ve=r(446),he=r.n(ve),xe=r(3969),ge=r(4842),je=r(2097);const fe=JSON.parse('{"Name":"","Address":"","Price":0,"CodeInternal":0,"Year":0,"IdOwner":""}'),be=JSON.parse('{"Name":"","Address":"","Photo":"","Birthday":""}'),ye=JSON.parse('{"File":"","Enabled":true,"IdProperty":""}'),Ne=JSON.parse('[{"DateSale":"","Name":"","Value":0,"Tax":0,"IdProperty":""}]'),Ae=()=>{const e=(0,O.Zp)(),a="/api/property",[r,t]=(0,U.useState)(fe),[n,i]=(0,U.useState)(be),[s,o]=(0,U.useState)(ye),[d,c]=(0,U.useState)([Ne]),[u,m]=(0,U.useState)(!1),p=(0,U.useCallback)(e=>new Promise((a,r)=>{const t=new FileReader;t.onload=()=>a(t.result.split(",")[1]),t.onerror=e=>r(e),t.readAsDataURL(e)}),[]),v=e=>{const a=Number(e);return Number.isFinite(a)?Math.max(0,a):0},h=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{name:n,value:s}=e.target;if("traces"===a){const e="value"===n||"tax"===n?v(s):s;c(a=>a.map((a,t)=>t===r?(0,l.A)((0,l.A)({},a),{},{[n]:e}):a))}else if("owner"===a)i(e=>(0,l.A)((0,l.A)({},e),{},{[n]:s}));else{const e="price"===n||"codeInternal"===n?v(s):s;t(a=>(0,l.A)((0,l.A)({},a),{},{[n]:e}))}},x=async function(e){var a,r;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property";if(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(r=a.files)||void 0===r||!r[0])return;const n=e.target.files[0],s=await p(n),d=URL.createObjectURL(n);"owner"===t?i(e=>(0,l.A)((0,l.A)({},e),{},{photo:s,ownerPhotoPreview:d})):o(e=>(0,l.A)((0,l.A)({},e),{},{file:s,enabled:!0,imagePreview:d}))};return u?(0,Y.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Y.jsx)("div",{className:"loader-spinner"}),(0,Y.jsx)("p",{className:"loader-text",children:"Registrando inmueble..."})]}):(0,Y.jsx)("div",{className:"addproperty-container",children:(0,Y.jsxs)("form",{className:"addproperty-card",onSubmit:async t=>{if(t.preventDefault(),!r.name||!r.address)return se().fire("Faltan datos","Completa los datos de la propiedad.","warning");if(null===s||void 0===s||!s.file)return se().fire("Imagen requerida","Debes cargar la imagen del inmueble.","warning");if(!n.name||!n.address||!n.photo||!n.birthday)return se().fire("Datos del propietario","Completa todos los datos del propietario.","warning");if(!d.every(e=>e.name&&e.dateSale&&e.value>0))return se().fire("Historial","Completa los datos de las trazas.","warning");try{m(!0);const t=function(){var e,a,r,t,n,i,s,o,l,d,c,u,m,p,v,h;let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{idProperty:null!==(e=null===x||void 0===x?void 0:x.idProperty)&&void 0!==e?e:"",name:null!==(a=null===x||void 0===x?void 0:x.name)&&void 0!==a?a:"",address:null!==(r=null===x||void 0===x?void 0:x.address)&&void 0!==r?r:"",price:null!==(t=null===x||void 0===x?void 0:x.price)&&void 0!==t?t:0,codeInternal:null!==(n=null===x||void 0===x?void 0:x.codeInternal)&&void 0!==n?n:0,year:null!==(i=null===x||void 0===x?void 0:x.year)&&void 0!==i?i:0,idOwner:null!==(s=null===x||void 0===x?void 0:x.idOwner)&&void 0!==s?s:"",owner:null!==x&&void 0!==x&&x.owner?{idOwner:null!==(o=x.owner.idOwner)&&void 0!==o?o:"",name:null!==(l=x.owner.name)&&void 0!==l?l:"",address:null!==(d=x.owner.address)&&void 0!==d?d:"",photo:null!==(c=x.owner.photo)&&void 0!==c?c:"",birthday:null!==(u=x.owner.birthday)&&void 0!==u?u:""}:void 0,image:null!==x&&void 0!==x&&x.image?{idPropertyImage:null!==(m=x.image.idPropertyImage)&&void 0!==m?m:"",idProperty:null!==(p=x.image.idProperty)&&void 0!==p?p:"",file:null!==(v=x.image.file)&&void 0!==v?v:"",enabled:null===(h=x.image.enabled)||void 0===h||h}:void 0,traces:Array.isArray(null===x||void 0===x?void 0:x.traces)?x.traces.map(e=>{var a,r,t,n,i,s;return{idPropertyTrace:null!==(a=e.idPropertyTrace)&&void 0!==a?a:"",idProperty:null!==(r=e.idProperty)&&void 0!==r?r:"",dateSale:null!==(t=e.dateSale)&&void 0!==t?t:"",name:null!==(n=e.name)&&void 0!==n?n:"",value:null!==(i=e.value)&&void 0!==i?i:0,tax:null!==(s=e.tax)&&void 0!==s?s:0}}):[]}}((0,l.A)((0,l.A)({},r),{},{owner:n,image:s,traces:d})),i=await(0,q.errorWrapper)(z.post(a,t)),{success:o,message:c}=i;o?(se().fire({title:"Inmueble registrado",icon:"success"}),e("/home",{state:{refresh:!0}})):se().fire("Error",c||"Ocurri\xf3 un error al registrar el inmueble.","error")}catch(c){var i,o;console.error("Error al crear propiedad:",c),se().fire({icon:"error",title:"Error",text:(null===c||void 0===c||null===(i=c.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"Ocurri\xf3 un error al registrar el inmueble"})}finally{m(!1)}},children:[(0,Y.jsx)(K,{title:"Registrar nueva propiedad"}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Datos generales"}),(0,Y.jsxs)("div",{className:"form-grid",children:[(0,Y.jsx)(Q.A,{name:"name",label:"Nombre",value:r.name,onChange:h,required:!0}),(0,Y.jsx)(Q.A,{name:"address",label:"Direcci\xf3n",value:r.address,onChange:h,required:!0}),(0,Y.jsx)(Q.A,{name:"price",label:"Precio",type:"number",value:r.price,onChange:h,required:!0}),(0,Y.jsx)(Q.A,{name:"codeInternal",label:"C\xf3digo interno",type:"number",value:r.codeInternal,onChange:h,required:!0}),(0,Y.jsx)(pe.$J,{dateAdapter:me.R,children:(0,Y.jsx)(ue.l,{label:"A\xf1o",views:["year"],value:r.year?he()(String(r.year),"YYYY"):null,onChange:e=>h({target:{name:"year",value:e?e.year():""}}),slotProps:{textField:{fullWidth:!0,required:!0}}})})]})]}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Imagen del inmueble"}),(0,Y.jsx)("div",{className:"image-upload-container",children:s.imagePreview?(0,Y.jsxs)("div",{className:"image-preview filled",children:[(0,Y.jsx)("img",{src:s.imagePreview,alt:"Inmueble",className:"property-image"}),(0,Y.jsx)("div",{className:"add-property-card-buttons",children:(0,Y.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>o({imagePreview:"",file:""}),children:(0,Y.jsx)(X.IXo,{})})})]}):(0,Y.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("propertyFileInput").click(),children:[(0,Y.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Haz clic o arrastra una imagen"}),(0,Y.jsx)("input",{id:"propertyFileInput",type:"file",accept:"image/*",hidden:!0,onChange:e=>x(e,"property"),"aria-label":"property image input",required:!0,"aria-required":"true"})]})})]}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Propietario"}),(0,Y.jsxs)("div",{className:"form-grid owner-grid",children:[(0,Y.jsx)(Q.A,{name:"name",label:"Nombre",value:n.name,onChange:e=>h(e,"owner"),required:!0}),(0,Y.jsx)(Q.A,{name:"address",label:"Direcci\xf3n",value:n.address,onChange:e=>h(e,"owner"),required:!0}),(0,Y.jsx)(Q.A,{type:"date",name:"birthday",label:"Fecha de nacimiento",value:n.birthday,onChange:e=>h(e,"owner"),InputLabelProps:{shrink:!0},required:!0}),(0,Y.jsx)("div",{className:"image-upload-container full-width",children:n.ownerPhotoPreview?(0,Y.jsxs)("div",{className:"image-preview filled",children:[(0,Y.jsx)("img",{src:n.ownerPhotoPreview,alt:"Propietario",className:"owner-photo"}),(0,Y.jsx)("div",{className:"add-property-card-buttons",children:(0,Y.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>i((0,l.A)((0,l.A)({},n),{},{photo:"",ownerPhotoPreview:""})),children:(0,Y.jsx)(X.IXo,{})})})]}):(0,Y.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("ownerFileInput").click(),children:[(0,Y.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Cargar imagen del propietario"}),(0,Y.jsx)("input",{id:"ownerFileInput",name:"file",type:"file",accept:"image/*",hidden:!0,onChange:e=>x(e,"owner"),"aria-label":"owner photo input",required:!0,"aria-required":"true"})]})})]})]}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Historial"}),d.map((e,a)=>(0,Y.jsx)("div",{className:"addproperty-trace-wrapper",children:(0,Y.jsxs)("div",{className:"trace-grid",children:[(0,Y.jsx)(Q.A,{type:"date",name:"dateSale",label:"Fecha",value:e.dateSale,onChange:e=>h(e,"traces",a),InputLabelProps:{shrink:!0},required:!0}),(0,Y.jsx)(Q.A,{name:"name",label:"Evento",value:e.name,onChange:e=>h(e,"traces",a),required:!0}),(0,Y.jsx)(Q.A,{type:"number",name:"value",label:"Valor",value:e.value,onChange:e=>h(e,"traces",a),required:!0}),(0,Y.jsx)(Q.A,{type:"number",name:"tax",label:"Impuesto",value:e.tax,onChange:e=>h(e,"traces",a),required:!0}),(0,Y.jsx)("button",{type:"button",className:"addproperty-trace-delete-btn",onClick:()=>{return e=a,void c(a=>a.filter((a,r)=>r!==e));var e},children:(0,Y.jsx)(X.IXo,{})})]})},a)),(0,Y.jsx)(ce,{label:"A\xf1adir evento",handleChange:()=>{c(e=>[...e,{name:"",value:0,tax:0,dateSale:"",idProperty:""}])}})]}),(0,Y.jsx)(je.A,{id:"createButton",type:"submit",variant:"contained",color:u?"secondary":"primary",disabled:u,"aria-label":"create button",children:u?"Registrando...":"Registrar Propiedad"}),(0,Y.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>e("/home"),"aria-label":"cancel button",children:"Cancelar"})]})})};var Ce=r(6803);const we=function(){var e,a,r,t,n,i;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{IdPropertyTrace:null!==(e=null===s||void 0===s?void 0:s.idPropertyTrace)&&void 0!==e?e:"",DateSale:null!==(a=null===s||void 0===s?void 0:s.dateSale)&&void 0!==a?a:"",Name:null!==(r=null===s||void 0===s?void 0:s.name)&&void 0!==r?r:"",Value:null!==(t=null===s||void 0===s?void 0:s.value)&&void 0!==t?t:0,Tax:null!==(n=null===s||void 0===s?void 0:s.tax)&&void 0!==n?n:0,IdProperty:null!==(i=null===s||void 0===s?void 0:s.idProperty)&&void 0!==i?i:""}},Pe=()=>{const e=(0,O.Zp)(),{propertyId:a}=(0,O.g)(),r=(0,O.zy)(),t="/api/property",[n,i]=(0,U.useState)(null),[s,o]=(0,U.useState)({}),[d,c]=(0,U.useState)({}),[u,m]=(0,U.useState)([]),[p,v]=(0,U.useState)(!0),[h,x]=(0,U.useState)(!1),[g,j]=(0,U.useState)({message:"",severity:"success"}),f=function(){var a,t,n;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const s=(null===(a=r.state)||void 0===a?void 0:a.from)||"/home",o=(0,l.A)({pagination:null===(t=r.state)||void 0===t?void 0:t.pagination,filters:null===(n=r.state)||void 0===n?void 0:n.filters},i?{refresh:!0}:{});e(s,{state:o})},b=(0,U.useCallback)(e=>new Promise((a,r)=>{const t=new FileReader;t.onload=()=>a(t.result.split(",")[1]),t.onerror=r,t.readAsDataURL(e)}),[]);(0,U.useEffect)(()=>{(async()=>{try{var e,n,s,d,u,p;const v=!0===(null===(e=r.state)||void 0===e?void 0:e.refresh),h=await(0,q.errorWrapper)(z.get("".concat(t,"/").concat(a).concat(v?"?refresh=true":""))),x=null!==(n=null!==(s=null===h||void 0===h||null===(d=h.data)||void 0===d?void 0:d.data)&&void 0!==s?s:null===h||void 0===h?void 0:h.data)&&void 0!==n?n:null===h||void 0===h||null===(u=h.data)||void 0===u?void 0:u.data;if(!x)throw new Error("No se encontr\xf3 la propiedad");i(x),x.image&&c((0,l.A)((0,l.A)({},x.image),{},{imagePreview:x.image.file?"data:image/jpeg;base64,".concat(x.image.file):""})),x.owner&&o((0,l.A)((0,l.A)({},x.owner),{},{ownerPhotoPreview:x.owner.photo?"data:image/jpeg;base64,".concat(x.owner.photo):""})),null!==(p=x.traces)&&void 0!==p&&p.length&&m(x.traces)}catch(Ke){console.error("Error al cargar propiedad:",Ke),se().fire({icon:"error",title:"Error",text:"No se obtuvo los datos del inmueble"})}finally{v(!1)}})()},[a,r.state,t]);const y=e=>{const a=Number(e);return Number.isFinite(a)?Math.max(0,a):0},N=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{name:t,value:n}=e.target;if("owner"===a)o(e=>(0,l.A)((0,l.A)({},e),{},{[t]:n}));else if("traces"===a){const e="value"===t||"tax"===t?y(n):n;m(a=>a.map((a,n)=>n===r?(0,l.A)((0,l.A)({},a),{},{[t]:e}):a))}else{const e="price"===t||"codeInternal"===t?y(n):n;i(a=>(0,l.A)((0,l.A)({},a),{},{[t]:e}))}},A=async function(e){var a,r;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property";if(null===e||void 0===e||null===(a=e.target)||void 0===a||null===(r=a.files)||void 0===r||!r[0])return;const n=e.target.files[0],i=await b(n),s=URL.createObjectURL(n);"owner"===t?o(e=>(0,l.A)((0,l.A)({},e),{},{photo:i,ownerPhotoPreview:s})):c(e=>(0,l.A)((0,l.A)({},e),{},{file:i,enabled:!0,imagePreview:s}))};return p||h?(0,Y.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Y.jsx)("div",{className:"loader-spinner"}),p&&(0,Y.jsx)("p",{className:"loader-text",children:"Cargando inmueble..."}),h&&(0,Y.jsx)("p",{className:"loader-text",children:"Actualizando inmueble..."})]}):n?(0,Y.jsx)("div",{className:"editproperty-container",children:(0,Y.jsxs)("form",{className:"editproperty-card",onSubmit:async e=>{e.preventDefault();try{var r,i,o,l,c;if(x(!0),!n)return x(!1),void se().fire({icon:"error",title:"Error",text:"No se encontr\xf3 la propiedad."});const e=null!==d&&void 0!==d&&d.file&&""!==d.file.trim()?function(){var e,a,r,t,n,i,s;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{IdPropertyImage:null!==(e=null!==(a=null!==(r=null===o||void 0===o?void 0:o.idPropertyImage)&&void 0!==r?r:null===o||void 0===o?void 0:o.IdPropertyImage)&&void 0!==a?a:null===o||void 0===o?void 0:o.id)&&void 0!==e?e:"",IdProperty:null!==(t=null!==(n=null===o||void 0===o?void 0:o.idProperty)&&void 0!==n?n:null===o||void 0===o?void 0:o.IdProperty)&&void 0!==t?t:"",File:null!==(i=null===o||void 0===o?void 0:o.file)&&void 0!==i?i:"",Enabled:null===(s=null===o||void 0===o?void 0:o.enabled)||void 0===s||s}}(d):null,m=null!==s&&void 0!==s&&null!==(r=s.name)&&void 0!==r&&r.trim()&&null!==s&&void 0!==s&&null!==(i=s.address)&&void 0!==i&&i.trim()&&(null!==s&&void 0!==s&&null!==(o=s.photo)&&void 0!==o&&o.trim()||null!==s&&void 0!==s&&null!==(l=s.ownerPhotoPreview)&&void 0!==l&&l.trim())&&null!==s&&void 0!==s&&null!==(c=s.birthday)&&void 0!==c&&c.trim()?function(){var e,a,r,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{Name:null!==(e=null===n||void 0===n?void 0:n.name)&&void 0!==e?e:"",Address:null!==(a=null===n||void 0===n?void 0:n.address)&&void 0!==a?a:"",Photo:null!==(r=null===n||void 0===n?void 0:n.photo)&&void 0!==r?r:"",Birthday:null!==(t=null===n||void 0===n?void 0:n.birthday)&&void 0!==t?t:""}}(s):null,p=Array.isArray(u)&&u.length>0?u.filter(e=>{var a,r;return(null===(a=e.name)||void 0===a?void 0:a.trim())&&(null===(r=e.dateSale)||void 0===r?void 0:r.trim())&&Number(e.value)>0}).map(we):[],v={name:n.name,address:n.address,price:Number(n.price),codeInternal:Number(n.codeInternal),year:n.year,image:e,owner:m,traces:p};console.log("Actualizaci\xf3n Ok \u2192",v);const h=await(0,q.errorWrapper)(z.patch("".concat(t,"/").concat(a),v)),{success:g,message:j,error:b}=h;console.log("message: ",j),console.log("error: ",b),g?(se().fire({icon:"success",title:"Propiedad actualizada",confirmButtonText:"Aceptar"}),f(!0)):se().fire({icon:"error",title:"Error",text:j||"Ocurri\xf3 un error al actualizar la propiedad"})}catch(v){var m,p;console.error("Error al actualizar propiedad:",v),se().fire({icon:"error",title:"Error",text:(null===v||void 0===v||null===(m=v.response)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.message)||"Ocurri\xf3 un error al actualizar el inmueble"})}finally{x(!1)}},children:[(0,Y.jsx)(K,{title:"Editar propiedad"}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Datos generales"}),(0,Y.jsxs)("div",{className:"form-grid",children:[(0,Y.jsx)(Q.A,{name:"name",label:"Nombre",value:n.name||"",onChange:N,required:!0}),(0,Y.jsx)(Q.A,{name:"address",label:"Direcci\xf3n",value:n.address||"",onChange:N,required:!0}),(0,Y.jsx)(Q.A,{name:"price",label:"Precio",type:"number",value:n.price||0,onChange:N,required:!0}),(0,Y.jsx)(Q.A,{name:"codeInternal",label:"C\xf3digo interno",type:"number",value:n.codeInternal||0,onChange:N,required:!0}),(0,Y.jsx)(pe.$J,{dateAdapter:me.R,children:(0,Y.jsx)(ue.l,{label:"A\xf1o",views:["year"],value:n.year?he()(String(n.year),"YYYY"):null,onChange:e=>N({target:{name:"year",value:e?e.year():""}}),slotProps:{textField:{fullWidth:!0,InputLabelProps:{shrink:!0},required:!0}}})})]})]}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Imagen del inmueble"}),(0,Y.jsx)("div",{className:"image-upload-container",children:d.imagePreview?(0,Y.jsxs)("div",{className:"image-preview filled",children:[(0,Y.jsx)("img",{src:d.imagePreview,alt:"Inmueble",className:"property-image"}),(0,Y.jsx)("div",{className:"add-property-card-buttons",children:(0,Y.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>c({imagePreview:""}),children:(0,Y.jsx)(X.IXo,{})})})]}):(0,Y.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("propertyFileInput").click(),children:[(0,Y.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Haz clic o arrastra una imagen"}),(0,Y.jsx)("input",{id:"propertyFileInput",type:"file",accept:"image/*",hidden:!0,onChange:e=>A(e,"property"),"aria-label":"property image input",required:!0,"aria-required":"true"})]})})]}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Propietario"}),(0,Y.jsxs)("div",{className:"form-grid owner-grid",children:[(0,Y.jsx)(Q.A,{name:"name",label:"Nombre",value:s.name||"",onChange:e=>N(e,"owner"),required:!0}),(0,Y.jsx)(Q.A,{name:"address",label:"Direcci\xf3n",value:s.address||"",onChange:e=>N(e,"owner"),required:!0}),(0,Y.jsx)(Q.A,{type:"date",name:"birthday",label:"Fecha de nacimiento",value:s.birthday||"",onChange:e=>N(e,"owner"),InputLabelProps:{shrink:!0},required:!0}),(0,Y.jsx)("div",{className:"image-upload-container full-width",children:s.ownerPhotoPreview||s.photo?(0,Y.jsxs)("div",{className:"image-preview filled",children:[(0,Y.jsx)("img",{src:s.ownerPhotoPreview||"data:image/jpeg;base64,".concat(s.photo),alt:"Propietario",className:"owner-photo"}),(0,Y.jsx)("div",{className:"add-property-card-buttons",children:(0,Y.jsx)("button",{type:"button",className:"replace-btn",onClick:()=>o((0,l.A)((0,l.A)({},s),{},{photo:"",ownerPhotoPreview:""})),children:(0,Y.jsx)(X.IXo,{})})})]}):(0,Y.jsxs)(xe.A,{className:"dropzone-box",onClick:()=>document.getElementById("ownerFileInput").click(),children:[(0,Y.jsx)(ge.A,{variant:"body1",color:"textSecondary",children:"Cargar imagen del propietario"}),(0,Y.jsx)("input",{id:"ownerFileInput",name:"file",type:"file",accept:"image/*",hidden:!0,onChange:e=>A(e,"owner"),"aria-label":"owner photo input",required:!0,"aria-required":"true"})]})})]})]}),(0,Y.jsxs)("div",{className:"form-section",children:[(0,Y.jsx)("h2",{children:"Historial"}),u.map((e,a)=>(0,Y.jsx)("div",{className:"editproperty-trace-wrapper",children:(0,Y.jsxs)("div",{className:"trace-grid",children:[(0,Y.jsx)(Q.A,{type:"date",name:"dateSale",label:"Fecha",value:e.dateSale||"",onChange:e=>N(e,"traces",a),InputLabelProps:{shrink:!0},required:!0}),(0,Y.jsx)(Q.A,{name:"name",label:"Evento",value:e.name||"",onChange:e=>N(e,"traces",a),required:!0}),(0,Y.jsx)(Q.A,{type:"number",name:"value",label:"Valor",value:e.value||0,onChange:e=>N(e,"traces",a),required:!0}),(0,Y.jsx)(Q.A,{type:"number",name:"tax",label:"Impuesto",value:e.tax||0,onChange:e=>N(e,"traces",a),required:!0}),(0,Y.jsx)("button",{type:"button",className:"editproperty-trace-delete-btn",onClick:()=>(e=>{m(a=>a.filter((a,r)=>r!==e)),j({message:"Traza eliminada localmente (se guardar\xe1 al actualizar)",severity:"info"})})(a),children:(0,Y.jsx)(X.IXo,{})})]})},a)),g.message&&(0,Y.jsx)(xe.A,{className:"trace-alert",sx:{mb:2},children:(0,Y.jsx)(Ce.A,{severity:g.severity,onClose:()=>j({message:"",severity:"success"}),children:g.message})}),(0,Y.jsx)(ce,{label:"A\xf1adir evento",handleChange:()=>m(e=>[...e,{name:"",value:0,tax:0,dateSale:""}])})]}),(0,Y.jsx)(je.A,{id:"updateButton",type:"submit",variant:"contained",color:h?"secondary":"primary",disabled:h,"aria-label":"update button",children:h?"Actualizando...":"Actualizar Propiedad"}),(0,Y.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>f(!1),"aria-label":"cancel button",children:"Cancelar"})]})}):(0,Y.jsx)("p",{style:{textAlign:"center",color:"red"},children:"Inmueble no encontrado"})};var ke=r(3002);const Ie=()=>{const e=(0,O.Zp)(),a=(0,t.d4)(e=>e.auth.user),r=b("token"),n=y("token"),i=N(n)||{},s=(null===a||void 0===a?void 0:a.name)||(null===i||void 0===i?void 0:i.name)||"Usuario",o=(null===a||void 0===a?void 0:a.email)||(null===i||void 0===i?void 0:i.email)||"correo@dominio.com",l=((null===a||void 0===a?void 0:a.role)||(null===i||void 0===i?void 0:i.role)||"user").toLowerCase(),d=(null===a||void 0===a?void 0:a.id)||(null===i||void 0===i?void 0:i.id)||"-",c=!!r&&!C(n);return(0,Y.jsx)("div",{className:"user-container",children:(0,Y.jsxs)("div",{className:"user-card",children:[(0,Y.jsxs)("div",{className:"user-header",children:[(0,Y.jsx)(K,{title:"Mi perfil"}),c&&(0,Y.jsxs)("button",{className:"user-edit-btn",onClick:()=>e("/profile/edit"),children:[(0,Y.jsx)("label",{children:"Editar"})," ",(0,Y.jsx)(X.SG1,{className:"user-edit-btn-icon",size:30,color:ee.oD})]})]}),(0,Y.jsxs)("div",{className:"user-data",children:[(0,Y.jsx)("div",{className:"user-avatar",children:(0,Y.jsx)(ke.MrL,{size:96,color:ee.oD})}),(0,Y.jsxs)("div",{className:"user-info",children:[(0,Y.jsx)("h2",{className:"user-name",children:s}),(0,Y.jsx)("p",{className:"user-email",children:o}),(0,Y.jsxs)("div",{className:"user-meta",children:[(0,Y.jsxs)("div",{className:"meta-item",children:[(0,Y.jsx)("span",{className:"meta-label",children:"ID de usuario"}),(0,Y.jsx)("span",{className:"meta-value",children:d})]}),(0,Y.jsxs)("div",{className:"meta-item",children:[(0,Y.jsx)("span",{className:"meta-label",children:"Rol"}),(0,Y.jsx)("span",{className:"meta-value",children:l})]}),(0,Y.jsxs)("div",{className:"meta-item",children:[(0,Y.jsx)("span",{className:"meta-label",children:"Estado"}),(0,Y.jsx)("span",{className:"meta-badge ".concat(c?"ok":"off"),children:c?"Activo":"Inactivo"})]})]})]})]})]})})};var Se=r(4799),Be=r(2156);const Ee=()=>{const e=(0,O.Zp)(),a=(0,t.wA)(),r=(0,t.d4)(e=>e.auth.user),[n,i]=(0,U.useState)(!1),s=localStorage.getItem("token")||sessionStorage.getItem("token")||"",o=y(s),d=N(o)||{},[c,u]=(((null===r||void 0===r?void 0:r.role)||(null===d||void 0===d?void 0:d.role)||"user").toLowerCase(),(0,U.useState)({name:(null===r||void 0===r?void 0:r.name)||(null===d||void 0===d?void 0:d.name)||"",email:(null===r||void 0===r?void 0:r.email)||(null===d||void 0===d?void 0:d.email)||"",role:(null===r||void 0===r?void 0:r.role)||(null===d||void 0===d?void 0:d.role)||"user"}));(0,U.useEffect)(()=>{u({name:(null===r||void 0===r?void 0:r.name)||(null===d||void 0===d?void 0:d.name)||"",email:(null===r||void 0===r?void 0:r.email)||(null===d||void 0===d?void 0:d.email)||"",role:(null===r||void 0===r?void 0:r.role)||(null===d||void 0===d?void 0:d.role)||"user"})},[null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.email,null===r||void 0===r?void 0:r.role]);return n?(0,Y.jsxs)("div",{className:"loader-overlay loader-overlay--home",children:[(0,Y.jsx)("div",{className:"loader-spinner"}),(0,Y.jsx)("p",{className:"loader-text",children:"Actualizando usuario..."})]}):(0,Y.jsx)("div",{className:"edituser-container",children:(0,Y.jsxs)(Se.A,{elevation:3,className:"edituser-card",children:[(0,Y.jsx)(K,{title:"Editar perfil"}),(0,Y.jsxs)(xe.A,{component:"form",className:"edituser-form",onSubmit:async t=>{t.preventDefault();try{i(!0);const t=function(){var e,a,r,t,n,i,s,o;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"!==typeof l||null===l?{}:{Id:null!==(e=null!==(a=null===l||void 0===l?void 0:l.id)&&void 0!==a?a:null===l||void 0===l?void 0:l.Id)&&void 0!==e?e:null,Name:(null===l||void 0===l||null===(r=l.name)||void 0===r||null===(t=r.trim)||void 0===t?void 0:t.call(r))||"",Email:(null===l||void 0===l||null===(n=l.email)||void 0===n||null===(i=n.trim)||void 0===i?void 0:i.call(n))||"",Role:(null===l||void 0===l||null===(s=l.role)||void 0===s||null===(o=s.trim)||void 0===o?void 0:o.call(s))||""}}(c),s={};if((null===r||void 0===r?void 0:r.name)!==t.Name&&""!==t.Name.trim()&&(s.name=t.Name.trim()),0===Object.keys(s).length)return void se().fire({icon:"info",text:"No hay cambios para guardar.",timer:1500,showConfirmButton:!1});const o=await(0,q.errorWrapper)(z.patch("".concat("/api/user","/").concat(c.email),s));var n;if(o.ok)a(h((0,l.A)((0,l.A)({},r),s))),se().fire({icon:"success",title:"Perfil actualizado",timer:1500,showConfirmButton:!1}),e(-1);else se().fire({icon:"error",text:(null===(n=o.error)||void 0===n?void 0:n.message)||"Error al actualizar el perfil"})}catch(Ke){console.error(" Error al actualizar perfil:",Ke),se().fire({icon:"error",text:"No se pudo actualizar el perfil"})}finally{i(!1)}},sx:{"& #saveUser":{gridColumn:"1 / -1",width:"100%"}},children:[(0,Y.jsx)(Q.A,{name:"name",label:"Nombre",value:c.name,onChange:e=>{const{name:a,value:r}=e.target;u(e=>(0,l.A)((0,l.A)({},e),{},{[a]:r}))},fullWidth:!0,required:!0}),(0,Y.jsx)(Q.A,{name:"email",label:"Correo",type:"email",value:c.email,fullWidth:!0,disabled:!0}),(0,Y.jsxs)(Q.A,{name:"role",label:"Rol",value:c.role,select:!0,fullWidth:!0,disabled:!0,children:[(0,Y.jsx)(Be.A,{value:"admin",children:"Admin"}),(0,Y.jsx)(Be.A,{value:"editor",children:"Editor"}),(0,Y.jsx)(Be.A,{value:"user",children:"User"})]}),(0,Y.jsx)(je.A,{id:"saveUser",type:"submit",variant:"contained",color:"primary",sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"save user",children:"Guardar"})]}),(0,Y.jsx)(je.A,{id:"cancelUser",onClick:()=>e(-1),variant:"outlined",color:"secondary",sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"cancel to save user",children:"Cancelar"})]})})};var ze=r(3699);const qe=()=>{const[e,a]=(0,U.useState)([]),[r,t]=(0,U.useState)(!1),[n,i]=(0,U.useState)(""),[s,o]=(0,U.useState)(""),[d,c]=(0,U.useState)({page:1,limit:6,last_page:1,total:0}),u="/api/user";(0,U.useEffect)(()=>{(async()=>{t(!0),o("");try{const r=await(0,q.errorWrapper)(z.get(u)),{success:t,data:n,message:i,error:s}=r;if(t){var e;const r=null!==(e=null===n||void 0===n?void 0:n.data)&&void 0!==e?e:n,t=(Array.isArray(r)?r:Array.isArray(null===r||void 0===r?void 0:r.items)?r.items:Array.isArray(null===r||void 0===r?void 0:r.users)?r.users:[]).map(e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e||null===e)return{id:"",name:"",email:"",role:""};const a=function(){for(var a=arguments.length,r=new Array(a),t=0;t<a;t++)r[t]=arguments[t];for(const n of r)if(null!=(null===e||void 0===e?void 0:e[n])&&""!==e[n])return e[n]};return{id:a("Id","id","UserId","userId","sub")||"",name:a("Name","name","FullName","fullName","Username","username")||"",email:a("Email","email","Correo","correo","preferred_username")||"",role:(a("Role","role")||(Array.isArray(null===e||void 0===e?void 0:e.roles)?e.roles[0]:"")||"").toString().toLowerCase()}}(e));a(t);const i=t.length;c(e=>(0,l.A)((0,l.A)({},e),{},{total:i,last_page:Math.max(1,Math.ceil(i/e.limit))}))}else o((null===s||void 0===s?void 0:s.message)||i||"No se obtuvieron los usuarios")}catch(r){o("Ocurri\xf3 un error inesperado en el servicio")}finally{t(!1)}})()},[u]);const m=(e||[]).filter(e=>{const a=n.trim().toLowerCase();return!a||((e.name||"").toLowerCase().includes(a)||(e.email||"").toLowerCase().includes(a)||(e.role||"").toLowerCase().includes(a))}),p=m.length,v=Math.max(1,Math.ceil(p/d.limit)),h=Math.min(d.page,v),x=(h-1)*d.limit,g=x+d.limit,j=m.slice(x,g);return(0,Y.jsx)("div",{className:"manageusers-container",children:(0,Y.jsxs)(Se.A,{elevation:3,className:"manageusers-card",children:[(0,Y.jsx)(K,{title:"Administrar usuarios"}),s&&(0,Y.jsx)("p",{className:"error-text",children:s}),(0,Y.jsx)("div",{className:"manageusers-toolbar",children:(0,Y.jsx)(Q.A,{value:n,onChange:e=>i(e.target.value),placeholder:"Buscar por nombre, correo o rol...",InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(X.CKj,{size:18,color:ee.oD})})},fullWidth:!0,className:"manageusers-search-input"})}),(0,Y.jsxs)("div",{className:"manageusers-table",children:[(0,Y.jsxs)("div",{className:"manageusers-head",children:[(0,Y.jsx)("div",{children:"Nombre"}),(0,Y.jsx)("div",{children:"Correo"}),(0,Y.jsx)("div",{children:"Rol"}),(0,Y.jsx)("div",{children:"Acci\xf3n"})]}),j.length>0?j.map((e,r)=>(0,Y.jsxs)("div",{className:"manageusers-row",children:[(0,Y.jsx)(Q.A,{value:e.name||"",fullWidth:!0,disabled:!0}),(0,Y.jsx)(Q.A,{value:e.email||"",fullWidth:!0,disabled:!0}),(0,Y.jsxs)(Q.A,{select:!0,value:e.role||"user",onChange:r=>(async(e,r)=>{try{const t="".concat(u,"/").concat(encodeURIComponent(e.email)),n={role:r},i=await(0,q.errorWrapper)(z.patch(t,n)),{success:s,message:o,error:d}=i;s?(se().fire({icon:"success",title:"Rol actualizado",timer:1400,showConfirmButton:!1}),a(a=>a.map(a=>a.email===e.email?(0,l.A)((0,l.A)({},a),{},{role:r}):a))):se().fire({icon:"error",text:(null===d||void 0===d?void 0:d.message)||o||"No se pudo actualizar el rol"})}catch(t){se().fire({icon:"error",text:"No se pudo actualizar el rol"})}})(e,r.target.value),fullWidth:!0,children:[(0,Y.jsx)(Be.A,{value:"admin",children:"Admin"}),(0,Y.jsx)(Be.A,{value:"editor",children:"Editor"}),(0,Y.jsx)(Be.A,{value:"user",children:"User"})]}),(0,Y.jsx)(je.A,{id:"deletebutton".concat(r),variant:"outlined",className:"manageusers-delete-btn",color:"error",onClick:()=>(async e=>{if(!(await se().fire({title:"\xbfEliminar usuario?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:ee.eq,cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)return;const r=await(0,q.errorWrapper)(z.delete("".concat(u,"/").concat(encodeURIComponent(e)))),{success:t,message:n,error:i}=r;t?(se().fire({icon:"success",text:n||"Usuario eliminado correctamente",timer:1400,showConfirmButton:!1}),a(a=>a.filter(a=>a.email!==e)),c(e=>{const a=Math.max(0,e.total-1),r=Math.max(1,Math.ceil(a/e.limit)),t=e.page>r?r:e.page;return(0,l.A)((0,l.A)({},e),{},{total:a,last_page:r,page:t})})):se().fire({icon:"error",text:(null===i||void 0===i?void 0:i.message)||n||"No se pudo eliminar el usuario"})})(e.email),style:{marginTop:0},"aria-label":"delete button ".concat(r),children:(0,Y.jsx)(X.IXo,{})})]},"".concat(e.email,"-").concat(r))):!r&&(0,Y.jsx)("div",{className:"manageusers-empty",children:"No hay usuarios que coincidan con la b\xfasqueda"})]}),(0,Y.jsx)(te,{page:h,lastPage:v,onPageChange:e=>c(a=>(0,l.A)((0,l.A)({},a),{},{page:e}))})]})})},Re=()=>(0,Y.jsxs)(O.BV,{children:[(0,Y.jsx)(O.qh,{path:"/",element:(0,Y.jsx)(de,{})}),(0,Y.jsx)(O.qh,{path:"/home",element:(0,Y.jsx)(de,{})}),(0,Y.jsx)(O.qh,{path:"/add-property",element:(0,Y.jsx)(Ae,{})}),(0,Y.jsx)(O.qh,{path:"/edit-property/:propertyId",element:(0,Y.jsx)($,{allowed:["editor","admin"],element:(0,Y.jsx)(Pe,{})})}),(0,Y.jsx)(O.qh,{path:"/profile",element:(0,Y.jsx)(Ie,{})}),(0,Y.jsx)(O.qh,{path:"/profile/edit",element:(0,Y.jsx)($,{allowed:["admin","editor","user"],element:(0,Y.jsx)(Ee,{})})}),(0,Y.jsx)(O.qh,{path:"/users",element:(0,Y.jsx)($,{allowed:["admin"],element:(0,Y.jsx)(qe,{})})}),(0,Y.jsx)(O.qh,{path:"*",element:(0,Y.jsx)(de,{})})]}),_e=e=>{let{children:a}=e;const{logged:r}=(0,t.d4)(e=>e.auth);return r?(0,Y.jsx)(Re,{}):a},De=e=>{let{children:a}=e;const{logged:r}=(0,t.d4)(e=>e.auth),{pathname:n,search:i}=(0,O.zy)();return sessionStorage.setItem("lastPath",n+i),r?a:(0,Y.jsx)(O.C5,{to:"/",replace:!0})},We=["refresh"],Te=()=>{var e;const a=(0,O.Zp)(),r=(0,O.zy)(),n=(0,t.wA)(),{properties:i=[],loading:s=!1,meta:o={}}=(0,t.d4)(e=>e.property||{}),[d,c]=(0,U.useState)(()=>{var e;return(null===(e=r.state)||void 0===e?void 0:e.filters)||{name:"",address:""}}),[u,m]=(0,U.useState)(()=>{var e;return(null===(e=r.state)||void 0===e?void 0:e.pagination)||{page:1,limit:6,last_page:1,total:0}});(0,U.useEffect)(()=>{var e;const t=!0===(null===(e=r.state)||void 0===e?void 0:e.refresh);n(_({page:u.page,limit:u.limit,name:d.name,address:d.address,minPrice:d.minPrice,maxPrice:d.maxPrice,refresh:t})),t&&a(r.pathname,{replace:!0,state:{}})},[r.pathname,null===(e=r.state)||void 0===e?void 0:e.refresh,u.page,u.limit,d,n,a]),(0,U.useEffect)(()=>{const e=r.state||{},{refresh:t}=e,n=(0,J.A)(e,We);a(r.pathname,{replace:!0,state:(0,l.A)((0,l.A)({},n),{},{pagination:u,filters:d})})},[u,d,a,r.pathname]);return s?(0,Y.jsxs)("div",{className:"container-loader full-screen",children:[(0,Y.jsx)("div",{className:"spinner"}),(0,Y.jsx)("p",{children:"Cargando inmuebles..."})]}):(0,Y.jsx)("div",{className:"index-container",children:(0,Y.jsxs)("div",{className:"index-content",children:[(0,Y.jsx)("div",{className:"index-header",children:(0,Y.jsx)(K,{title:"Inmuebles Disponibles"})}),(0,Y.jsx)(re,{filters:d,onChange:e=>{c(e),m(e=>(0,l.A)((0,l.A)({},e),{},{page:1}))}}),(0,Y.jsx)("div",{className:"index-grid",children:i.length>0?i.map(e=>(0,Y.jsxs)("div",{className:"index-property-card",onClick:()=>{return t=e.idProperty,a("/property/".concat(t),{state:{from:r.pathname,pagination:u,filters:d}});var t},children:[e.image&&e.image.file?(0,Y.jsx)("img",{className:"index-property-card-img",src:"data:image/jpeg;base64,".concat(e.image.file),alt:e.name,loading:"lazy"}):(0,Y.jsx)("div",{className:"no-image",children:"Sin imagen"}),(0,Y.jsxs)("div",{className:"index-property-card-info",children:[(0,Y.jsx)("h1",{children:e.name}),(0,Y.jsx)("p",{children:e.address}),(0,Y.jsxs)("p",{className:"price",children:["$",Number(e.price||0).toLocaleString()]})]})]},e.idProperty)):(0,Y.jsx)("p",{className:"no-results",children:"No se encontraron inmuebles"})}),(0,Y.jsx)(te,{page:u.page,lastPage:(null===o||void 0===o?void 0:o.last_page)||u.last_page,onPageChange:e=>m(a=>(0,l.A)((0,l.A)({},a),{},{page:e}))})]})})},Fe=e=>{let{id:a="button",label:r="",onClick:t,className:n=""}=e;return(0,Y.jsx)("button",{id:a,onClick:t,className:"button ".concat(n),"aria-label":" ".concat(r," button"),children:r})},Le=()=>{const e=(0,O.Zp)(),a=(0,O.zy)(),{propertyId:r}=(0,O.g)(),{data:t,loading:n,error:i}=(e=>{const[a,r]=(0,U.useState)(null),[t,n]=(0,U.useState)(Boolean(e)),[i,s]=(0,U.useState)(null),[o,l]=(0,U.useState)("");return(0,U.useEffect)(()=>{e&&(async()=>{n(!0),s(null);try{const a=await(0,q.errorWrapper)(z.get(e)),{success:t,data:n,message:i,error:o}=a;t&&void 0!==n?(r(n),l(i||"Datos cargados correctamente")):(console.warn(" Error l\xf3gico en useFetch:",i,o),s(o||{message:i||"Error desconocido"}),r(null))}catch(Ke){console.error("Error en useFetch:",Ke),s({message:(null===Ke||void 0===Ke?void 0:Ke.message)||"Error al obtener datos"})}finally{n(!1)}})()},[e]),{data:a,loading:t,error:i,message:o}})("".concat("/api/property","/").concat(r));(0,U.useEffect)(()=>{window.scrollTo(0,0)},[]);if(n)return(0,Y.jsxs)("div",{className:"container-loader full-screen",children:[(0,Y.jsx)("div",{className:"spinner"}),(0,Y.jsx)("p",{children:"Cargando inmueble..."})]});if(i||!t)return(0,Y.jsx)("div",{className:"property-error",children:"Error al cargar el inmueble o no existe."});const{name:s,address:o,price:l,year:d,idProperty:c,codeInternal:u,image:m,owner:p,traces:v=[]}=t.data;return(0,Y.jsx)("div",{className:"property-container",children:(0,Y.jsxs)("div",{className:"property-card",children:[null!==m&&void 0!==m&&m.file?(0,Y.jsx)("div",{className:"property-image-wrapper",children:(0,Y.jsx)("img",{src:"data:image/jpeg;base64,".concat(m.file),alt:s,className:"property-main-image",loading:"lazy"})}):(0,Y.jsx)("div",{className:"no-image",children:"Sin imagen disponible"}),(0,Y.jsxs)("div",{className:"property-info",children:[(0,Y.jsx)(K,{title:s}),(0,Y.jsxs)("p",{className:"property-address",children:["\ud83d\udccd ",o||"Sin direcci\xf3n"]}),(0,Y.jsxs)("div",{className:"property-price",children:["\ud83d\udcb0 ",l?"$ ".concat(Number(l).toLocaleString("es-CO")):"Sin precio"]}),(0,Y.jsxs)("div",{className:"property-details",children:[(0,Y.jsxs)("p",{children:[(0,Y.jsx)("strong",{children:"ID Propiedad:"})," ",c]}),(0,Y.jsxs)("p",{children:[(0,Y.jsx)("strong",{children:"C\xf3digo interno:"})," ",u||"N/A"]}),(0,Y.jsxs)("p",{children:[(0,Y.jsx)("strong",{children:"A\xf1o construcci\xf3n:"})," ",d||"N/A"]})]}),p&&(0,Y.jsxs)("div",{className:"property-owner",children:[(0,Y.jsx)("h3",{children:"\ud83d\udc64 Propietario"}),p.photo?(0,Y.jsx)("img",{src:"data:image/jpeg;base64,".concat(p.photo),alt:p.name,className:"owner-photo",loading:"lazy"}):(0,Y.jsx)("div",{className:"no-image",children:"Sin foto"}),(0,Y.jsx)("p",{className:"owner-name",children:p.name||"Nombre no disponible"}),(0,Y.jsx)("p",{children:p.address||"Sin direcci\xf3n"}),(0,Y.jsxs)("p",{children:["\ud83c\udf82 ",p.birthday||"Sin fecha de nacimiento"]})]}),(0,Y.jsxs)("div",{className:"property-traces",children:[(0,Y.jsx)("h3",{children:"\ud83d\udcc4 Historial de transacciones"}),v.length>0?v.map((e,a)=>(0,Y.jsxs)("div",{className:"trace-card",children:[(0,Y.jsxs)("p",{children:[(0,Y.jsx)("strong",{children:"Fecha:"})," ",e.dateSale||"N/A"]}),(0,Y.jsxs)("p",{children:[(0,Y.jsx)("strong",{children:"Nombre:"})," ",e.name||"N/A"]}),(0,Y.jsxs)("p",{children:[(0,Y.jsx)("strong",{children:"Valor:"})," $ ",Number(e.value||0).toLocaleString("es-CO")]}),(0,Y.jsxs)("p",{children:[(0,Y.jsx)("strong",{children:"Impuesto:"})," ",Number(e.tax||0).toLocaleString("es-CO")," %"]})]},a)):(0,Y.jsx)("p",{className:"no-traces",children:"No hay historial de transacciones."})]}),(0,Y.jsx)(Fe,{id:"buttonBack",label:"\u2190 Regresar",onClick:()=>{var r;null!==(r=a.state)&&void 0!==r&&r.from?e(a.state.from,{state:{pagination:a.state.pagination,filters:a.state.filters}}):e("/")},"arial-label":"button back"})]})]})})},Me=()=>{const e=(0,O.Zp)(),a=(0,t.wA)(),[r,n]=(0,U.useState)({email:"",password:""}),[i,s]=(0,U.useState)(!1),o=e=>{const{name:a,value:r}=e.target;n(e=>(0,l.A)((0,l.A)({},e),{},{[a]:r}))};return(0,Y.jsx)(xe.A,{className:"login-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",p:2},children:(0,Y.jsxs)(Se.A,{elevation:3,className:"login-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Y.jsx)(K,{title:"Iniciar sesi\xf3n"}),(0,Y.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Y.jsx)(Q.A,{label:"Correo electr\xf3nico",name:"email",type:"email",variant:"outlined",value:r.email,onChange:o,fullWidth:!0,InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(ke.MrL,{color:ee.oD,size:20})})}}),(0,Y.jsx)(Q.A,{label:"Contrase\xf1a",name:"password",type:"password",variant:"outlined",value:r.password,onChange:o,fullWidth:!0,InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(X.F5$,{color:ee.oD,size:18})})}}),(0,Y.jsx)(je.A,{id:"loginButton",variant:"contained",color:"primary",onClick:async()=>{const{email:t,password:n}=r;if(t&&n)try{var i,o,l;s(!0);const r=await z.post("/api/auth/login",{email:t,password:n}),{data:d}=r,c=(null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.user)||{},u=(null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.accessToken)||"",m=(null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.refreshToken)||"";if(!u||null===c||void 0===c||!c.id)return void se().fire({text:"Respuesta inv\xe1lida del servidor",icon:"error"});w(u),m&&w(m,"refreshToken"),sessionStorage.setItem("userId",c.id),a(p({id:c.id,name:c.name,email:c.email,role:c.role,token:u})),e("/home",{replace:!0})}catch(m){var d,c,u;console.error(" Error en login:",(null===(d=m.response)||void 0===d?void 0:d.data)||m.message),se().fire({text:(null===(c=m.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||"Credenciales inv\xe1lidas o servidor no disponible",icon:"error"})}finally{s(!1)}else se().fire({text:"Por favor, completa todos los campos",icon:"warning"})},disabled:i,sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"login button",children:i?"Ingresando...":"Ingresar"}),(0,Y.jsx)(je.A,{id:"registerButton",variant:"outlined",color:"secondary",onClick:()=>e("/register"),sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"register button",children:"Crear cuenta"}),(0,Y.jsx)(je.A,{id:"forgotPasswordButton",variant:"text",onClick:()=>e("/password-recover"),sx:{color:ee.eq,textTransform:"none",fontWeight:500,fontSize:"0.95rem !important",mt:1,"&:hover":{color:"#000"}},"aria-label":"forgot password button",children:"\xbfOlvidaste tu contrase\xf1a?"})]})]})})},Oe=()=>{const e=(0,O.Zp)(),[a,r]=(0,U.useState)({name:"",email:"",password:""}),[t,n]=(0,U.useState)(!1),i=e=>{const{name:a,value:t}=e.target;r(e=>(0,l.A)((0,l.A)({},e),{},{[a]:t}))};return(0,Y.jsx)(xe.A,{className:"register-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",p:2},children:(0,Y.jsxs)(Se.A,{elevation:3,className:"register-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Y.jsx)(K,{title:"Crear cuenta"}),(0,Y.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Y.jsx)(Q.A,{label:"Nombre",name:"name",variant:"outlined",value:a.name,onChange:i,fullWidth:!0,InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(X.JXP,{color:ee.oD})})}}),(0,Y.jsx)(Q.A,{label:"Correo electr\xf3nico",name:"email",type:"email",variant:"outlined",value:a.email,onChange:i,fullWidth:!0,InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(X.Yh2,{color:ee.oD})})}}),(0,Y.jsx)(Q.A,{label:"Contrase\xf1a",name:"password",type:"password",variant:"outlined",value:a.password,onChange:i,fullWidth:!0,InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(X.F5$,{color:ee.oD})})}}),(0,Y.jsx)(je.A,{id:"registerButton",variant:"contained",color:"primary",onClick:async()=>{const{name:r,email:t,password:i}=a;if(r&&t&&i)try{n(!0);const a=await z.post("/api/auth/register",{name:r,email:t,password:i});a.status>=200&&a.status<300&&(se().fire({title:"Registro exitoso",icon:"success",timer:1500,showConfirmButton:!1}),e("/login",{replace:!0}))}catch(d){var s,o,l;console.error(" Error en registro:",(null===(s=d.response)||void 0===s?void 0:s.data)||d.message);const e=null===(o=d.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.errors;let a="";if(e&&"object"===typeof e){if(console.log("errors: ",e),a='<ul style="padding-left: 20px; text-align: left; margin: 0;">',Array.isArray(e))for(const r of e)a+='<li style="margin-bottom: 6px; color: #d33;">'.concat(r,"</li>");a+="</ul>"}else a='<span style="color: #d33;">Ocurri\xf3 un error inesperado. Intenta nuevamente.</span>';se().fire({html:a,title:"Error",icon:"error",confirmButtonText:"Aceptar",customClass:{popup:"home-swal-popup",confirmButton:"home-accept-btn"}})}finally{n(!1)}else se().fire({text:"Por favor, completa todos los campos",icon:"warning"})},disabled:t,sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"register button",children:t?"Registrando...":"Crear cuenta"}),(0,Y.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>e("/login"),sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"cancel button",children:"Cancelar"})]})]})})},Ue=()=>{const e=(0,O.Zp)(),[a,t]=(0,U.useState)(""),[n,i]=(0,U.useState)(!1);return(0,Y.jsx)(xe.A,{className:"recover-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",padding:2},children:(0,Y.jsxs)(Se.A,{elevation:3,className:"recover-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Y.jsx)(K,{title:"Recuperar Contrase\xf1a"}),(0,Y.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Y.jsx)(Q.A,{label:"Correo electr\xf3nico",type:"email",variant:"outlined",value:a,onChange:e=>t(e.target.value),fullWidth:!0,InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(X.Yh2,{color:ee.oD,size:20})})}}),(0,Y.jsx)(je.A,{id:"sendButton",variant:"contained",color:"primary",onClick:async()=>{if(a)try{i(!0);const{errorWrapper:t}=await Promise.resolve().then(r.bind(r,2589)),{ok:n,data:s,error:o}=await t(z.post("".concat("/api/password/recover"),{email:a}),{unwrap:!1});if(n){null===s||void 0===s||s.message;se().fire({title:"Correo enviado",icon:"success",confirmButtonColor:"#107ACC"}),e("/index")}else{const e=(null===o||void 0===o?void 0:o.message)||"No se pudo enviar el correo.";se().fire({title:"Error",text:e,icon:"error",confirmButtonColor:"#C00F0C"})}}catch(Ke){se().fire({title:"Error",text:"No se pudo enviar el correo.",icon:"error",confirmButtonColor:"#C00F0C"})}finally{i(!1)}},disabled:n,sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"send button",children:n?"Enviando...":"Enviar enlace"}),(0,Y.jsx)(je.A,{id:"cancelutton",variant:"outlined",color:"secondary",onClick:()=>e("/login"),sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"send button",children:"Cancelar"}),(0,Y.jsx)(ge.A,{onClick:()=>e("/login"),sx:{color:ee.eq,fontFamily:"Montserrat",fontSize:"0.95rem",fontWeight:"600",mt:4,cursor:"pointer","&:hover":{color:"#000 !important",textDecoration:"none !important"}},children:"\u2190 Volver al inicio de sesi\xf3n"})]})]})})},Ze=()=>{const e=(0,O.Zp)(),{token:a}=(0,O.g)(),[r,t]=(0,U.useState)("");return(0,Y.jsx)(xe.A,{className:"reset-container",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{background:"#f6f8fb",padding:2},children:(0,Y.jsxs)(Se.A,{elevation:3,className:"reset-card",sx:{borderRadius:4,width:"100%",maxWidth:420,p:4,textAlign:"center"},children:[(0,Y.jsx)(K,{title:"Crear Nueva contrase\xf1a"}),(0,Y.jsxs)(xe.A,{display:"flex",flexDirection:"column",gap:2,mt:3,children:[(0,Y.jsx)(Q.A,{label:"Nueva contrase\xf1a",type:"password",variant:"outlined",value:r,onChange:e=>t(e.target.value),fullWidth:!0,InputProps:{startAdornment:(0,Y.jsx)(ze.A,{position:"start",children:(0,Y.jsx)(X.F5$,{color:"#107ACC",size:20})})}}),(0,Y.jsx)(je.A,{id:"confirmButton",variant:"contained",color:"primary",onClick:async()=>{try{const t=await z.patch("".concat("/api/password/update"),{token:a,newPassword:r});t.status>=200&&t.status<300&&(se().fire({title:"Contrase\xf1a actualizada",icon:"success",confirmButtonColor:"#107ACC"}),e("/login"))}catch(s){var t,n,i;se().fire({title:"Error",text:(null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n||null===(i=n.error)||void 0===i?void 0:i.message)||"No se pudo actualizar la contrase\xf1a.",icon:"error",confirmButtonColor:"#C00F0C"})}},sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"confirm button",children:"Confirmar"}),(0,Y.jsx)(je.A,{id:"cancelButton",variant:"outlined",color:"secondary",onClick:()=>e("/login"),sx:{borderRadius:2,textTransform:"none",py:1.2},"aria-label":"cancel button",children:"Cancelar"})]})]})})},He=e=>{let{text:a="",color:r="#000"}=e;return(0,Y.jsx)("div",{className:"label",style:{color:r},children:(0,Y.jsx)("span",{children:a})})},Ye=["https://res.cloudinary.com/brickandbatten/images/c_scale,w_1157,h_422,dpr_1.6500000953674316/f_auto,q_auto/v1716481720/wordpress_assets/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A.jpg?_i=AA","https://plus.unsplash.com/premium_photo-1661488387936-daf401be9cb7?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1460","https://www.intreasso.org/wp-content/uploads/elegir-un-agente-inmobiliario-_intreasso.jpg"],Ve=[{icon:(0,Y.jsx)(X.V5Y,{}),title:"Compra y venta",description:"Te ayudamos a comprar y vender propiedades de manera segura."},{icon:(0,Y.jsx)(X.p45,{}),title:"Asesor\xeda personalizada",description:"Nuestro equipo experto te acompa\xf1a en cada paso."},{icon:(0,Y.jsx)(X.usP,{}),title:"Propiedades exclusivas",description:"Accede a inmuebles \xfanicos en las mejores ubicaciones."},{icon:(0,Y.jsx)(X.ARf,{}),title:"Gesti\xf3n de alquileres",description:"Administramos tus propiedades para maximizar rentabilidad."}],Xe=()=>{const e=(0,O.Zp)(),[a,r]=(0,U.useState)(0);(0,U.useEffect)(()=>{const e=setInterval(()=>{r(e=>(e+1)%Ye.length)},4e3);return()=>clearInterval(e)},[]);return(0,Y.jsx)("div",{className:"aboutUs-container",children:(0,Y.jsxs)("div",{className:"aboutUs-form aboutUs-content",children:[(0,Y.jsx)(K,{title:"Nosotros"}),(0,Y.jsxs)("div",{className:"aboutUs-slider",children:[Ye.map((e,r)=>(0,Y.jsx)("img",{src:e,alt:"Propiedad ".concat(r+1),className:r===a?"active":""},r)),(0,Y.jsx)("button",{className:"slider-arrow left",onClick:()=>r(e=>(e-1+Ye.length)%Ye.length),children:(0,Y.jsx)(X.irw,{})}),(0,Y.jsx)("button",{className:"slider-arrow right",onClick:()=>r(e=>(e+1)%Ye.length),children:(0,Y.jsx)(X.fOo,{})}),(0,Y.jsx)("div",{className:"slider-indicators",children:Ye.map((e,t)=>(0,Y.jsx)("span",{className:"indicator ".concat(t===a?"active":""),onClick:()=>r(t)},t))})]}),(0,Y.jsxs)("div",{className:"aboutUs-content",children:[(0,Y.jsx)("p",{children:"Somos una inmobiliaria pensada para ti, ofreci\xe9ndote propiedades exclusivas y asesor\xeda personalizada."}),(0,Y.jsx)(He,{text:"\xa1Tu hogar ideal te espera!"})]}),(0,Y.jsxs)("div",{className:"aboutUs-services",children:[(0,Y.jsx)("h3",{children:"Nuestros Servicios"}),(0,Y.jsx)("div",{className:"services-grid",children:Ve.map((e,a)=>(0,Y.jsxs)("div",{className:"service-card",children:[(0,Y.jsx)("div",{className:"service-icon",children:e.icon}),(0,Y.jsx)("h4",{children:e.title}),(0,Y.jsx)("p",{children:e.description})]},a))})]}),(0,Y.jsxs)("div",{className:"aboutUs-buttons",children:[(0,Y.jsx)(Fe,{id:"navigateProperties",label:"Ver Propiedades",onClick:()=>e("/index")}),(0,Y.jsx)(Fe,{id:"navigateContact",label:"Cont\xe1ctanos",onClick:()=>e("/contact")})]})]})})},Ge=()=>(0,Y.jsxs)("div",{className:"contact-container",children:[(0,Y.jsx)(K,{title:"Nuestro Equipo"}),(0,Y.jsxs)("p",{className:"contact-subtitle",children:["Conoce al equipo detr\xe1s de ",(0,Y.jsx)("strong",{children:"Real Estate"}),", siempre listos para ayudarte a encontrar tu nuevo hogar."]}),(0,Y.jsx)("div",{className:"contact-cards",children:[{name:"Juan Fernando Mu\xf1oz",email:"juanferm0410@gmail.com",phone:"+57 3117863643",image:"https://randomuser.me/api/portraits/men/41.jpg"},{name:"Mar\xeda Camila Torres",email:"mariacamila@gmail.com",phone:"+57 3205542187",image:"https://randomuser.me/api/portraits/women/45.jpg"},{name:"Laura Mart\xednez",email:"lauramartinez@gmail.com",phone:"+57 3157749021",image:"https://randomuser.me/api/portraits/women/46.jpg"},{name:"Valentina L\xf3pez",email:"valentina.lopez@gmail.com",phone:"+57 3109982311",image:"https://randomuser.me/api/portraits/women/47.jpg"},{name:"Santiago Henao",email:"shr09@gmail.com",phone:"+57 3188511479",image:"https://randomuser.me/api/portraits/men/42.jpg"},{name:"Sof\xeda Ram\xedrez",email:"sofia.ramirez@gmail.com",phone:"+57 3168834402",image:"https://randomuser.me/api/portraits/women/48.jpg"}].map((e,a)=>(0,Y.jsxs)("div",{className:"contact-card",children:[(0,Y.jsx)("div",{className:"contact-image-wrapper",children:(0,Y.jsx)("img",{src:e.image,alt:e.name,className:"contact-photo"})}),(0,Y.jsxs)("div",{className:"contact-info",children:[(0,Y.jsx)("h3",{children:e.name}),(0,Y.jsx)("p",{children:e.email}),(0,Y.jsxs)("span",{className:"contact-phone",children:[(0,Y.jsx)("span",{className:"prefix",children:"+57"})," ",e.phone.replace("+57 ","")]})]})]},a))})]});const $e=()=>(0,Y.jsxs)(O.Kd,{basename:"/realestate.app",children:[(0,Y.jsx)(G,{}),(0,Y.jsx)(V,{}),(0,Y.jsxs)(O.BV,{children:[(0,Y.jsx)(O.qh,{path:"*",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Te,{})})}),(0,Y.jsx)(O.qh,{path:"/index/*",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Te,{})})}),(0,Y.jsx)(O.qh,{path:"/property/:propertyId",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Le,{})})}),(0,Y.jsx)(O.qh,{path:"/login/*",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Me,{})})}),(0,Y.jsx)(O.qh,{path:"/register",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Oe,{})})}),(0,Y.jsx)(O.qh,{path:"/password-recover",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Ue,{})})}),(0,Y.jsx)(O.qh,{path:"/password-reset/:token",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Ze,{})})}),(0,Y.jsx)(O.qh,{path:"/about-us",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Xe,{})})}),(0,Y.jsx)(O.qh,{path:"/contact",element:(0,Y.jsx)(_e,{children:(0,Y.jsx)(Ge,{})})}),(0,Y.jsx)(O.qh,{path:"/*",element:(0,Y.jsx)(De,{children:(0,Y.jsx)(Re,{})})})]})]});const Je=function(){return(0,Y.jsx)(t.Kq,{store:L,children:(0,Y.jsx)(n.Q,{loading:(0,Y.jsx)("div",{children:"Cargando sesi\xf3n..."}),persistor:M,children:(0,Y.jsx)($e,{})})})}}}]);
//# sourceMappingURL=561.7da78840.chunk.js.map