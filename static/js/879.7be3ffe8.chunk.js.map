{"version":3,"file":"static/js/879.7be3ffe8.chunk.js","mappings":"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","sources":["services/api/errorWrapper.js","services/store/authSlice.js","services/api/config.js","services/auth/token.js","services/auth/session.js","services/api/api.js","services/store/propertySlice.js","services/store/store.js","components/header/Header.js","components/menu/AppMenu.js","routers/RoleRoute.js","components/title/Title.js","components/search/Search.js","components/pagination/Pagination.js","services/auth/roles.js","modules/core/home/Home.js","components/button/AddButton.js","modules/property/service/AddProperty.js","modules/property/mapper/propertyMapper.js","modules/owner/mapper/OwnerMapper.js","modules/propertyTrace/mapper/propertyTraceMapper.js","modules/property/service/EditProperty.js","modules/propertyImage/mapper/propertyImageMapper.js","modules/user/User.js","modules/user/mapper/userMapper.js","modules/user/service/EditUser.js","modules/user/service/ManageUsers.js","routers/DashboardRoutes.js","routers/PublicRoute.js","routers/PrivateRoute.js","modules/core/index/Index.js","components/button/Button.js","modules/property/Property.js","services/fetch/useFetch.js","modules/auth/login/Login.js","services/store/authThunks.js","modules/auth/register/Register.js","modules/password/recover/PasswordRecover.js","modules/password/reset/PasswordReset.js","components/label/Label.js","modules/core/aboutus/AboutUs.js","modules/core/contact/Contact.js","modules/core/notfound/NotFound.js","routers/AppRouter.js","App.js"],"sourcesContent":["\r\n// Convierte diferentes formatos de errores en un arreglo plano\r\nexport function flattenErrors(e) {\r\n  if (!e) return [];\r\n  if (Array.isArray(e)) return e.filter(Boolean).map(String);\r\n  if (typeof e === \"object\") {\r\n    const out = [];\r\n    for (const [k, v] of Object.entries(e)) {\r\n      if (Array.isArray(v)) out.push(...v.map(String));\r\n      else if (v) out.push(String(v));\r\n    }\r\n    return out;\r\n  }\r\n  return [String(e)];\r\n}\r\n\r\n// Normaliza los errores (FluentValidation / ASP.NET / Custom Wrapper)\r\nexport function normalizeError(error) {\r\n  const res = error?.response;\r\n  const body = res?.data;\r\n  let statusCode = res?.status ?? 0;\r\n  let message = body?.message || body?.detail || res?.statusText || error?.message || \"Error inesperado\";\r\n  let errors = [];\r\n  let data = null;\r\n\r\n  if (body && typeof body === \"object\") {\r\n    const hasWrapper = \"success\" in body || \"statusCode\" in body || \"errors\" in body || \"data\" in body;\r\n\r\n    if (hasWrapper) {\r\n      statusCode = body.statusCode ?? statusCode;\r\n      message = body.message ?? message;\r\n      errors = flattenErrors(body.errors);\r\n      data = body.data ?? null;\r\n      return { success: false, statusCode, message, errors, data };\r\n    }\r\n\r\n    if (body.errors && typeof body.errors === \"object\") {\r\n      errors = flattenErrors(body.errors);\r\n      return { success: false, statusCode, message, errors, data: null };\r\n    }\r\n\r\n    if (body.title || body.detail) {\r\n      message = body.detail || body.title || message;\r\n      errors = flattenErrors(body.errors);\r\n      return { success: false, statusCode, message, errors, data: null };\r\n    }\r\n  }\r\n\r\n  if (!res) {\r\n    return {\r\n      success: false,\r\n      statusCode: 0,\r\n      message: \"No hay respuesta del servidor\",\r\n      errors: [error?.message || \"Network/Timeout\"],\r\n      data: null,\r\n    };\r\n  }\r\n\r\n  return { success: false, statusCode, message, errors, data: null };\r\n}\r\n\r\n// Wrapper universal de errores para Axios\r\nexport async function errorWrapper(promise, { unwrap = false } = {}) {\r\n  try {\r\n    const response = await promise;\r\n    const body = response?.data;\r\n\r\n    // Caso 1: Backend usa ServiceResultWrapper<T>\r\n    if (body && typeof body === \"object\" && \"success\" in body && \"statusCode\" in body) {\r\n      return {\r\n        ok: true,\r\n        success: body.success,\r\n        statusCode: body.statusCode,\r\n        message: body.message,\r\n        data: unwrap ? body.data : body,\r\n        error: null,\r\n      };\r\n    }\r\n\r\n    // Caso 2: Backend devuelve datos directos (sin wrapper)\r\n    return { ok: true, success: true, data: body, message: \"Operacin exitosa\", error: null };\r\n  } catch (err) {\r\n    const friendly = normalizeError(err);\r\n    return { ok: false, ...friendly, error: friendly };\r\n  }\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\n\n// 1. leer token guardado\nconst storedToken =\n  sessionStorage.getItem(\"token\") || localStorage.getItem(\"token\") || \"\";\n\n// 2. intentar decodificar usuario desde el JWT\nlet storedUser = null;\nif (storedToken) {\n  try {\n    const payload = storedToken.split(\".\")[1] || \"\";\n    storedUser = JSON.parse(atob(payload));\n  } catch {\n    storedUser = null;\n  }\n}\n\n// 3. estado inicial limpio\nconst initialState = {\n  logged: !!storedToken,\n  token: storedToken,\n  user: storedUser,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    // accin nica para poner auth en redux\n    setAuth(state, action) {\n      const { token, user } = action.payload || {};\n      state.logged = true;\n      if (token) {\n        state.token = token;\n        sessionStorage.setItem(\"token\", token);\n      }\n      if (user) {\n        state.user = user;\n      }\n    },\n\n    // para cuando el user actualiza su propio perfil\n    updateProfile(state, action) {\n      const changes = action.payload || {};\n      state.user = { ...(state.user || {}), ...changes };\n    },\n\n    logout(state) {\n      state.logged = false;\n      state.token = \"\";\n      state.user = null;\n      sessionStorage.removeItem(\"token\");\n      localStorage.removeItem(\"token\");\n    },\n  },\n});\n\nexport const { setAuth, updateProfile, logout } = authSlice.actions;\nexport default authSlice.reducer;\n","// export const getBaseURL = () => {\n//   const env = process.env.REACT_APP_BACKEND_URL;\n//   if (env && env !== 'undefined' && env !== 'null') return env;\n//   try {\n//     // Permite inyectar base en window en despliegues estticos\n//     if (typeof window !== 'undefined' && window.__API_BASE__) return window.__API_BASE__;\n//   } catch (_) {}\n//   // Fallback: relativo al mismo origen (til si hay proxy /api)\n//   return '';\n// };\n\n\nexport const getBaseURL = () => {\n  const env = process.env.REACT_APP_BACKEND_URL;\n  if (env && env !== \"undefined\" && env !== \"null\") return env.replace(/\\/+$/, \"\");\n  if (typeof window !== \"undefined\" && window.__API_BASE__) return window.__API_BASE__.replace(/\\/+$/, \"\");\n  return \"\";\n};\n\n","export const getToken = (key = 'token', storage = sessionStorage) => {\n  try {\n    return storage.getItem(key) || null;\n  } catch (_) {\n    return null;\n  }\n};\n\nexport const decodeToken = (token) => {\n  if (!token || typeof token !== 'string') return null;\n  const parts = token.split('.');\n  if (parts.length < 2) return null;\n  try {\n    const base64 = parts[1].replace(/-/g, '+').replace(/_/g, '/');\n    const json = decodeURIComponent(\n      atob(base64)\n        .split('')\n        .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n        .join('')\n    );\n    return JSON.parse(json);\n  } catch (_) {\n    return null;\n  }\n};\n\nexport const getTokenPayload = (key = 'token') => {\n  const token = getToken(key);\n  return decodeToken(token);\n};\n\nexport const getUserFromToken = (payload) => {\n  if (!payload || typeof payload !== 'object') return null;\n  const getFirst = (keys) => keys.map((k) => payload[k]).find((v) => v != null);\n\n  const id = getFirst(['sub', 'user_id', 'id']);\n  const name = getFirst([\n    'name',\n    'fullName',\n    'given_name',\n    'username',\n    'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name',\n  ]);\n  const email = getFirst([\n    'email',\n    'preferred_username',\n    'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress',\n  ]);\n  const role = getFirst([\n    'role',\n    'http://schemas.microsoft.com/ws/2008/06/identity/claims/role',\n  ]) || (Array.isArray(payload.roles) ? payload.roles[0] : undefined);\n\n  return { id, name, email, role };\n};\n\nexport const getTokenExp = (payload) => {\n  const p = payload || getTokenPayload('token');\n  if (!p || typeof p !== 'object') return null;\n  const exp = typeof p.exp === 'number' ? p.exp : null; // seconds since epoch\n  return exp ?? null;\n};\n\nexport const isTokenExpired = (payload, skewSeconds = 0) => {\n  const exp = getTokenExp(payload);\n  if (!exp) return true;\n  const nowSec = Math.floor(Date.now() / 1000);\n  return nowSec >= (exp - skewSeconds);\n};\n\nexport const isTokenNearExpiry = (payload, skewSeconds = 60) => {\n  const exp = getTokenExp(payload);\n  if (!exp) return true;\n  const nowSec = Math.floor(Date.now() / 1000);\n  return (exp - nowSec) <= skewSeconds;\n};\n\nexport const saveToken = (token, key = 'token', storage = sessionStorage) => {\n  try { storage.setItem(key, token); } catch (_) {}\n};\n\nexport const clearToken = (key = 'token', storage = sessionStorage) => {\n  try { storage.removeItem(key); } catch (_) {}\n};\n","import axios from \"axios\";\nimport { getBaseURL } from \"../api/config\";\nimport { store } from \"../store/store\";\nimport { logout, setAuth } from \"../store/authSlice\";\nimport { getToken, getTokenPayload, isTokenNearExpiry, saveToken, clearToken } from \"./token\";\n\n// referencia al refresh en curso para no disparar varios a la vez\nlet refreshPromise = null;\n// almacena los ids de los interceptores por instancia de axios\nconst interceptorMap = new WeakMap();\n\n// obtiene el endpoint de refresh desde las envs\nconst getRefreshEndpoint = () => process.env.REACT_APP_ENDPOINT_TOKEN_REFRESH;\n\n// limpia sesin y redirige al login\nconst redirectToLogin = () => {\n  try {\n    // guarda la ruta actual para volver despus\n    const here = (window.location?.pathname || \"\") + (window.location?.search || \"\");\n    if (here && !here.startsWith(\"/login\")) sessionStorage.setItem(\"lastPath\", here);\n  } catch {}\n  try { store.dispatch(logout()); } catch {}\n  clearToken();\n  try { window.location.replace(\"/login\"); } catch {}\n};\n\n// decodifica un JWT sin verificarlo\nconst decodeJwt = (token) => {\n  try {\n    const payload = token.split(\".\")[1] || \"\";\n    return JSON.parse(atob(payload));\n  } catch {\n    return null;\n  }\n};\n\n// intenta refrescar el token actual\nexport const refreshToken = async () => {\n  // si ya hay un refresh en progreso, reusar esa promesa\n  if (refreshPromise) return refreshPromise;\n\n  const endpoint = getRefreshEndpoint();\n  const baseURL = getBaseURL();\n  const currentToken = getToken(\"token\");\n  // si no hay endpoint o no hay token, no se puede refrescar\n  if (!endpoint || !currentToken) return null;\n\n  // cliente aislado solo para el refresh\n  const client = axios.create({ baseURL, timeout: 15000 });\n\n  // guardamos la promesa para que otros llamados la esperen\n  refreshPromise = client\n    .post(endpoint, {}, { headers: { Authorization: `Bearer ${currentToken}` } })\n    .then((res) => {\n      // soporta varias formas de respuesta\n      const newToken =\n        res?.data?.token ??\n        res?.data?.accessToken ??\n        res?.data?.data?.accessToken ??\n        null;\n      if (newToken) {\n        // guarda el nuevo token en storage\n        saveToken(newToken);\n        // decodifica usuario desde el token (opcional)\n        const userFromToken = decodeJwt(newToken);\n        // actualiza redux con el nuevo token\n        store.dispatch(setAuth({ token: newToken, user: userFromToken || undefined }));\n      }\n      return newToken;\n    })\n    .catch((err) => {\n      // si fall el refresh, limpiamos y mandamos a login\n      clearToken();\n      try { store.dispatch(logout()); } catch {}\n      redirectToLogin();\n      throw err;\n    })\n    .finally(() => {\n      // libera la referencia para permitir otro refresh despus\n      refreshPromise = null;\n    });\n\n  return refreshPromise;\n};\n\n// asegura que haya un token no vencido antes de usarlo\nexport const ensureFreshToken = async (skewSeconds = 60) => {\n  const payload = getTokenPayload(\"token\");\n  if (!payload) return null;\n  // si est por expirar, lo refrescamos\n  if (isTokenNearExpiry(payload, skewSeconds)) {\n    try { return await refreshToken(); } catch { return null; }\n  }\n  // si no, devolvemos el actual\n  return getToken(\"token\");\n};\n\n// instala interceptores en una instancia de axios\nexport const installAuthInterceptors = (api) => {\n  if (!api) return null;\n\n  // evita instalar dos veces en la misma instancia\n  const existing = interceptorMap.get(api);\n  if (existing) return existing;\n\n  // interceptor de request: inyecta el token\n  const reqId = api.interceptors.request.use(async (config) => {\n    // permite saltarse auth en requests puntuales\n    if (config.__skipAuth) return config;\n    try {\n      // intenta refrescar si es necesario\n      await ensureFreshToken();\n      const token = getToken(\"token\");\n      if (token) {\n        config.headers = config.headers || {};\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch {}\n    return config;\n  });\n\n  // interceptor de response: reintenta si el token estaba vencido\n  const resId = api.interceptors.response.use(\n    (resp) => resp,\n    async (error) => {\n      const original = error?.config || {};\n      // si es 401 y no hemos reintentado, intentamos refrescar una vez\n      if (error?.response?.status === 401 && !original.__retry) {\n        original.__retry = true;\n        try {\n          const newToken = await refreshToken();\n          if (newToken) {\n            original.headers = original.headers || {};\n            original.headers.Authorization = `Bearer ${newToken}`;\n            return api(original);\n          }\n        } catch {}\n      }\n      // si sigue siendo 401, cerramos sesin y mandamos a login\n      if (error?.response?.status === 401) {\n        try { store.dispatch(logout()); } catch {}\n        redirectToLogin();\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  // guardamos los ids para poder desinstalar despus\n  const ids = { reqId, resId };\n  interceptorMap.set(api, ids);\n  return ids;\n};\n\n// remueve los interceptores de una instancia de axios\nexport const uninstallAuthInterceptors = (api) => {\n  const ids = interceptorMap.get(api);\n  if (!ids || !api) return;\n  try { api.interceptors.request.eject(ids.reqId); } catch {}\n  try { api.interceptors.response.eject(ids.resId); } catch {}\n  interceptorMap.delete(api);\n};\n\n// helpers para tests\nexport const __testing = {\n  _resetRefresh: () => { refreshPromise = null; },\n  _installed: (api) => interceptorMap.get(api),\n};\n","import axios from \"axios\";\nimport { installAuthInterceptors } from \"../auth/session\";\nimport { getBaseURL } from \"./config\";\n\n// Instancia global de Axios\nexport const api = axios.create({\n  baseURL: getBaseURL(),          // Toma automticamente REACT_APP_API_BASE_URL del .env\n  timeout: 20000,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\n// Interceptores de autenticacin\ninstallAuthInterceptors(api); // Instala lgica de auto-refresh\n\nexport default api;\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { api } from '../../services/api/api';\nimport { errorWrapper } from '../../services/api/errorWrapper';\n\nconst ENDPOINT = process.env.REACT_APP_ENDPOINT_PROPERTY;\n\nexport const fetchProperties = createAsyncThunk(\n  'property/fetchAll',\n  async ({\n    page = 1,\n    limit = 6,\n    name = '',\n    address = '',\n    minPrice = '',\n    maxPrice = '',\n    refresh = false\n  } = {}) => {\n    if (!ENDPOINT) throw new Error('Falta configuracin: REACT_APP_ENDPOINT_PROPERTY');\n\n    const params = new URLSearchParams();\n    params.append('page', page);\n    params.append('limit', limit);\n    if (name && name.trim() !== '') params.append('name', name.trim());\n    if (address && address.trim() !== '') params.append('address', address.trim());\n    if (minPrice !== '' && minPrice !== null) params.append('minPrice', minPrice);\n    if (maxPrice !== '' && maxPrice !== null) params.append('maxPrice', maxPrice);\n    if (refresh) params.append('refresh', 'true');\n\n    const url = `${ENDPOINT}?${params.toString()}`;\n\n    const res = await errorWrapper(api.get(url, { __skipAuth: true }), { unwrap: false });\n    if (!res.ok) throw res.error;\n\n    const body = res.data || {};\n    let items = [];\n    let meta = {};\n\n    if (body?.data?.data && Array.isArray(body.data.data)) {\n      items = body.data.data;\n      meta = body.data.meta || {};\n    } else if (Array.isArray(body?.data)) {\n      items = body.data;\n      meta = body.meta || {};\n    } else if (Array.isArray(body)) {\n      items = body;\n      meta = {};\n    }\n\n    const finalMeta = meta || { page, limit, total: items.length, last_page: 1 };\n\n    const normalized = items.map((p) => ({\n      idProperty: p.idProperty ?? p.IdProperty ?? p.id ?? '',\n      name: p.name ?? p.Name ?? '',\n      address: p.address ?? p.Address ?? '',\n      price: Number(p.price ?? p.Price ?? 0),\n      year: Number(p.year ?? p.Year ?? 0),\n      codeInternal: Number(p.codeInternal ?? p.CodeInternal ?? 0),\n      idOwner: p.idOwner ?? p.IdOwner ?? '',\n      image: p.image ?? p.Image ?? null,\n      owner: p.owner ?? null,\n      traces: p.traces ?? [],\n    }));\n\n    return {\n      items: normalized,\n      meta: finalMeta,\n      filters: {                    // guarda filtros actuales en el state\n        name: name?.trim() || '',\n        address: address?.trim() || '',\n        minPrice: minPrice || '',\n        maxPrice: maxPrice || '',\n      }\n    };\n  }\n);\n\nexport const createProperty = createAsyncThunk(\n  'property/create',\n  async (propertyData) => {\n    if (!ENDPOINT) throw new Error('Falta configuracin: REACT_APP_ENDPOINT_PROPERTY');\n    const res = await errorWrapper(api.post(ENDPOINT, propertyData));\n    return res.data?.data ?? res.data;\n  }\n);\n\nconst propertySlice = createSlice({\n  name: 'property',\n  initialState: {\n    properties: [],\n    meta: { page: 1, limit: 6, total: 0, last_page: 1 },\n    loading: false,\n    error: null,\n    filters: {\n      name: '',\n      address: '',\n      minPrice: '',\n      maxPrice: '',\n    },\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchProperties.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchProperties.fulfilled, (state, action) => {\n        state.loading = false;\n        state.properties = action.payload.items || [];\n        state.meta = action.payload.meta || state.meta;\n        state.filters = action.payload.filters || state.filters;\n      })\n      .addCase(fetchProperties.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message;\n      })\n      .addCase(createProperty.fulfilled, (state, action) => {\n        if (action.payload) state.properties.push(action.payload);\n      });\n  },\n});\n\nexport default propertySlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport createWebStorage from \"redux-persist/lib/storage/createWebStorage\";\nimport authReducer from \"./authSlice\";\nimport propertyReducer from \"./propertySlice\";\n\n//useFetch Configuracin del almacenamiento en sesin (sessionStorage)\nconst createSessionStorage = () => {\n  try {\n    return createWebStorage(\"session\");\n  } catch {\n    // Fallback para entornos sin window (SSR o pruebas)\n    return {\n      getItem: () => Promise.resolve(null),\n      setItem: (_key, value) => Promise.resolve(value),\n      removeItem: () => Promise.resolve(),\n    };\n  }\n};\nconst sessionStorage = createSessionStorage();\n\n//useFetch Configuracin de persistencia solo para auth\nconst persistConfig = {\n  key: \"auth\",\n  storage: sessionStorage,\n  whitelist: [\"user\", \"token\", \"logged\"], // persistimos solo lo necesario\n};\n\n// Reducer persistente para autenticacin\nconst persistedAuthReducer = persistReducer(persistConfig, authReducer);\n\n//useFetch Store principal\nexport const store = configureStore({\n  reducer: {\n    auth: persistedAuthReducer,\n    property: propertyReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false, // evita warnings con redux-persist\n    }),\n});\n\n//useFetch Persistor (necesario para <PersistGate> en tu App.jsx)\nexport const persistor = persistStore(store);\n","import { TbSmartHome } from \"react-icons/tb\";\r\nimport './Header.scss';\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header-content\">\r\n        <TbSmartHome className=\"header-icon\" size={52.5} strokeWidth={2.5} />\r\n        <h1 className=\"header-title\">\r\n          Real<span className=\"header-letter\">Estate</span>\r\n        </h1>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import { useMemo, useCallback, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '../../services/store/authSlice.js';\r\nimport { slide as Menu } from 'react-burger-menu';\r\nimport { Header } from '../header/Header.js';\r\nimport { FiHome, FiUser, FiUsers, FiPhone, FiLogOut, FiUpload, FiEdit } from 'react-icons/fi';\r\nimport { getTokenPayload, getUserFromToken, isTokenExpired } from '../../services/auth/token';\r\nimport './AppMenu.scss';\r\n\r\nexport const AppMenu = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector(s => s.auth.user);\r\n\r\n  const { logged, role } = useMemo(() => {\r\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token') || '';\r\n    if (!token && !user) return { logged: false, role: '' };\r\n    try {\r\n      const payload = token ? getTokenPayload(token) : null;\r\n      const tokenUser = payload ? getUserFromToken(payload) : null;\r\n      const currentRole = (user?.role || tokenUser?.role || '').toLowerCase();\r\n      const valid = payload ? !isTokenExpired(payload) : Boolean(user);\r\n      return { logged: Boolean(valid && (user || tokenUser)), role: currentRole };\r\n    } catch { return { logged: Boolean(user), role: (user?.role || '').toLowerCase() }; }\r\n  }, [user]);\r\n\r\n  // Control del men para poder cerrarlo al navegar\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const closeMenu = useCallback(() => setMenuOpen(false), []);\r\n  const syncMenu = useCallback(s => setMenuOpen(s.isOpen), []);\r\n\r\n  const go = useCallback((whenIn, whenOut) => { navigate(logged ? whenIn : whenOut); closeMenu(); }, [logged, navigate, closeMenu]);\r\n  const goUsers = useCallback(() => { navigate('/users'); closeMenu(); }, [navigate, closeMenu]);\r\n  const goLogin = useCallback(() => { navigate('/login'); closeMenu(); }, [navigate, closeMenu]);\r\n  const goAddProperty = useCallback(() => { navigate('/add-property'); closeMenu(); }, [navigate, closeMenu]);\r\n\r\n  const handleLogout = useCallback(() => {\r\n    dispatch(logout());\r\n    try {\r\n      localStorage.removeItem('token');\r\n      sessionStorage.removeItem('token');\r\n      sessionStorage.removeItem('userId');\r\n      sessionStorage.removeItem('refreshToken');\r\n    } catch {}\r\n    navigate('/', { replace: true });\r\n    closeMenu();\r\n  }, [dispatch, navigate, closeMenu]);\r\n\r\n  return (\r\n    <Menu left isOpen={menuOpen} onStateChange={syncMenu} disableAutoFocus>\r\n      <Header />\r\n      <hr className=\"bm-hr\" />\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={() => go('/home', '/index')}>\r\n        <FiHome className='menu-item-icon' /> Inmuebles\r\n      </button>\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={() => go('/add-property', '/about-us')}>\r\n        {logged ? (<><FiUpload className='menu-item-icon' /> Registrar inmueble</>) : (<><FiUser className='menu-item-icon' /> Nosotros</>)}\r\n      </button>\r\n\r\n      {logged && role === 'admin' && (\r\n        <button type=\"button\" className=\"menu-item\" onClick={goUsers}>\r\n          <FiUsers className='menu-item-icon' /> Usuarios\r\n        </button>\r\n      )}\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={() => go('/profile', '/contact')}>\r\n        {logged ? (<><FiUser className='menu-item-icon' /> Perfil</>) : (<><FiPhone className='menu-item-icon' /> Contacto</>)}\r\n      </button>\r\n\r\n      <button type=\"button\" className=\"menu-item\" onClick={logged ? handleLogout : goLogin}>\r\n        <FiLogOut className='menu-item-icon' /> {logged ? 'Cerrar sesin' : 'Ingresar'}\r\n      </button>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default AppMenu;\r\n","import { Navigate, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getTokenPayload, getUserFromToken } from '../services/auth/token';\n\nexport const RoleRoute = ({ element, allowed = [], redirectTo = '/home' }) => {\n  const user = useSelector((state) => state.auth.user);\n  const { pathname, search } = useLocation();\n\n  const payload = getTokenPayload('token');\n  const tokenUser = getUserFromToken(payload) || {};\n\n  const rawRole = user?.role ?? tokenUser?.role;\n  const userRoles = Array.isArray(rawRole) ? rawRole : (rawRole ? [rawRole] : []);\n  const allowedRoles = Array.isArray(allowed) ? allowed : [allowed];\n\n  const toKey = (v) => (v == null ? '' : String(v).toLowerCase());\n  const userKeys = userRoles.map(toKey);\n  const allowedKeys = allowedRoles.map(toKey);\n\n  sessionStorage.setItem('lastPath', pathname + search);\n\n  const isAllowed = allowedKeys.length === 0\n    ? true\n    : allowedKeys.some((r) => userKeys.includes(r));\n\n  return isAllowed ? element : <Navigate to={redirectTo} replace />;\n};\n\nexport default RoleRoute;\n","import './Title.scss';\r\n\r\nexport const Title = ({ title='' }) => {\r\n  return (\r\n    <div className=\"title\"><h1>{ title }</h1></div>\r\n  )\r\n}\r\n\r\nexport default Title;","import { memo, useEffect, useRef, useState } from \"react\";\nimport { TextField } from \"@mui/material\";\nimport { FiSearch, FiMapPin, FiDollarSign, FiFilter, FiX, FiRotateCcw } from \"react-icons/fi\";\nimport { MAX_PRICE, secondaryColor, STEP } from \"../../global\";\nimport \"./Search.scss\";\n\nconst formatShort = (v) => (v >= 1_000_000 ? `${Math.round(v / 1_000_000)} M` : `$ ${v.toLocaleString()}`);\n\nexport const Search = ({ filters = {}, onChange, className = \"\" }) => {\n  const didInit = useRef(false);\n  const trackRef = useRef(null);\n\n  // estado editable (lo que el user est tocando ahora)\n  const [name, setName] = useState(filters.name || \"\");\n  const [address, setAddress] = useState(filters.address || \"\");\n  const [min, setMin] = useState(filters.minPrice !== undefined ? Number(filters.minPrice) : 0);\n  const [max, setMax] = useState(filters.maxPrice !== undefined ? Number(filters.maxPrice) : MAX_PRICE);\n  const [open, setOpen] = useState(false);\n\n  // estado aplicado (lo que realmente se mand al padre)\n  const [applied, setApplied] = useState({\n    name: filters.name || \"\",\n    address: filters.address || \"\",\n    minPrice: filters.minPrice !== undefined ? Number(filters.minPrice) : 0,\n    maxPrice: filters.maxPrice !== undefined ? Number(filters.maxPrice) : MAX_PRICE,\n  });\n\n  const cleanup = useRef(null);\n\n  useEffect(() => {\n    if (!didInit.current) didInit.current = true;\n    return () => { if (cleanup.current) clearTimeout(cleanup.current); };\n  }, []);\n\n  // ahora el indicador depende de LO APLICADO, no de lo que se escribe\n  const isApply =\n    !!applied.name ||\n    !!applied.address ||\n    applied.minPrice > 0 ||\n    applied.maxPrice < MAX_PRICE;\n\n  const buildEditable = () => ({ name, address, minPrice: min, maxPrice: max });\n\n  const apply = () => {\n    const payload = buildEditable();\n    setApplied(payload); // marcar como aplicado\n    if (typeof onChange === \"function\") onChange(payload);\n    setOpen(false);\n  };\n\n  const clear = () => {\n    setName(\"\"); setAddress(\"\"); setMin(0); setMax(MAX_PRICE);\n    const cleared = { name: \"\", address: \"\", minPrice: 0, maxPrice: MAX_PRICE };\n    setApplied(cleared);\n    if (typeof onChange === \"function\") onChange(cleared);\n  };\n\n  const toggle = () => setOpen((v) => !v);\n\n  const onMinRange = (val) => {\n    const v = Math.min(Math.max(0, Number(val)), MAX_PRICE);\n    if (v >= max) return;\n    setMin(v);\n  };\n  const onMaxRange = (val) => {\n    const v = Math.min(Math.max(0, Number(val)), MAX_PRICE);\n    if (v <= min) return;\n    setMax(v);\n  };\n\n  const handleTrackClick = (e) => {\n    if (!trackRef.current) return;\n    const rect = trackRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    let pct = x / rect.width;\n    pct = Math.min(Math.max(pct, 0), 1);\n    let value = Math.round((pct * MAX_PRICE) / STEP) * STEP;\n    const distMin = Math.abs(value - min);\n    const distMax = Math.abs(value - max);\n\n    if (distMin <= distMax) {\n      let nextMin = Math.min(value, max - STEP);\n      if (nextMin < 0) nextMin = 0;\n      setMin(nextMin);\n    } else {\n      let nextMax = Math.max(value, min + STEP);\n      if (nextMax > MAX_PRICE) nextMax = MAX_PRICE;\n      setMax(nextMax);\n    }\n  };\n\n  return (\n    <div className={`searchbar ${className}`.trim()}>\n      <button type=\"button\" className={`searchbar-toggle ${open ? \"is-open\" : \"\"}`} onClick={toggle}>\n        <FiFilter className=\"searchbar-icon\" /><span>Filtros</span>\n        {isApply && <small className=\"searchbar-indicator\">aplicados</small>}\n        {open && <FiX className=\"searchbar-toggle-close\" />}\n      </button>\n\n      <div className={`searchbar-panel ${open ? \"is-open\" : \"\"}`}>\n        <div className=\"searchbar-group\">\n          <div className=\"searchbar-field\">\n            <FiSearch className=\"searchbar-icon\" />\n            <TextField id=\"nameSearch\" type=\"text\" value={name} onChange={(e) => setName(e.target.value)} label=\"Nombre\" aria-label=\"name search input\" />\n          </div>\n          <div className=\"searchbar-divider\" />\n          <div className=\"searchbar-field\">\n            <FiMapPin className=\"searchbar-icon\" />\n            <TextField id=\"addressSearch\" type=\"text\" value={address} onChange={(e) => setAddress(e.target.value)} label=\"Direccin | sector\" aria-label=\"address search input\" />\n          </div>\n          <div className=\"searchbar-divider hide-mobile\" />\n          <div className=\"searchbar-field searchbar-price\">\n            <FiDollarSign strokeWidth={2} className=\"searchbar-icon\" />\n            <div className=\"price-slider\" onClick={handleTrackClick}>\n              <div className=\"price-slider-track\" ref={trackRef} />\n              <div className=\"price-slider-range\" style={{ left: `${(min / MAX_PRICE) * 100}%`, right: `${100 - (max / MAX_PRICE) * 100}%` }} />\n              <input id=\"minRangeLimit\" type=\"range\" min=\"0\" max={MAX_PRICE} step={STEP} value={min} onChange={(e) => onMinRange(e.target.value)} aria-label=\"min range limit\" />\n              <input id=\"maxRangeLimit\" type=\"range\" min=\"0\" max={MAX_PRICE} step={STEP} value={max} onChange={(e) => onMaxRange(e.target.value)} aria-label=\"max range limit\" />\n              <div className=\"price-slider-labels\">\n                <span>{formatShort(min)}</span>\n                <span>{formatShort(max)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"searchbar-actions\">\n          <button id=\"clearButton\" type=\"button\" className=\"searchbar-clear\" onClick={clear}>\n            <FiRotateCcw color={secondaryColor} aria-label=\"clear button\" /><span>Limpiar</span>\n          </button>\n          <button id=\"applyButton\" type=\"button\" className=\"searchbar-apply\" onClick={apply}>\n            <FiFilter color={secondaryColor} aria-label=\"apply button\" /><span>Aplicar</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Search);\n","import React from \"react\";\nimport { primaryColor } from \"../../global\";\nimport \"./Pagination.scss\";\n\nexport const Pagination = ({ page = 1, lastPage = 1, onPageChange, className = \"pagination\", buttonClassName = \"pagination_btn\", prevLabel = \"Anterior\", nextLabel = \"Siguiente\", disabled = false }) => {\n  const prevDisabled = disabled || page <= 1;\n  const nextDisabled = disabled || page >= lastPage;\n  const lastDisabled = disabled || page >= lastPage;\n\n  const handlePrev = () => { if (!prevDisabled && typeof onPageChange === \"function\") onPageChange(page - 1); };\n  const handleNext = () => { if (!nextDisabled && typeof onPageChange === \"function\") onPageChange(page + 1); };\n  const handleGoLast = () => { if (!lastDisabled && typeof onPageChange === \"function\") onPageChange(lastPage); };\n\n  return (\n    <div className={className}>\n      <button className={buttonClassName} disabled={prevDisabled} onClick={handlePrev} aria-label=\"Anterior\"><span>{prevLabel}</span></button>\n      <span className=\"pagination_info\">\n        Pgina {page} de{\" \"}\n        <button type=\"button\" onClick={handleGoLast} disabled={lastDisabled} aria-label=\"Ir a la ltima pgina\" className=\"pagination_last\">\n          {lastPage}\n        </button>\n      </span>\n      <button className={buttonClassName} disabled={nextDisabled} onClick={handleNext} aria-label=\"Siguiente\"><span>{nextLabel}</span></button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","export const toArray = (raw) => (Array.isArray(raw) ? raw : raw ? [raw] : []);\nexport const norm = (v) => (v == null ? '' : String(v).toLowerCase());\n\n// export const rolesOf = (raw) => toArray(raw).map(norm);\nexport const hasAnyRole = (raw, allowed = []) => {\n  const userRoles = rolesOf(raw);\n  const allowedRoles = toArray(allowed).map(norm);\n  return allowedRoles.length === 0 ? true : allowedRoles.some((r) => userRoles.includes(r));\n};\n\nexport function rolesOf(value){\n  if(!value) return [];\n  if(Array.isArray(value)) return value.map(String).map(s=>s.trim()).filter(Boolean);\n  if(typeof value==='string') return value.split(',').map(s=>s.trim()).filter(Boolean);\n  return [String(value)].filter(Boolean);\n}\n","import { useEffect, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { api } from \"../../../services/api/api\";\r\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\r\nimport { Title } from \"../../../components/title/Title\";\r\nimport { Search } from \"../../../components/search/Search\";\r\nimport { Pagination } from \"../../../components/pagination/Pagination\";\r\nimport { fetchProperties } from \"../../../services/store/propertySlice\";\r\nimport { getTokenPayload, getUserFromToken } from \"../../../services/auth/token\";\r\nimport { rolesOf } from \"../../../services/auth/roles\";\r\nimport Swal from \"sweetalert2\";\r\nimport { FaUserSecret, FaUserTie, FaUser } from \"react-icons/fa6\";\r\nimport { FiPlus, FiEdit2, FiTrash2 } from \"react-icons/fi\";\r\nimport \"./Home.scss\";\r\n\r\nconst propertyEndpoint = process.env.REACT_APP_ENDPOINT_PROPERTY;\r\n\r\nexport const Home = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const propertyState = useSelector((state) => state.property);\r\n  const properties = propertyState?.properties ?? [];\r\n  const loading = propertyState?.loading;\r\n  const meta = propertyState?.meta ?? {};\r\n  const error = propertyState?.error;\r\n  const authUser = useSelector((state) => state.auth.user);\r\n\r\n  // const [filters, setFilters] = useState({ name: \"\", address: \"\" });\r\n  // const [pagination, setPagination] = useState({ last_page: 1, limit: 6, page: 1, total: 0 });\r\n\r\n  const userId = sessionStorage.getItem(\"userId\");\r\n  const payload = getTokenPayload(\"token\");\r\n  const tokenUser = getUserFromToken(payload) || {};\r\n  const roles = rolesOf(authUser?.role ?? tokenUser?.role);\r\n  const role = roles[0] || \"\";\r\n  const isAdmin = role === \"admin\";\r\n  const isEditor = role === \"editor\";\r\n  const canEdit = isEditor || isAdmin;\r\n  const canDelete = isAdmin;\r\n  const firstName = ((authUser?.name || tokenUser?.name || \"\").split(\" \")[0]) || \"\";\r\n  const displayRole = role ? role.charAt(0).toUpperCase() + role.slice(1) : \"\";\r\n\r\n  // Cuando regresa de property restaura la paginacin y los filtros con lo que venga del history\r\n  const [filters, setFilters] = useState(() => location.state?.filters || { name: \"\", address: \"\" });\r\n  const [pagination, setPagination] = useState(() => location.state?.pagination || { last_page: 1, limit: 6, page: 1, total: 0 });\r\n\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      navigate(\"/index\");\r\n      return;\r\n    }\r\n    const needsRefresh = location.state?.refresh === true;\r\n    const { name, address, minPrice, maxPrice } = filters;\r\n    dispatch(fetchProperties({ page: pagination.page, limit: pagination.limit, name, address, minPrice, maxPrice, refresh: needsRefresh }));\r\n    if (needsRefresh) navigate(location.pathname, { replace: true, state: {} });\r\n  }, [ dispatch, navigate, location.pathname, location.state?.refresh, pagination.page, pagination.limit, filters.name, filters.address, filters.minPrice, filters.maxPrice, userId, ]);\r\n\r\n   // Sincroniza history cuando cambien filtros/paginacin\r\n  useEffect(() => {\r\n    const { refresh, ...rest } = location.state || {}; \r\n    navigate(location.pathname, { replace: true, state: { ...rest, pagination, filters } }); \r\n  }, [pagination, filters, navigate, location.pathname]); \r\n\r\n  const handleFiltersChange = (next) => { setFilters(next); setPagination((prev) => ({ ...prev, page: 1 })); };\r\n  \r\n  const handleEditProperty = (propertyId) => navigate(`/edit-property/${propertyId}`, { state: { from: location.pathname, pagination, filters } });\r\n\r\n  // const handleAddProperty = () => navigate(\"/add-property\");\r\n  const handleAddProperty = () => navigate(\"/add-property\", { state: { from: location.pathname, pagination, filters } });\r\n\r\n  const handleDeleteProperty = async (propertyId) => {\r\n    const result = await Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"Deseas eliminar este inmueble?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"S, eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      confirmButtonColor: \"#107ACC\",\r\n      cancelButtonColor: \"#6b7280\",\r\n      background: \"#ffffff\",\r\n      customClass: { popup: \"home-swal-popup\" },\r\n    });\r\n    if (!result.isConfirmed) return;\r\n\r\n    try {\r\n      await errorWrapper(api.delete(`${propertyEndpoint}/${propertyId}`));\r\n      const { name, address, minPrice, maxPrice } = filters;\r\n      await dispatch(fetchProperties({ page: pagination.page, limit: pagination.limit, name, address, minPrice, maxPrice, refresh: true })).unwrap();\r\n      Swal.fire({ title: \"Inmueble Eliminado\", icon: \"success\", confirmButtonColor: \"#107ACC\" });\r\n    } catch {\r\n      Swal.fire(\"Error\", \"No se pudo eliminar la propiedad\", \"error\");\r\n    }\r\n  };\r\n\r\n  const handleChangePage = (newPage) => setPagination((prev) => ({ ...prev, page: newPage }));\r\n\r\n  // fallback\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loader-overlay loader-overlay--home\">\r\n        <div className=\"loader-spinner\"></div>\r\n        <p className=\"loader-text\">Cargando propiedades...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <div className=\"home-content\">\r\n        <div className=\"home-header\">\r\n          <Title title=\"Inmuebles\" />\r\n          <button className=\"home-add-btn\" onClick={handleAddProperty} title=\"Agregar propiedad\"><FiPlus /></button>\r\n        </div>\r\n\r\n        {error && <div className=\"home-error\">{String(error)}</div>}\r\n\r\n        {(firstName || displayRole) && (\r\n          <div className=\"home-meta\">\r\n            <p className=\"home-greeting\">Hola {firstName}</p>\r\n            <p className=\"home-role\">{role === \"admin\" ? <FaUserSecret /> : role === \"editor\" ? <FaUserTie /> : <FaUser />}<span className=\"home-role__label\">{displayRole}</span></p>\r\n          </div>\r\n        )}\r\n\r\n        <Search filters={filters} onChange={handleFiltersChange} />\r\n\r\n        <div className=\"home-grid\">\r\n          {properties.length > 0 ? (\r\n            properties.map((p) => (\r\n              <div key={p.idProperty} className=\"home-property-card\">\r\n                <div className=\"home-property-card-img-wrapper\" onClick={canEdit ? () => handleEditProperty(p.idProperty) : undefined} style={{ cursor: canEdit ? \"pointer\" : \"default\" }} title={canEdit ? \"Editar\" : undefined}>\r\n                  {p.image?.file ? <img className=\"home-property-card-img\" src={`data:image/jpeg;base64,${p.image.file}`} alt={p.name} loading=\"lazy\" /> : <div className=\"no-image\">Sin imagen</div>}\r\n                </div>\r\n                <div className=\"home-property-card-info\">\r\n                  <h1>{p.name}</h1>\r\n                  <p className=\"home-property-price\">$ {Number(p.price || 0).toLocaleString()} | {p.address}</p>\r\n                </div>\r\n                <div className=\"home-property-card-buttons\">\r\n                  {canEdit && <button className={`btn-edit ${isEditor ? \"editor\" : \"\"} ${isAdmin ? \"admin\" : \"\"}`} title=\"Editar\" onClick={(e) => { e.stopPropagation(); handleEditProperty(p.idProperty); }}><FiEdit2 /></button>}\r\n                  {canDelete && <button className=\"btn-delete\" title=\"Eliminar\" onClick={(e) => { e.stopPropagation(); handleDeleteProperty(p.idProperty); }}><FiTrash2 /></button>}\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p className=\"no-results\">No hay propiedades registradas an</p>\r\n          )}\r\n        </div>\r\n\r\n        <Pagination page={pagination.page} lastPage={meta?.last_page || pagination.last_page} onPageChange={handleChangePage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { memo, useCallback } from 'react';\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport './AddButton.scss';\r\n\r\nexport const AddButton = ({ label='', handleChange, className='' }) => {\r\n  const handleInputChange = useCallback( handleChange, [handleChange]); // depende de handleChange, as no se rompe\r\n    \r\n  return (\r\n    <div className={`add-btn-container ${className}`}>\r\n      <button id=\"addButton\" type=\"button\" onClick={ handleInputChange } className='add-btn-button' aria-label='add button'>\r\n        <div className=\"add-btn-label\"><FiPlus /></div>\r\n        <label className='add-btn-text'>{ label }</label>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(AddButton);","import { useState, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { api } from \"../../../services/api/api\";\r\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\r\nimport { Title } from \"../../../components/title/Title.js\";\r\nimport { AddButton } from \"../../../components/button/AddButton.js\";\r\nimport { FiTrash2 } from \"react-icons/fi\";\r\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport dayjs from \"dayjs\";\r\nimport { Box, Typography, TextField, Button } from \"@mui/material\";\r\nimport propertyDto from \"../dto/PropertyDto.json\";\r\nimport ownerDto from \"../../owner/dto/OwnerDto.json\";\r\nimport propertyImageDto from \"../../propertyImage/dto/PropertyImageDto.json\";\r\nimport propertyTraceDto from \"../../propertyTrace/dto/PropertyTraceDto.json\";\r\nimport { mapPropertyToDto } from \"../mapper/propertyMapper\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"./AddProperty.scss\";\r\n\r\nexport const AddProperty = () => {\r\n  const navigate = useNavigate();\r\n  const endpoints = {\r\n    property: process.env.REACT_APP_ENDPOINT_PROPERTY,\r\n  };\r\n\r\n  const [itemProperty, setProperty] = useState(propertyDto);\r\n  const [itemOwner, setOwner] = useState(ownerDto);\r\n  const [itemPropertyImage, setPropertyImage] = useState(propertyImageDto);\r\n  const [itemPropertyTrace, setPropertyTrace] = useState([propertyTraceDto]);\r\n  const [creating, setCreating] = useState(false);\r\n\r\n  const toBase64 = useCallback(\r\n    (file) =>\r\n      new Promise((res, rej) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => res(reader.result.split(\",\")[1]);\r\n        reader.onerror = (e) => rej(e);\r\n        reader.readAsDataURL(file);\r\n      }),\r\n    []\r\n  );\r\n\r\n  const clamp = (v) => {\r\n    const n = Number(v);\r\n    return Number.isFinite(n) ? Math.max(0, n) : 0;\r\n  };\r\n\r\n  const handleChange = (e, section = \"property\", index = null) => {\r\n    const { name, value } = e.target;\r\n    if (section === \"traces\") {\r\n      const val = name === \"value\" || name === \"tax\" ? clamp(value) : value;\r\n      setPropertyTrace((prev) => prev.map((t, i) => (i === index ? { ...t, [name]: val } : t)));\r\n    } else if (section === \"owner\") {\r\n      setOwner((prev) => ({ ...prev, [name]: value }));\r\n    } else {\r\n      const val = name === \"price\" || name === \"codeInternal\" ? clamp(value) : value;\r\n      setProperty((prev) => ({ ...prev, [name]: val }));\r\n    }\r\n  };\r\n\r\n  const handleImageChange = async (e, type = \"property\") => {\r\n    if (!e?.target?.files?.[0]) return;\r\n    const file = e.target.files[0];\r\n    const base64 = await toBase64(file);\r\n    const preview = URL.createObjectURL(file);\r\n    if (type === \"owner\") {\r\n      setOwner((prev) => ({ ...prev, photo: base64, ownerPhotoPreview: preview }));\r\n    } else {\r\n      setPropertyImage((prev) => ({ ...prev, file: base64, enabled: true, imagePreview: preview }));\r\n    }\r\n  };\r\n\r\n  const handleAddTrace = () => {\r\n    setPropertyTrace((prev) => [...prev, { name: \"\", value: 0, tax: 0, dateSale: \"\", idProperty: \"\" }]);\r\n  };\r\n\r\n  const handleDeleteTrace = (index) => {\r\n    setPropertyTrace((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  // Guardar nueva propiedad (POST con wrapper adaptado)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validaciones simples\r\n    if (!itemProperty.name || !itemProperty.address)\r\n      return Swal.fire(\"Faltan datos\", \"Completa los datos de la propiedad.\", \"warning\");\r\n\r\n    if (!itemPropertyImage?.file)\r\n      return Swal.fire(\"Imagen requerida\", \"Debes cargar la imagen del inmueble.\", \"warning\");\r\n\r\n    if (!itemOwner.name || !itemOwner.address || !itemOwner.photo || !itemOwner.birthday)\r\n      return Swal.fire(\"Datos del propietario\", \"Completa todos los datos del propietario.\", \"warning\");\r\n\r\n    const traceValid = itemPropertyTrace.every((t) => t.name && t.dateSale && t.value > 0);\r\n    if (!traceValid)\r\n      return Swal.fire(\"Historial\", \"Completa los datos de las trazas.\", \"warning\");\r\n\r\n    try {\r\n      setCreating(true)\r\n      const payload = mapPropertyToDto({      // Construccin del payload de datos\r\n        ...itemProperty,\r\n        owner: itemOwner,\r\n        image: itemPropertyImage,\r\n        traces: itemPropertyTrace,\r\n      });\r\n\r\n      const res = await errorWrapper(api.post(endpoints.property, payload));\r\n      const { success, message } = res;\r\n\r\n      if (success) {\r\n        Swal.fire({title:\"Inmueble registrado\", icon:\"success\"});\r\n        navigate('/home', { state: { refresh: true } });\r\n      } else {\r\n        Swal.fire(\"Error\", message || \"Ocurri un error al registrar el inmueble.\", \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error al crear propiedad:\", error);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Error\",\r\n        text: error?.response?.data?.message || \"Ocurri un error al registrar el inmueble\",\r\n      });\r\n    } finally { setCreating(false); } \r\n  };\r\n\r\n  // fallback\r\n  if (creating)\r\n    return (\r\n      <div className=\"loader-overlay loader-overlay--home\">\r\n        <div className=\"loader-spinner\"></div>\r\n          <p className=\"loader-text\">Registrando inmueble...</p>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"addproperty-container\">\r\n      <form className=\"addproperty-card\" onSubmit={handleSubmit}>\r\n        <Title title=\"Registrar nueva propiedad\" />\r\n\r\n        {/* --- Datos generales --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Datos generales</h2>\r\n          <div className=\"form-grid\">\r\n            <TextField name=\"name\" label=\"Nombre\" value={itemProperty.name} onChange={handleChange} required />\r\n            <TextField name=\"address\" label=\"Direccin\" value={itemProperty.address} onChange={handleChange} required />\r\n            <TextField name=\"price\" label=\"Precio\" type=\"number\" value={itemProperty.price} onChange={handleChange} required />\r\n            <TextField name=\"codeInternal\" label=\"Cdigo interno\" type=\"number\" value={itemProperty.codeInternal} onChange={handleChange} required />\r\n            <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n              <DatePicker label=\"Ao\" views={[\"year\"]}\r\n                value={itemProperty.year ? dayjs(String(itemProperty.year), \"YYYY\") : null}\r\n                onChange={(v) => handleChange({ target: { name: \"year\", value: v ? v.year() : \"\" } })}\r\n                slotProps={{ textField: { fullWidth: true, required: true } }}\r\n              />\r\n            </LocalizationProvider>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Imagen propiedad --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Imagen del inmueble</h2>\r\n          <div className=\"image-upload-container\">\r\n            {!itemPropertyImage.imagePreview ? (\r\n              <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"propertyFileInput\").click()}>\r\n                <Typography variant=\"body1\" color=\"textSecondary\">\r\n                  Haz clic o arrastra una imagen\r\n                </Typography>\r\n                <input id=\"propertyFileInput\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"property\")} aria-label=\"property image input\" required  aria-required=\"true\"/>\r\n              </Box>\r\n            ) : (\r\n              <div className=\"image-preview filled\">\r\n                <img src={itemPropertyImage.imagePreview} alt=\"Inmueble\" className=\"property-image\" />\r\n                <div className=\"add-property-card-buttons\">\r\n                  <button type=\"button\" className=\"replace-btn\" onClick={() => setPropertyImage({ imagePreview: \"\", file: \"\" })}>\r\n                    <FiTrash2 />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Propietario --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Propietario</h2>\r\n          <div className=\"form-grid owner-grid\">\r\n            <TextField name=\"name\" label=\"Nombre\" value={itemOwner.name} onChange={(e) => handleChange(e, \"owner\")} required />\r\n            <TextField name=\"address\" label=\"Direccin\" value={itemOwner.address} onChange={(e) => handleChange(e, \"owner\")} required />\r\n            <TextField type=\"date\" name=\"birthday\" label=\"Fecha de nacimiento\" value={itemOwner.birthday} onChange={(e) => handleChange(e, \"owner\")} InputLabelProps={{ shrink: true }} required />\r\n            <div className=\"image-upload-container full-width\">\r\n              {!itemOwner.ownerPhotoPreview ? (\r\n                <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"ownerFileInput\").click()}>\r\n                  <Typography variant=\"body1\" color=\"textSecondary\">Cargar imagen del propietario</Typography>\r\n                  <input id=\"ownerFileInput\" name=\"file\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"owner\")} aria-label=\"owner photo input\" required  aria-required=\"true\"/>\r\n                </Box>\r\n              ) : (\r\n                <div className=\"image-preview filled\">\r\n                  <img src={itemOwner.ownerPhotoPreview} alt=\"Propietario\" className=\"owner-photo\" />\r\n                  <div className=\"add-property-card-buttons\">\r\n                    <button type=\"button\" className=\"replace-btn\" onClick={() => setOwner({ ...itemOwner, photo: \"\", ownerPhotoPreview: \"\" })}>\r\n                      <FiTrash2 />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Historial --- */}\r\n        <div className=\"form-section\">\r\n          <h2>Historial</h2>\r\n          {itemPropertyTrace.map((trace, i) => (\r\n            <div key={i} className=\"addproperty-trace-wrapper\">\r\n              <div className=\"trace-grid\">\r\n                <TextField type=\"date\" name=\"dateSale\" label=\"Fecha\" value={trace.dateSale} onChange={(e) => handleChange(e, \"traces\", i)} InputLabelProps={{ shrink: true }} required />\r\n                <TextField name=\"name\" label=\"Evento\" value={trace.name} onChange={(e) => handleChange(e, \"traces\", i)} required />\r\n                <TextField type=\"number\" name=\"value\" label=\"Valor\" value={trace.value} onChange={(e) => handleChange(e, \"traces\", i)} required />\r\n                <TextField type=\"number\" name=\"tax\" label=\"Impuesto\" value={trace.tax} onChange={(e) => handleChange(e, \"traces\", i)} required />\r\n                <button type=\"button\" className=\"addproperty-trace-delete-btn\" onClick={() => handleDeleteTrace(i)}>\r\n                  <FiTrash2 />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <AddButton label=\"Aadir evento\" handleChange={handleAddTrace} />\r\n        </div>\r\n\r\n        <Button id=\"createButton\" type=\"submit\" variant=\"contained\" color={creating ? 'secondary':'primary'} disabled={creating}  aria-label=\"create button\">{creating ? 'Registrando...' : 'Registrar Propiedad'}</Button>\r\n        <Button id=\"cancelButton\" variant=\"outlined\" color=\"secondary\" onClick={() => navigate('/home')} aria-label=\"cancel button\">Cancelar</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProperty;\r\n","// Normaliza PropertyDto del backend  formato frontend (camelCase)\r\nexport const normalizeProperty = (data = {}) => ({\r\n  idProperty: data?.idProperty ?? data?.IdProperty ?? \"\",\r\n  name: data?.name ?? data?.Name ?? \"\",\r\n  address: data?.address ?? data?.Address ?? \"\",\r\n  price: data?.price ?? data?.Price ?? 0,\r\n  codeInternal: data?.codeInternal ?? data?.CodeInternal ?? 0,\r\n  year: data?.year ?? data?.Year ?? 0,\r\n  idOwner: data?.idOwner ?? data?.IdOwner ?? \"\",\r\n  // Propietario (embebido)\r\n  owner: data?.owner ?? data?.Owner\r\n    ? {\r\n        idOwner: data?.owner?.idOwner ?? data?.Owner?.IdOwner ?? \"\",\r\n        name: data?.owner?.name ?? data?.Owner?.Name ?? \"\",\r\n        address: data?.owner?.address ?? data?.Owner?.Address ?? \"\",\r\n        photo: data?.owner?.photo ?? data?.Owner?.Photo ?? \"\",\r\n        birthday: data?.owner?.birthday ?? data?.Owner?.Birthday ?? \"\",\r\n      }\r\n    : null,\r\n  // Imagen (embebida)\r\n  image: data?.image ?? data?.Image\r\n    ? {\r\n        idPropertyImage: data?.image?.idPropertyImage ?? data?.Image?.IdPropertyImage ?? \"\",\r\n        idProperty: data?.image?.idProperty ?? data?.Image?.IdProperty ?? \"\",\r\n        file: data?.image?.file ?? data?.Image?.File ?? \"\",\r\n        enabled: data?.image?.enabled ?? data?.Image?.Enabled ?? true,\r\n      }\r\n    : null,\r\n  // Trazas (embebidas)\r\n  traces: Array.isArray(data?.traces ?? data?.Traces)\r\n    ? (data.traces ?? data.Traces).map(trace => ({\r\n        idPropertyTrace: trace?.idPropertyTrace ?? trace?.IdPropertyTrace ?? \"\",\r\n        idProperty: trace?.idProperty ?? trace?.IdProperty ?? \"\",\r\n        dateSale: trace?.dateSale ?? trace?.DateSale ?? \"\",\r\n        name: trace?.name ?? trace?.Name ?? \"\",\r\n        value: trace?.value ?? trace?.Value ?? 0,\r\n        tax: trace?.tax ?? trace?.Tax ?? 0,\r\n      }))\r\n    : [],\r\n});\r\n\r\n// Mapea Property del frontend  formato backend (camelCase compatible con .NET)\r\nexport const mapPropertyToDto = (property = {}) => ({\r\n  idProperty: property?.idProperty ?? \"\",\r\n  name: property?.name ?? \"\",\r\n  address: property?.address ?? \"\",\r\n  price: property?.price ?? 0,\r\n  codeInternal: property?.codeInternal ?? 0,\r\n  year: property?.year ?? 0,\r\n  idOwner: property?.idOwner ?? \"\",\r\n  // Propietario\r\n  owner: property?.owner\r\n    ? {\r\n        idOwner: property.owner.idOwner ?? \"\",\r\n        name: property.owner.name ?? \"\",\r\n        address: property.owner.address ?? \"\",\r\n        photo: property.owner.photo ?? \"\",\r\n        birthday: property.owner.birthday ?? \"\",\r\n      }\r\n    : undefined,\r\n  // Imagen\r\n  image: property?.image\r\n    ? {\r\n        idPropertyImage: property.image.idPropertyImage ?? \"\",\r\n        idProperty: property.image.idProperty ?? \"\",\r\n        file: property.image.file ?? \"\",\r\n        enabled: property.image.enabled ?? true,\r\n      }\r\n    : undefined,\r\n  // Trazas\r\n  traces: Array.isArray(property?.traces)\r\n    ? property.traces.map(trace => ({\r\n        idPropertyTrace: trace.idPropertyTrace ?? \"\",\r\n        idProperty: trace.idProperty ?? \"\",\r\n        dateSale: trace.dateSale ?? \"\",\r\n        name: trace.name ?? \"\",\r\n        value: trace.value ?? 0,\r\n        tax: trace.tax ?? 0,\r\n      }))\r\n    : [],\r\n});\r\n","// Convierte un OwnerDto del backend (PascalCase) a formato frontend (camelCase)\r\nexport const normalizeOwner = (data = {}) => ({\r\n  name: data?.Name ?? \"\",\r\n  address: data?.Address ?? \"\",\r\n  photo: data?.Photo ?? \"\",\r\n  birthday: data?.Birthday ?? \"\",\r\n});\r\n\r\n// Convierte un Owner del frontend (camelCase) al formato backend (PascalCase)\r\nexport const mapOwnerToDto = (owner = {}) => ({\r\n  Name: owner?.name ?? \"\",\r\n  Address: owner?.address ?? \"\",\r\n  Photo: owner?.photo ?? \"\",\r\n  Birthday: owner?.birthday ?? \"\",\r\n});\r\n","// Convierte uno o varios PropertyTraceDto del backend (PascalCase) al formato frontend (camelCase)\r\n export const normalizePropertyTrace = (data = []) => {\r\n  const traces = Array.isArray(data) ? data : [data];\r\n  return traces.map(trace => ({\r\n    idPropertyTrace: trace?.IdPropertyTrace ?? \"\",\r\n    dateSale: trace?.DateSale ?? \"\",\r\n    name: trace?.Name ?? \"\",\r\n    value: trace?.Value ?? 0,\r\n    tax: trace?.Tax ?? 0,\r\n    idProperty: trace?.IdProperty ?? \"\"\r\n  }));\r\n};\r\n\r\n// Convierte un PropertyTrace del frontend (camelCase) al formato backend (PascalCase)\r\nexport const mapPropertyTraceToDto = (trace = {}) => ({\r\n  IdPropertyTrace: trace?.idPropertyTrace ?? \"\",\r\n  DateSale: trace?.dateSale ?? \"\",\r\n  Name: trace?.name ?? \"\",\r\n  Value: trace?.value ?? 0,\r\n  Tax: trace?.tax ?? 0,\r\n  IdProperty: trace?.idProperty ?? \"\"\r\n});\r\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport { api } from \"../../../services/api/api\";\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\nimport { Title } from \"../../../components/title/Title.js\";\nimport { AddButton } from \"../../../components/button/AddButton.js\";\nimport { FiTrash2 } from \"react-icons/fi\";\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport dayjs from \"dayjs\";\nimport { Box, Typography, TextField, Button, Alert } from \"@mui/material\";\nimport { mapOwnerToDto } from \"../../owner/mapper/OwnerMapper\";\nimport { mapPropertyImageToDto } from \"../../propertyImage/mapper/propertyImageMapper\";\nimport { mapPropertyTraceToDto } from \"../../propertyTrace/mapper/propertyTraceMapper\";\nimport Swal from \"sweetalert2\";\nimport \"./EditProperty.scss\";\n\nexport const EditProperty = () => {\n  const navigate = useNavigate();\n  const { propertyId } = useParams();\n  const location = useLocation();\n  const endpoint = process.env.REACT_APP_ENDPOINT_PROPERTY;\n\n  const [itemProperty, setProperty] = useState(null);\n  const [itemOwner, setOwner] = useState({});\n  const [itemPropertyImage, setPropertyImage] = useState({});\n  const [itemPropertyTrace, setPropertyTrace] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n  \n  const [traceAlert, setTraceAlert] = useState({ message: \"\", severity: \"success\" });\n\n\n   // funcin para volver conservando paginacin y filtros\n  const goBackToHome = (withRefresh = false) => {\n    const backTo = location.state?.from || \"/home\";\n    const stateToSend = {\n      pagination: location.state?.pagination,\n      filters: location.state?.filters,\n      ...(withRefresh ? { refresh: true } : {})\n    };\n    navigate(backTo, { state: stateToSend });\n  };\n\n  const toBase64 = useCallback(\n    (file) =>\n      new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result.split(\",\")[1]);\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      }),\n    []\n  );\n\n  // Cargar datos completos de la propiedad\n  useEffect(() => {\n    const loadProperty = async () => {\n      try {\n        const needsRefresh = location.state?.refresh === true;\n        const res = await errorWrapper(api.get(`${endpoint}/${propertyId}${needsRefresh ? \"?refresh=true\" : \"\"}`));\n        const property = res?.data?.data ?? res?.data ?? res?.data?.data;\n        if (!property) throw new Error(\"No se encontr la propiedad\");\n\n        setProperty(property);\n        if (property.image)\n          setPropertyImage({\n            ...property.image,\n            imagePreview: property.image.file ? `data:image/jpeg;base64,${property.image.file}` : \"\",\n          });\n        if (property.owner)\n          setOwner({\n            ...property.owner,\n            ownerPhotoPreview: property.owner.photo ? `data:image/jpeg;base64,${property.owner.photo}` : \"\",\n          });\n        if (property.traces?.length) setPropertyTrace(property.traces);\n      } catch (err) {\n        console.error(\"Error al cargar propiedad:\", err);\n        Swal.fire({ icon: \"error\", title: \"Error\", text: \"No se obtuvo los datos del inmueble\" });\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadProperty();\n  }, [propertyId, location.state, endpoint]);\n\n  // Handlers\n  const clampNonNegative = (v) => {\n    const n = Number(v);\n    return Number.isFinite(n) ? Math.max(0, n) : 0;\n  };\n\n  const handleChange = (e, section = \"property\", index = null) => {\n    const { name, value } = e.target;\n    if (section === \"owner\") {\n      setOwner((prev) => ({ ...prev, [name]: value }));\n    } else if (section === \"traces\") {\n      const newVal = name === \"value\" || name === \"tax\" ? clampNonNegative(value) : value;\n      setPropertyTrace((prev) => prev.map((t, i) => (i === index ? { ...t, [name]: newVal } : t)));\n    } else {\n      const newVal = name === \"price\" || name === \"codeInternal\" ? clampNonNegative(value) : value;\n      setProperty((prev) => ({ ...prev, [name]: newVal }));\n    }\n  };\n\n  const handleImageChange = async (e, type = \"property\") => {\n    if (!e?.target?.files?.[0]) return;\n    const file = e.target.files[0];\n    const base64 = await toBase64(file);\n    const preview = URL.createObjectURL(file);\n    if (type === \"owner\") {\n      setOwner((prev) => ({ ...prev, photo: base64, ownerPhotoPreview: preview }));\n    } else {\n      setPropertyImage((prev) => ({ ...prev, file: base64, enabled: true, imagePreview: preview }));\n    }\n  };\n\n  const handleAddTrace = () => setPropertyTrace((prev) => [...prev, { name: \"\", value: 0, tax: 0, dateSale: \"\" }]);\n  const handleDeleteTrace = (index) => {\n    setPropertyTrace((prev) => prev.filter((_, i) => i !== index));\n    setTraceAlert({ message: \"Traza eliminada localmente (se guardar al actualizar)\", severity: \"info\" });\n  };\n\n  // Guardar cambios con wrapper\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setUpdating(true);\n      if (!itemProperty) {\n        setUpdating(false);\n        Swal.fire({ icon: \"error\", title: \"Error\", text: \"No se encontr la propiedad.\" });\n        return;\n      }\n\n      const cleanedImage =\n        itemPropertyImage?.file && itemPropertyImage.file.trim() !== \"\"\n          ? mapPropertyImageToDto(itemPropertyImage)\n          : null;\n\n      const cleanedOwner =\n        itemOwner?.name?.trim() &&\n        itemOwner?.address?.trim() &&\n        (itemOwner?.photo?.trim() || itemOwner?.ownerPhotoPreview?.trim()) &&\n        itemOwner?.birthday?.trim()\n          ? mapOwnerToDto(itemOwner)\n          : null;\n\n      const cleanedTraces =\n        Array.isArray(itemPropertyTrace) && itemPropertyTrace.length > 0\n          ? itemPropertyTrace\n              .filter((t) => t.name?.trim() && t.dateSale?.trim() && Number(t.value) > 0)\n              .map(mapPropertyTraceToDto)\n          : [];\n\n      const patchPayload = {\n        name: itemProperty.name,\n        address: itemProperty.address,\n        price: Number(itemProperty.price),\n        codeInternal: Number(itemProperty.codeInternal),\n        year: itemProperty.year,\n        image: cleanedImage,\n        owner: cleanedOwner,\n        traces: cleanedTraces,\n      };\n\n      console.log(\"Actualizacin Ok \", patchPayload);\n\n      const resUpdate = await errorWrapper(api.patch(`${endpoint}/${propertyId}`, patchPayload));\n      const { success, message, error } = resUpdate;\n      console.log(\"message: \", message)\n      console.log(\"error: \", error)\n\n      if (success) {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Propiedad actualizada\",\n          confirmButtonText: \"Aceptar\",\n        });\n        goBackToHome(true);\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: message || \"Ocurri un error al actualizar la propiedad\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Error al actualizar propiedad:\", error);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Error\",\n        text: error?.response?.data?.message || \"Ocurri un error al actualizar el inmueble\",\n      });\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  // fallback\n  if (loading || updating)\n    return (\n      <div className=\"loader-overlay loader-overlay--home\">\n        <div className=\"loader-spinner\"></div>\n        {loading &&  <p className=\"loader-text\">Cargando inmueble...</p>}\n        {updating &&  <p className=\"loader-text\">Actualizando inmueble...</p>}\n      </div>\n    );\n\n  if (!itemProperty)\n    return <p style={{ textAlign: \"center\", color: \"red\" }}>Inmueble no encontrado</p>;\n\n  return (\n    <div className=\"editproperty-container\">\n      <form className=\"editproperty-card\" onSubmit={handleSubmit}>\n        <Title title=\"Editar propiedad\" />\n\n        {/* --- Datos generales --- */}\n        <div className=\"form-section\">\n          <h2>Datos generales</h2>\n          <div className=\"form-grid\">\n            <TextField name=\"name\" label=\"Nombre\" value={itemProperty.name || \"\"} onChange={handleChange} required />\n            <TextField name=\"address\" label=\"Direccin\" value={itemProperty.address || \"\"} onChange={handleChange} required />\n            <TextField name=\"price\" label=\"Precio\" type=\"number\" value={itemProperty.price || 0} onChange={handleChange} required />\n            <TextField name=\"codeInternal\" label=\"Cdigo interno\" type=\"number\" value={itemProperty.codeInternal || 0} onChange={handleChange} required />\n            <LocalizationProvider dateAdapter={AdapterDayjs}>\n              <DatePicker\n                label=\"Ao\"\n                views={[\"year\"]}\n                value={itemProperty.year ? dayjs(String(itemProperty.year), \"YYYY\") : null}\n                onChange={(v) => handleChange({ target: { name: \"year\", value: v ? v.year() : \"\" } })}\n                slotProps={{\n                  textField: {\n                    fullWidth: true,\n                    InputLabelProps: { shrink: true },\n                    required: true,\n                  },\n                }}\n              />\n            </LocalizationProvider>\n          </div>\n        </div>\n\n        {/* --- Imagen propiedad --- */}\n        <div className=\"form-section\">\n          <h2>Imagen del inmueble</h2>\n          <div className=\"image-upload-container\">\n            {!itemPropertyImage.imagePreview ? (\n              <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"propertyFileInput\").click()}>\n                <Typography variant=\"body1\" color=\"textSecondary\">Haz clic o arrastra una imagen</Typography>\n                <input id=\"propertyFileInput\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"property\")} aria-label=\"property image input\" required aria-required=\"true\" />\n              </Box>\n            ) : (\n              <div className=\"image-preview filled\">\n                <img src={itemPropertyImage.imagePreview} alt=\"Inmueble\" className=\"property-image\" />\n                <div className=\"add-property-card-buttons\">\n                  <button type=\"button\" className=\"replace-btn\" onClick={() => setPropertyImage({ imagePreview: \"\" })}>\n                    <FiTrash2 />\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* --- Propietario --- */}\n        <div className=\"form-section\">\n          <h2>Propietario</h2>\n          <div className=\"form-grid owner-grid\">\n            <TextField name=\"name\" label=\"Nombre\" value={itemOwner.name || \"\"} onChange={(e) => handleChange(e, \"owner\")} required />\n            <TextField name=\"address\" label=\"Direccin\" value={itemOwner.address || \"\"} onChange={(e) => handleChange(e, \"owner\")} required />\n            <TextField type=\"date\" name=\"birthday\" label=\"Fecha de nacimiento\" value={itemOwner.birthday || \"\"} onChange={(e) => handleChange(e, \"owner\")} InputLabelProps={{ shrink: true }} required />\n            <div className=\"image-upload-container full-width\">\n              {!itemOwner.ownerPhotoPreview && !itemOwner.photo ? (\n                <Box className=\"dropzone-box\" onClick={() => document.getElementById(\"ownerFileInput\").click()}>\n                  <Typography variant=\"body1\" color=\"textSecondary\">Cargar imagen del propietario</Typography>\n                  <input id=\"ownerFileInput\" name=\"file\" type=\"file\" accept=\"image/*\" hidden onChange={(e) => handleImageChange(e, \"owner\")} aria-label=\"owner photo input\" required aria-required=\"true\" />\n                </Box>\n              ) : (\n                <div className=\"image-preview filled\">\n                  <img src={itemOwner.ownerPhotoPreview || `data:image/jpeg;base64,${itemOwner.photo}`} alt=\"Propietario\" className=\"owner-photo\" />\n                  <div className=\"add-property-card-buttons\">\n                    <button type=\"button\" className=\"replace-btn\" onClick={() => setOwner({ ...itemOwner, photo: \"\", ownerPhotoPreview: \"\" })}>\n                      <FiTrash2 />\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* --- Historial --- */}\n        <div className=\"form-section\">\n          <h2>Historial</h2>\n          {itemPropertyTrace.map((trace, index) => (\n            <div key={index} className=\"editproperty-trace-wrapper\">\n              <div className=\"trace-grid\">\n                <TextField type=\"date\" name=\"dateSale\" label=\"Fecha\" value={trace.dateSale || \"\"} onChange={(e) => handleChange(e, \"traces\", index)} InputLabelProps={{ shrink: true }} required />\n                <TextField name=\"name\" label=\"Evento\" value={trace.name || \"\"} onChange={(e) => handleChange(e, \"traces\", index)} required />\n                <TextField type=\"number\" name=\"value\" label=\"Valor\" value={trace.value || 0} onChange={(e) => handleChange(e, \"traces\", index)} required />\n                <TextField type=\"number\" name=\"tax\" label=\"Impuesto\" value={trace.tax || 0} onChange={(e) => handleChange(e, \"traces\", index)} required />\n                <button type=\"button\" className=\"editproperty-trace-delete-btn\" onClick={() => handleDeleteTrace(index)}>\n                  <FiTrash2 />\n                </button>\n              </div>\n            </div>\n          ))}\n          {traceAlert.message && (\n            <Box className=\"trace-alert\" sx={{ mb: 2 }}>\n              <Alert severity={traceAlert.severity} onClose={() => setTraceAlert({ message: \"\", severity: \"success\" })}>\n                {traceAlert.message}\n              </Alert>\n            </Box>\n          )}\n          <AddButton label=\"Aadir evento\" handleChange={handleAddTrace} />\n        </div>\n\n        <Button id=\"updateButton\" type=\"submit\" variant=\"contained\" color={updating ? 'secondary':'primary'} disabled={updating} aria-label=\"update button\">{updating ? 'Actualizando...' : 'Actualizar Propiedad'}</Button>\n        <Button id=\"cancelButton\" variant=\"outlined\" color=\"secondary\" onClick={() => goBackToHome(false)} aria-label=\"cancel button\">Cancelar</Button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProperty;\n","// Normaliza imagen del backend (PascalCase  camelCase)\nexport const normalizePropertyImage = (data = {}) => ({\n  idPropertyImage: data?.IdPropertyImage ?? data?.idPropertyImage ?? data?.id ?? \"\",\n  idProperty: data?.IdProperty ?? data?.idProperty ?? \"\",\n  file: data?.File ?? data?.file ?? \"\",\n  enabled: data?.Enabled ?? data?.enabled ?? true,\n  imagePreview: data?.imagePreview\n    ? data.imagePreview\n    : data?.File\n    ? `data:image/jpeg;base64,${data.File}`\n    : \"\",\n});\n\n\n// Mapea imagen del frontend (camelCase  PascalCase)\nexport const mapPropertyImageToDto = (image = {}) => ({\n  IdPropertyImage: image?.idPropertyImage ?? image?.IdPropertyImage ?? image?.id ?? \"\",\n  IdProperty: image?.idProperty ?? image?.IdProperty ?? \"\",\n  File: image?.file ?? \"\",\n  Enabled: image?.enabled ?? true,\n});\n","import { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { Title } from '../../components/title/Title';\nimport { PiUserCircleFill, } from 'react-icons/pi';\nimport { FiEdit } from 'react-icons/fi';\nimport { getTokenPayload, getUserFromToken, getToken, isTokenExpired } from '../../services/auth/token';\nimport { secondaryColor } from '../../global';\nimport './User.scss';\n\nexport const User = () => {\n  const navigate = useNavigate();\n  const authUser = useSelector((state) => state.auth.user);\n  const token = getToken('token');\n  const payload = getTokenPayload('token');\n  const tokenUser = getUserFromToken(payload) || {};\n\n  const name = authUser?.name || tokenUser?.name || 'Usuario';\n  const email = authUser?.email || tokenUser?.email || 'correo@dominio.com';\n  const role = (authUser?.role || tokenUser?.role || 'user').toLowerCase();\n  const userId = authUser?.id || tokenUser?.id || '-';\n  const isLogged = !!token && !isTokenExpired(payload);\n\n  return (\n    <div className=\"user-container\">\n      <div className=\"user-card\">\n        <div className=\"user-header\">\n          <Title title=\"Mi perfil\" />\n          {isLogged && (  <button className=\"user-edit-btn\" onClick={() => navigate('/profile/edit')}>\n                            <label>Editar</label> <FiEdit className=\"user-edit-btn-icon\" size={30} color={secondaryColor} />\n                          </button> )\n          }\n        </div>\n\n        <div className=\"user-data\">\n          <div className=\"user-avatar\">\n            <PiUserCircleFill size={96} color={secondaryColor} />\n          </div>\n\n          <div className=\"user-info\">\n            <h2 className=\"user-name\">{name}</h2>\n            <p className=\"user-email\">{email}</p>\n\n            <div className=\"user-meta\">\n              <div className=\"meta-item\">\n                <span className=\"meta-label\">ID de usuario</span>\n                <span className=\"meta-value\">{userId}</span>\n              </div>\n              <div className=\"meta-item\">\n                <span className=\"meta-label\">Rol</span>\n                <span className=\"meta-value\">{role}</span>\n              </div>\n              <div className=\"meta-item\">\n                <span className=\"meta-label\">Estado</span>\n                <span className={`meta-badge ${isLogged ? 'ok' : 'off'}`}>\n                  {isLogged ? 'Activo' : 'Inactivo'}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default User;\n","// Convierte un UserDto del backend (PascalCase) a formato frontend (camelCase) basado en el DTO User.json\nexport const normalizeUser = (data = {}) => {\n  if (typeof data !== \"object\" || data === null) return { id: \"\", name: \"\", email: \"\", role: \"\" };\n\n  const pick = (...keys) => {\n    for (const key of keys) {\n      if (data?.[key] != null && data[key] !== \"\") return data[key];\n    }\n    return undefined;\n  };\n\n  const id = pick(\"Id\", \"id\", \"UserId\", \"userId\", \"sub\") || \"\";\n  const name = pick(\"Name\", \"name\", \"FullName\", \"fullName\", \"Username\", \"username\") || \"\";\n  const email = pick(\"Email\", \"email\", \"Correo\", \"correo\", \"preferred_username\") || \"\";\n  const roleRaw =\n    pick(\"Role\", \"role\") ||\n    (Array.isArray(data?.roles) ? data.roles[0] : \"\") ||\n    \"\";\n\n  const role = (roleRaw || \"\").toString().toLowerCase();\n\n  return { id, name, email, role };\n};\n\n// Convierte un User del frontend (camelCase) al formato backend (PascalCase)\nexport const mapUserToDto = (user = {}) => {\n  if (typeof user !== \"object\" || user === null) return {};\n\n  return {\n    Id: user?.id ?? user?.Id ?? null,\n    Name: user?.name?.trim?.() || \"\",\n    Email: user?.email?.trim?.() || \"\",\n    Role: user?.role?.trim?.() || \"\",\n  };\n};\n","import { useEffect, useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { api } from \"../../../services/api/api\";\nimport { Title } from \"../../../components/title/Title\";\nimport { updateProfile } from \"../../../services/store/authSlice\";\nimport { getTokenPayload, getUserFromToken } from \"../../../services/auth/token\";\nimport { TextField, Button, Box, Paper, MenuItem } from \"@mui/material\";\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\nimport { mapUserToDto } from \"../../user/mapper/userMapper\";\nimport Swal from \"sweetalert2\";\nimport \"./EditUser.scss\";\n\nexport const EditUser = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const authUser = useSelector((state) => state.auth.user);\n  const [updating, setUpdating] = useState(false);\n\n  // Lee token real del navegador\n  const token = localStorage.getItem(\"token\") || sessionStorage.getItem(\"token\") || \"\";\n  const payload = getTokenPayload(token);\n  const tokenUser = getUserFromToken(payload) || {};\n\n  const role = (authUser?.role || tokenUser?.role || \"user\").toLowerCase();\n  const isAdmin = role === \"admin\";\n\n  // Formulario usuario (solo perfil propio)\n  const [form, setForm] = useState({\n    name: authUser?.name || tokenUser?.name || \"\",\n    email: authUser?.email || tokenUser?.email || \"\",\n    role: authUser?.role || tokenUser?.role || \"user\",\n  });\n\n  useEffect(() => {\n    setForm({\n      name: authUser?.name || tokenUser?.name || \"\",\n      email: authUser?.email || tokenUser?.email || \"\",\n      role: authUser?.role || tokenUser?.role || \"user\",\n    });\n  }, [authUser?.name, authUser?.email, authUser?.role]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // Guarda perfil propio\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setUpdating(true);\n      const userDto = mapUserToDto(form);\n\n      // Solo envia campos modificados\n      const changedFields = {};\n      if (authUser?.name !== userDto.Name && userDto.Name.trim() !== \"\")\n        changedFields.name = userDto.Name.trim();\n\n      if (Object.keys(changedFields).length === 0) {\n        Swal.fire({\n          icon: \"info\",\n          text: \"No hay cambios para guardar.\",\n          timer: 1500,\n          showConfirmButton: false,\n        });\n        return;\n      }\n\n      const res = await errorWrapper(\n        api.patch(`${process.env.REACT_APP_ENDPOINT_USER}/${form.email}`, changedFields)\n      );\n\n      if (res.ok) {\n        dispatch(updateProfile({ ...authUser, ...changedFields }));\n        Swal.fire({\n          icon: \"success\",\n          title: \"Perfil actualizado\",\n          timer: 1500,\n          showConfirmButton: false,\n        });\n        navigate(-1)\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          text: res.error?.message || \"Error al actualizar el perfil\",\n        });\n      }\n    } catch (err) {\n      console.error(\" Error al actualizar perfil:\", err);\n      Swal.fire({ icon: \"error\", text: \"No se pudo actualizar el perfil\" });\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  // fallback\n  if (updating)\n    return (\n      <div className=\"loader-overlay loader-overlay--home\">\n        <div className=\"loader-spinner\"></div>\n          <p className=\"loader-text\">Actualizando usuario...</p>\n      </div>\n    );\n\n  return (\n    <div className=\"edituser-container\">\n      <Paper elevation={3} className=\"edituser-card\">\n        <Title title=\"Editar perfil\" />\n        <Box component=\"form\" className=\"edituser-form\" onSubmit={handleSubmit} sx={{ '& #saveUser': { gridColumn:'1 / -1', width:'100%' } }}>\n          <TextField name=\"name\" label=\"Nombre\" value={form.name} onChange={handleChange} fullWidth required />\n          <TextField name=\"email\" label=\"Correo\" type=\"email\" value={form.email} fullWidth disabled />\n          <TextField name=\"role\" label=\"Rol\" value={form.role} select fullWidth disabled><MenuItem value=\"admin\">Admin</MenuItem><MenuItem value=\"editor\">Editor</MenuItem><MenuItem value=\"user\">User</MenuItem></TextField>\n          <Button id=\"saveUser\" type=\"submit\" variant=\"contained\" color=\"primary\" sx={{ borderRadius:2, textTransform:'none', py:1.2 }} aria-label=\"save user\">Guardar</Button>\n        </Box>\n        <Button id=\"cancelUser\" onClick={() => navigate(-1)} variant=\"outlined\" color=\"secondary\" sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"cancel to save user\">Cancelar</Button>\n      </Paper>\n    </div>\n  );\n};\n\nexport default EditUser;\n","import { useEffect, useState } from \"react\";\nimport { Paper, TextField, Button, MenuItem, InputAdornment } from \"@mui/material\";\nimport { api } from \"../../../services/api/api\";\nimport { errorWrapper } from \"../../../services/api/errorWrapper\";\nimport { FiTrash2, FiSearch } from \"react-icons/fi\";\nimport { Title } from \"../../../components/title/Title\";\nimport { Pagination } from \"../../../components/pagination/Pagination\";\nimport { normalizeUser } from \"../mapper/userMapper\";\nimport { primaryColor, secondaryColor } from \"../../../global\";\nimport Swal from \"sweetalert2\";\nimport \"./ManageUsers.scss\";\n\nconst PAGE_SIZE = 6;\n\nexport const ManageUsers = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [pagination, setPagination] = useState({ page: 1, limit: PAGE_SIZE, last_page: 1, total: 0 });\n\n  const userEndpoint = process.env.REACT_APP_ENDPOINT_USER;\n\n  useEffect(() => {\n    const load = async () => {\n      setLoading(true);\n      setErrorMsg(\"\");\n      try {\n        const res = await errorWrapper(api.get(userEndpoint));\n        const { success, data, message, error } = res;\n        if (success) {\n          const raw = data?.data ?? data;\n          const list = Array.isArray(raw) ? raw : Array.isArray(raw?.items) ? raw.items : Array.isArray(raw?.users) ? raw.users : [];\n          const normalized = list.map((u) => normalizeUser(u));\n          setUsers(normalized);\n          const total = normalized.length;\n          setPagination((prev) => ({ ...prev, total, last_page: Math.max(1, Math.ceil(total / prev.limit)) }));\n        } else {\n          setErrorMsg(error?.message || message || \"No se obtuvieron los usuarios\");\n        }\n      } catch {\n        setErrorMsg(\"Ocurri un error inesperado en el servicio\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [userEndpoint]);\n\n  const handleRoleChange = async (user, newRole) => {\n    try {\n      const url = `${userEndpoint}/${encodeURIComponent(user.email)}`;\n      const body = { role: newRole };\n      const res = await errorWrapper(api.patch(url, body));\n      const { success, message, error } = res;\n      if (success) {\n        Swal.fire({ icon: \"success\", title: \"Rol actualizado\", timer: 1400, showConfirmButton: false });\n        setUsers((prev) => prev.map((u) => (u.email === user.email ? { ...u, role: newRole } : u)));\n      } else {\n        Swal.fire({ icon: \"error\", text: error?.message || message || \"No se pudo actualizar el rol\" });\n      }\n    } catch {\n      Swal.fire({ icon: \"error\", text: \"No se pudo actualizar el rol\" });\n    }\n  };\n\n  const handleDelete = async (email) => {\n    const confirm = await Swal.fire({\n      title: \"Eliminar usuario?\",\n      text: \"Esta accin no se puede deshacer.\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: primaryColor,\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"S, eliminar\",\n      cancelButtonText: \"Cancelar\",\n    });\n    if (!confirm.isConfirmed) return;\n\n    const res = await errorWrapper(api.delete(`${userEndpoint}/${encodeURIComponent(email)}`));\n    const { success, message, error } = res;\n\n    if (success) {\n      Swal.fire({ icon: \"success\", text: message || \"Usuario eliminado correctamente\", timer: 1400, showConfirmButton: false });\n      setUsers((prev) => prev.filter((u) => u.email !== email));\n      setPagination((prev) => {\n        const nextTotal = Math.max(0, prev.total - 1);\n        const nextLast = Math.max(1, Math.ceil(nextTotal / prev.limit));\n        const nextPage = prev.page > nextLast ? nextLast : prev.page;\n        return { ...prev, total: nextTotal, last_page: nextLast, page: nextPage };\n      });\n    } else {\n      Swal.fire({ icon: \"error\", text: error?.message || message || \"No se pudo eliminar el usuario\" });\n    }\n  };\n\n  const filtered = (users || []).filter((u) => {\n    const q = query.trim().toLowerCase();\n    if (!q) return true;\n    return (u.name || \"\").toLowerCase().includes(q) || (u.email || \"\").toLowerCase().includes(q) || (u.role || \"\").toLowerCase().includes(q);\n  });\n\n  const totalFiltered = filtered.length;\n  const lastFilteredPage = Math.max(1, Math.ceil(totalFiltered / pagination.limit));\n  const currentPage = Math.min(pagination.page, lastFilteredPage);\n  const start = (currentPage - 1) * pagination.limit;\n  const end = start + pagination.limit;\n  const paged = filtered.slice(start, end);\n\n  const handleChangePage = (newPage) => setPagination((prev) => ({ ...prev, page: newPage }));\n\n  return (\n    <div className=\"manageusers-container\">\n      <Paper elevation={3} className=\"manageusers-card\">\n        <Title title=\"Administrar usuarios\" />\n\n        {errorMsg && <p className=\"error-text\">{errorMsg}</p>}\n\n        <div className=\"manageusers-toolbar\">\n          <TextField value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Buscar por nombre, correo o rol...\" InputProps={{ startAdornment: (<InputAdornment position=\"start\"><FiSearch size={18} color={secondaryColor} /></InputAdornment>) }} fullWidth className=\"manageusers-search-input\" />\n        </div>\n\n        <div className=\"manageusers-table\">\n          <div className=\"manageusers-head\">\n            <div>Nombre</div>\n            <div>Correo</div>\n            <div>Rol</div>\n            <div>Accin</div>\n          </div>\n\n          {paged.length > 0 ? (\n            paged.map((u, idx) => (\n              <div key={`${u.email}-${idx}`} className=\"manageusers-row\">\n                <TextField value={u.name || \"\"} fullWidth disabled />\n                <TextField value={u.email || \"\"} fullWidth disabled />\n                <TextField select value={u.role || \"user\"} onChange={(e) => handleRoleChange(u, e.target.value)} fullWidth>\n                  <MenuItem value=\"admin\">Admin</MenuItem>\n                  <MenuItem value=\"editor\">Editor</MenuItem>\n                  <MenuItem value=\"user\">User</MenuItem>\n                </TextField>\n                <Button id={`deletebutton${idx}`} variant=\"outlined\" className=\"manageusers-delete-btn\" color=\"error\" onClick={() => handleDelete(u.email)} style={{marginTop:0}} aria-label={`delete button ${idx}`}><FiTrash2 /></Button>\n              </div>\n            ))\n          ) : (\n            !loading && <div className=\"manageusers-empty\">No hay usuarios que coincidan con la bsqueda</div>\n          )}\n        </div>\n\n        <Pagination page={currentPage} lastPage={lastFilteredPage} onPageChange={handleChangePage} />\n      </Paper>\n    </div>\n  );\n};\n\nexport default ManageUsers;\n","import { Routes, Route } from \"react-router-dom\";\r\nimport { RoleRoute } from \"./RoleRoute\";\r\nimport { Home } from \"../modules/core/home/Home\";\r\nimport { AddProperty } from \"../modules/property/service/AddProperty\";\r\nimport { EditProperty } from \"../modules/property/service/EditProperty\";\r\nimport { User } from \"../modules/user/User\";\r\nimport { EditUser } from \"../modules/user/service/EditUser\";\r\nimport { ManageUsers } from \"../modules/user/service/ManageUsers\";\r\n\r\nexport const DashboardRoutes = () => (\r\n  <Routes>\r\n    <Route path=\"/\" element={<Home/>} />\r\n    <Route path=\"/home\" element={<Home/>} />\r\n    \r\n    <Route path=\"/add-property\" element={<AddProperty/>} />\r\n    <Route path=\"/edit-property/:propertyId\" element={<RoleRoute allowed={[\"editor\",\"admin\"]} element={<EditProperty/>} />} />\r\n    <Route path=\"/profile\" element={<User/>} />\r\n    <Route path=\"/profile/edit\" element={<RoleRoute allowed={[\"admin\",\"editor\",\"user\"]} element={<EditUser/>} />} />\r\n    <Route path=\"/users\" element={<RoleRoute allowed={[\"admin\"]} element={<ManageUsers/>} />} />\r\n\r\n    {/* Fallback */}\r\n    <Route path=\"*\" element={<Home/>} />\r\n  </Routes>\r\n);\r\n\r\nexport default DashboardRoutes;\r\n","import { useSelector } from 'react-redux';\nimport { DashboardRoutes } from \"./DashboardRoutes.js\";\n\nexport const PublicRoute = ({ children }) => {\n  const { logged } = useSelector((state) => state.auth);\n  \n  return logged ? <DashboardRoutes /> : children;\n};\n\nexport default PublicRoute;\n","import { Navigate, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nexport const PrivateRoute = ({ children }) => {\n  const { logged } = useSelector((state) => state.auth);\n  const { pathname, search } = useLocation();\n\n  sessionStorage.setItem('lastPath', pathname + search);\n\n  return logged ? children : <Navigate to={'/'} replace />;\n};\n\nexport default PrivateRoute;\n","import { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Title } from \"../../../components/title/Title\";\nimport { Search } from \"../../../components/search/Search\";\nimport { Pagination } from \"../../../components/pagination/Pagination\";\nimport { fetchProperties } from \"../../../services/store/propertySlice\";\nimport \"./Index.scss\";\n\nexport const Index = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const { properties = [], loading = false, meta = {} } = useSelector((s) => s.property || {});\n\n  // Cuando regresa de property restaura la paginacin y los filtros con lo que venga del history\n  const [filters, setFilters] = useState(() => location.state?.filters || { name: \"\", address: \"\" });\n  const [pagination, setPagination] = useState(() => location.state?.pagination || { page: 1, limit: 6, last_page: 1, total: 0 });\n\n  useEffect(() => {\n    const needsRefresh = location.state?.refresh === true;\n    dispatch(\n      fetchProperties({\n        page: pagination.page,\n        limit: pagination.limit,\n        name: filters.name,\n        address: filters.address,\n        minPrice: filters.minPrice,\n        maxPrice: filters.maxPrice,\n        refresh: needsRefresh\n      })\n    );\n    if (needsRefresh) navigate(location.pathname, { replace: true, state: {} });\n  }, [\n    location.pathname,\n    location.state?.refresh,\n    pagination.page,\n    pagination.limit,\n    filters,\n    dispatch,\n    navigate\n  ]);\n\n   // Cuando el usuario cambie de pgina o de filtros se actualiza el history\n  useEffect(() => {\n    const { refresh, ...rest } = location.state || {};\n    navigate(location.pathname, { replace: true, state: { ...rest, pagination, filters } });\n  }, [pagination, filters, navigate, location.pathname]);\n\n  const handleSearchChange = (nextFilters) => { setFilters(nextFilters); setPagination((prev) => ({ ...prev, page: 1 })); };\n\n  const handleOpenProperty = (propertyId) => navigate(`/property/${propertyId}`, { state: { from: location.pathname, pagination, filters } });\n\n  const handleChangePage = (newPage) => setPagination((prev) => ({ ...prev, page: newPage }));\n\n  if (loading) {\n    return (\n      <div className=\"container-loader full-screen\">\n        <div className=\"spinner\"></div>\n        <p>Cargando inmuebles...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"index-container\">\n      <div className=\"index-content\">\n        <div className=\"index-header\"><Title title=\"Inmuebles Disponibles\" /></div>\n        <Search filters={filters} onChange={handleSearchChange} />\n        <div className=\"index-grid\">\n          {properties.length > 0 ? (\n            properties.map((p) => (\n              <div key={p.idProperty} className=\"index-property-card\" onClick={() => handleOpenProperty(p.idProperty)}>\n                {p.image && p.image.file ? <img className=\"index-property-card-img\" src={`data:image/jpeg;base64,${p.image.file}`} alt={p.name} loading=\"lazy\" /> : <div className=\"no-image\">Sin imagen</div>}\n                <div className=\"index-property-card-info\">\n                  <h1>{p.name}</h1>\n                  <p>{p.address}</p>\n                  <p className=\"price\">${Number(p.price || 0).toLocaleString()}</p>\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"no-results\">No se encontraron inmuebles</p>\n          )}\n        </div>\n        <Pagination page={pagination.page} lastPage={meta?.last_page || pagination.last_page} onPageChange={handleChangePage} />\n      </div>\n    </div>\n  );\n};\n\nexport default Index;\n","import './Button.scss';\r\n\r\nexport const Button = ({id='button', label='', onClick, className=''}) => {\r\n  return (\r\n   <button id={id} onClick={onClick} className={ `button ${className}`} aria-label={ ` ${label} button`}>{ label }</button>\r\n  )\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\r\nimport { Title } from \"../../components/title/Title.js\";\r\nimport { Button } from \"../../components/button/Button.js\";\r\nimport { useFetch } from \"../../services/fetch/useFetch.js\";\r\nimport \"./Property.scss\";\r\n\r\nconst propertyEndpoint = process.env.REACT_APP_ENDPOINT_PROPERTY;\r\n\r\nexport const Property = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { propertyId } = useParams();\r\n  const { data: property, loading, error } = useFetch(`${propertyEndpoint}/${propertyId}`);\r\n\r\n  // Scroll al inicio al montar\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  // Toma \"from\" y el estado de paginacin para volver\r\n  const goBack = () => {\r\n    if (location.state?.from) {\r\n      navigate(location.state.from, { state: { pagination: location.state.pagination, filters: location.state.filters } });\r\n    } else {\r\n      navigate(\"/\");              // fallback si entr directo\r\n    }\r\n  };\r\n\r\n  // Loader\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container-loader full-screen\">\r\n        <div className=\"spinner\"></div>\r\n        <p>Cargando inmueble...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error o sin datos\r\n  if (error || !property) {\r\n    return (\r\n      <div className=\"property-error\">\r\n         Error al cargar el inmueble o no existe.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Extraccin de datos\r\n  const { name, address, price, year, idProperty, codeInternal, image, owner, traces = [] } = property.data;\r\n\r\n  // Render principal\r\n  return (\r\n    <div className=\"property-container\">\r\n      <div className=\"property-card\">\r\n\r\n        {/* Imagen principal */}\r\n        {image?.file ? ( <div className=\"property-image-wrapper\">\r\n                           <img src={`data:image/jpeg;base64,${image.file}`} alt={name} className=\"property-main-image\" loading=\"lazy\" />\r\n                         </div> ) \r\n                     : ( <div className=\"no-image\">Sin imagen disponible</div> )\r\n        }\r\n\r\n        {/* Informacin general */}\r\n        <div className=\"property-info\">\r\n          <Title title={name} />\r\n          <p className=\"property-address\"> {address || \"Sin direccin\"}</p>\r\n          <div className=\"property-price\">\r\n             {price ? `$ ${Number(price).toLocaleString(\"es-CO\")}` : \"Sin precio\"}\r\n          </div>\r\n\r\n          <div className=\"property-details\">\r\n            <p><strong>ID Propiedad:</strong> {idProperty}</p>\r\n            <p><strong>Cdigo interno:</strong> {codeInternal || \"N/A\"}</p>\r\n            <p><strong>Ao construccin:</strong> {year || \"N/A\"}</p>\r\n          </div>\r\n\r\n          {/* Propietario */}\r\n          {owner && (\r\n            <div className=\"property-owner\">\r\n              <h3> Propietario</h3>\r\n              {owner.photo ? ( <img src={`data:image/jpeg;base64,${owner.photo}`} alt={owner.name} className=\"owner-photo\" loading=\"lazy\" /> )\r\n                           : ( <div className=\"no-image\">Sin foto</div> )}\r\n              <p className=\"owner-name\">{owner.name || \"Nombre no disponible\"}</p>\r\n              <p>{owner.address || \"Sin direccin\"}</p>\r\n              <p> {owner.birthday || \"Sin fecha de nacimiento\"}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Historial */}\r\n          <div className=\"property-traces\">\r\n            <h3> Historial de transacciones</h3>\r\n            {traces.length > 0 ? (\r\n              traces.map((trace, index) => (\r\n                <div key={index} className=\"trace-card\">\r\n                  <p><strong>Fecha:</strong> {trace.dateSale || \"N/A\"}</p>\r\n                  <p><strong>Nombre:</strong> {trace.name || \"N/A\"}</p>\r\n                  <p><strong>Valor:</strong> $ {Number(trace.value || 0).toLocaleString(\"es-CO\")}</p>\r\n                  <p><strong>Impuesto:</strong> {Number(trace.tax || 0).toLocaleString(\"es-CO\")} %</p>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"no-traces\">No hay historial de transacciones.</p>\r\n            )}\r\n          </div>\r\n\r\n          <Button id=\"buttonBack\" label={' Regresar'} onClick={goBack} arial-label=\"button back\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Property;\r\n","import { useState, useEffect } from \"react\";\r\nimport { api } from \"../api/api\";\r\nimport { errorWrapper } from \"../api/errorWrapper\";\r\n\r\nexport const useFetch = (apiUrl) => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(Boolean(apiUrl));\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!apiUrl) return; // No ejecutar si la URL no est definida\r\n\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await errorWrapper(api.get(apiUrl));\r\n        const { success, data, message, error: errObj } = res;\r\n\r\n        if (success && data !== undefined) {\r\n          setData(data);\r\n          setMessage(message || \"Datos cargados correctamente\");\r\n        } else {\r\n          console.warn(\" Error lgico en useFetch:\", message, errObj);\r\n          setError(errObj || { message: message || \"Error desconocido\" });\r\n          setData(null);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error en useFetch:\", err);\r\n        setError({ message: err?.message || \"Error al obtener datos\" });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [apiUrl]);\r\n\r\n  return { data, loading, error, message };\r\n};\r\n","import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { loginUser } from '../../../services/store/authThunks';\r\nimport { TextField, Button, InputAdornment, Box, Paper } from '@mui/material';\r\nimport { PiUserCircleFill } from 'react-icons/pi';\r\nimport { FiLock } from 'react-icons/fi';\r\nimport { primaryColor, secondaryColor } from '../../../global';\r\nimport Swal from 'sweetalert2';\r\nimport './Login.scss';\r\n\r\nexport const Login = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [form, setForm] = useState({ email: '', password: '' });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleLogin = async () => {\r\n    const { email, password } = form;\r\n    if (!email || !password) {\r\n      Swal.fire({ text: 'Por favor, completa todos los campos', icon: 'warning' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await dispatch(loginUser({ email, password }));\r\n      if (!result.ok) {\r\n        Swal.fire({\r\n          text: result.error?.message || 'Credenciales invlidas o servidor no disponible',\r\n          icon: 'error',\r\n        });\r\n        return;\r\n      }\r\n      navigate('/home', { replace: true });\r\n    } catch (error) {\r\n      console.error(' Error en login:', error);\r\n      Swal.fire({\r\n        text: 'Ocurri un error al iniciar sesin',\r\n        icon: 'error',\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className=\"login-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', p: 2 }}>\r\n      <Paper elevation={3} className=\"login-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Iniciar sesin\" />\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Correo electrnico\" name=\"email\" type=\"email\" variant=\"outlined\"\r\n            value={form.email} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <PiUserCircleFill color={secondaryColor} size={20} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <TextField label=\"Contrasea\" name=\"password\" type=\"password\"\r\n            variant=\"outlined\" value={form.password} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiLock color={secondaryColor} size={18} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button id=\"loginButton\" variant=\"contained\" color=\"primary\" onClick={handleLogin} disabled={loading} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }}>\r\n            {loading ? 'Ingresando...' : 'Ingresar'}\r\n          </Button>\r\n          <Button id=\"registerButton\" variant=\"outlined\" color=\"secondary\" onClick={() => navigate('/register')} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }}>\r\n            Crear cuenta\r\n          </Button>\r\n          <Button id=\"forgotPasswordButton\" variant=\"text\" onClick={() => navigate('/password-recover')} sx={{ color: primaryColor, textTransform: 'none', fontWeight: 500, fontSize: '0.95rem !important', mt: 1, '&:hover': { color: '#000' } }}>\r\n            Olvidaste tu contrasea?\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { api } from \"../api/api\";\nimport { errorWrapper } from \"../api/errorWrapper\";\nimport { saveToken } from \"../auth/token\";\nimport { setAuth, logout } from \"./authSlice\";\n\nconst LOGIN_ENDPOINT = process.env.REACT_APP_ENDPOINT_LOGIN || \"/auth/login\";\n\nexport const loginUser = (credentials) => async (dispatch) => {\n  const res = await errorWrapper(api.post(LOGIN_ENDPOINT, credentials));\n  if (!res.ok) {\n    return { ok: false, error: res.error };\n  }\n\n  // Backend viene as:\n  // data.data.user\n  // data.data.accessToken\n  // data.data.refreshToken\n  const data = res.data?.data || {};\n  const user = data.user || {};\n  const accessToken = data.accessToken || data.token || \"\";\n  const refreshToken = data.refreshToken || \"\";\n\n  if (!accessToken) {\n    return { ok: false, error: { message: \"Token no recibido del servidor\" } };\n  }\n\n  // guarda tokens\n  saveToken(accessToken);\n  if (refreshToken) saveToken(refreshToken, \"refreshToken\");\n\n  // pone en redux\n  dispatch(setAuth({ token: accessToken, user }));\n\n  // Guardar id\n  if (user?.id) sessionStorage.setItem(\"userId\", user.id);\n\n  return { ok: true, user, accessToken, refreshToken };\n};\n\n// para cerrar sesin desde thunks\nexport const logoutUser = () => (dispatch) => {\n  dispatch(logout());\n};\n","import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { api } from '../../../services/api/api';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { TextField, Button, InputAdornment, Box, Paper } from '@mui/material';\r\nimport { FiUser, FiAtSign, FiLock } from 'react-icons/fi';\r\nimport { secondaryColor } from '../../../global';\r\nimport Swal from 'sweetalert2';\r\nimport './Register.scss';\r\n\r\nconst registerEndpoint = process.env.REACT_APP_ENDPOINT_REGISTER;\r\n\r\nexport const Register = () => {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({ name: '', email: '', password: '' });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    const { name, email, password } = form;\r\n\r\n    if (!name || !email || !password) {\r\n      Swal.fire({ text: 'Por favor, completa todos los campos', icon: 'warning' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.post(registerEndpoint, { name, email, password });\r\n\r\n      if (response.status >= 200 && response.status < 300) {\r\n        Swal.fire({\r\n          title: 'Registro exitoso',\r\n          icon: 'success',\r\n          timer: 1500,\r\n          showConfirmButton: false,\r\n        });\r\n        navigate('/login', { replace: true });\r\n      }\r\n    } catch (error) {\r\n      console.error(' Error en registro:', error.response?.data || error.message);\r\n\r\n      const errors = error.response?.data?.errors;\r\n      let errorHtml = '';\r\n\r\n      if (errors && typeof errors === 'object') {\r\n        console.log(\"errors: \",errors)\r\n        errorHtml = '<ul style=\"padding-left: 20px; text-align: left; margin: 0;\">';\r\n        if (Array.isArray(errors)) {\r\n          for (const msg of errors) {\r\n            errorHtml += `<li style=\"margin-bottom: 6px; color: #d33;\">${msg}</li>`;\r\n          }\r\n        }\r\n        errorHtml += '</ul>';\r\n      } else {\r\n        errorHtml = `<span style=\"color: #d33;\">Ocurri un error inesperado. Intenta nuevamente.</span>`;\r\n      }\r\n\r\n      Swal.fire({\r\n        html: errorHtml,\r\n        title: 'Error',\r\n        icon: 'error',\r\n        confirmButtonText: 'Aceptar',\r\n        customClass: {\r\n          popup: 'home-swal-popup',\r\n          confirmButton: 'home-accept-btn',\r\n        },\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className=\"register-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', p: 2 }}>\r\n      <Paper elevation={3} className=\"register-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Crear cuenta\" />\r\n\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Nombre\" name=\"name\" variant=\"outlined\"\r\n            value={form.name} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiUser color={secondaryColor} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <TextField label=\"Correo electrnico\" name=\"email\" type=\"email\"\r\n            variant=\"outlined\" value={form.email} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiAtSign color={secondaryColor} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <TextField label=\"Contrasea\" name=\"password\" type=\"password\"\r\n            variant=\"outlined\" value={form.password} onChange={handleChange} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiLock color={secondaryColor} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <Button id=\"registerButton\" variant=\"contained\" color=\"primary\" onClick={handleRegister} disabled={loading} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='register button'>\r\n            {loading ? 'Registrando...' : 'Crear cuenta'}\r\n          </Button>\r\n\r\n          <Button id=\"cancelButton\"  variant=\"outlined\" color=\"secondary\" onClick={() => navigate('/login')} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='cancel button'>\r\n            Cancelar\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { api } from '../../../services/api/api';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { Box, Paper, TextField, Button, InputAdornment, Typography } from '@mui/material';\r\nimport { FiAtSign } from 'react-icons/fi';\r\nimport { primaryColor, secondaryColor } from '../../../global';\r\nimport Swal from 'sweetalert2';\r\nimport './PasswordRecover.scss';\r\n\r\nconst recoverEndpoint = process.env.REACT_APP_ENDPOINT_PASSWORD_RECOVER;\r\n\r\nexport const PasswordRecover = () => {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [sending, setSending] = useState(false);\r\n\r\n  const handleRecover = async () => {\r\n    if (!email) return;\r\n    \r\n    try {\r\n      setSending(true);\r\n      const { errorWrapper } = await import('../../../services/api/errorWrapper');\r\n      const { ok, data, error } = await errorWrapper(api.post(`${recoverEndpoint}`, { email }), { unwrap: false });\r\n      if (ok) {\r\n        const msg = data?.message || 'Revisa tu bandeja de entrada para continuar.';\r\n        Swal.fire({ title: 'Correo enviado', icon: 'success', confirmButtonColor: '#107ACC' });\r\n        navigate('/index');\r\n      } else {\r\n        const msg = error?.message || 'No se pudo enviar el correo.';\r\n        Swal.fire({ title: 'Error', text: msg, icon: 'error', confirmButtonColor: '#C00F0C' });\r\n      }\r\n    } catch (err) {\r\n      Swal.fire({ title: 'Error', text: 'No se pudo enviar el correo.', icon: 'error', confirmButtonColor: '#C00F0C' });\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => navigate('/login');\r\n  const handleBack = () => navigate('/login');\r\n\r\n  return (\r\n    <Box className=\"recover-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', padding: 2 }}>\r\n      <Paper elevation={3} className=\"recover-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Recuperar Contrasea\" />\r\n\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Correo electrnico\" type=\"email\" variant=\"outlined\" value={email} onChange={(e) => setEmail(e.target.value)} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiAtSign color={secondaryColor} size={20} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <Button id=\"sendButton\" variant=\"contained\" color=\"primary\" onClick={handleRecover} disabled={sending} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"send button\">\r\n             {sending ? 'Enviando...':'Enviar enlace'}\r\n          </Button>\r\n\r\n          <Button id=\"cancelutton\" variant=\"outlined\" color=\"secondary\" onClick={handleCancel} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label=\"send button\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Typography onClick={handleBack} sx={{ color:primaryColor, fontFamily:'Montserrat', fontSize:'0.95rem', fontWeight:'600', mt:4, cursor:'pointer', '&:hover': { color:'#000 !important', textDecoration:'none !important' } }}>\r\n             Volver al inicio de sesin\r\n          </Typography>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PasswordRecover;\r\n\r\n\r\n\r\n","import { useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { api } from '../../../services/api/api';\r\nimport { Title } from '../../../components/title/Title';\r\nimport Swal from 'sweetalert2';\r\nimport { Box, Paper, TextField, Button, InputAdornment } from '@mui/material';\r\nimport { FiLock } from 'react-icons/fi';\r\nimport './PasswordReset.scss';\r\n\r\nconst resetEndpoint = process.env.REACT_APP_ENDPOINT_PASSWORD_RESET;\r\n\r\nexport const PasswordReset = () => {\r\n  const navigate = useNavigate();\r\n  const { token } = useParams();\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleReset = async () => {\r\n    try {\r\n      const response = await api.patch(`${resetEndpoint}`, { token, newPassword: password });\r\n      if (response.status >= 200 && response.status < 300) {\r\n        Swal.fire({\r\n          title: 'Contrasea actualizada',\r\n          icon: 'success',\r\n          confirmButtonColor: '#107ACC',\r\n        });\r\n        navigate('/login');\r\n      }\r\n    } catch (error) {\r\n      Swal.fire({\r\n        title: 'Error',\r\n        text: error.response?.data?.error?.message || 'No se pudo actualizar la contrasea.',\r\n        icon: 'error',\r\n        confirmButtonColor: '#C00F0C',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => navigate('/login');\r\n\r\n  return (\r\n    <Box className=\"reset-container\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"100vh\" sx={{ background: '#f6f8fb', padding: 2 }}>\r\n      <Paper elevation={3} className=\"reset-card\" sx={{ borderRadius: 4, width: '100%', maxWidth: 420, p: 4, textAlign: 'center' }}>\r\n        <Title title=\"Crear Nueva contrasea\" />\r\n\r\n        <Box display=\"flex\" flexDirection=\"column\" gap={2} mt={3}>\r\n          <TextField label=\"Nueva contrasea\" type=\"password\" variant=\"outlined\" value={password} onChange={(e) => setPassword(e.target.value)} fullWidth\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <FiLock color=\"#107ACC\" size={20} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <Button id=\"confirmButton\" variant=\"contained\" color=\"primary\" onClick={handleReset} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='confirm button'>\r\n            Confirmar\r\n          </Button>\r\n\r\n          <Button id=\"cancelButton\" variant=\"outlined\" color=\"secondary\" onClick={handleCancel} sx={{ borderRadius: 2, textTransform: 'none', py: 1.2 }} aria-label='cancel button'>\r\n            Cancelar\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PasswordReset;\r\n\r\n\r\n\r\n\r\n","import './Label.scss';\r\n\r\nexport const Label = ({ text='', color='#000' }) => {\r\n  return (\r\n    <div className=\"label\" style={{color:color}}><span>{ text }</span></div>\r\n  )\r\n}\r\n\r\nexport default Label;","import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Title } from '../../../components/title/Title';\r\nimport { Label } from '../../../components/label/Label';\r\nimport { Button } from '../../../components/button/Button';\r\nimport { FiHome, FiUserCheck, FiStar, FiTrendingUp, FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\r\nimport './AboutUs.scss';\r\n\r\n// Imgenes para slider\r\nconst sliderImages = [\r\n  'https://res.cloudinary.com/brickandbatten/images/c_scale,w_1157,h_422,dpr_1.6500000953674316/f_auto,q_auto/v1716481720/wordpress_assets/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A/390381-ElderWhiteBrick-GossamerVeilTrim-UrbaneBronzeWindows-Color1-A.jpg?_i=AA',\r\n  'https://plus.unsplash.com/premium_photo-1661488387936-daf401be9cb7?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1460',\r\n  'https://www.intreasso.org/wp-content/uploads/elegir-un-agente-inmobiliario-_intreasso.jpg'\r\n];\r\n\r\n// Servicios\r\nconst services = [\r\n  { icon: <FiHome />, title: 'Compra y venta', description: 'Te ayudamos a comprar y vender propiedades de manera segura.' },\r\n  { icon: <FiUserCheck />, title: 'Asesora personalizada', description: 'Nuestro equipo experto te acompaa en cada paso.' },\r\n  { icon: <FiStar />, title: 'Propiedades exclusivas', description: 'Accede a inmuebles nicos en las mejores ubicaciones.' },\r\n  { icon: <FiTrendingUp />, title: 'Gestin de alquileres', description: 'Administramos tus propiedades para maximizar rentabilidad.' }\r\n];\r\n\r\nexport const AboutUs = () => {\r\n  const navigate = useNavigate();\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n\r\n  // Cambio automtico cada 4s\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrentSlide((prev) => (prev + 1) % sliderImages.length);\r\n    }, 4000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const goToSlide = (index) => setCurrentSlide(index);\r\n  const prevSlide = () => setCurrentSlide((prev) => (prev - 1 + sliderImages.length) % sliderImages.length);\r\n  const nextSlide = () => setCurrentSlide((prev) => (prev + 1) % sliderImages.length);\r\n\r\n  return (\r\n    <div className=\"aboutUs-container\">\r\n      <div className=\"aboutUs-form aboutUs-content\">\r\n        <Title title=\"Nosotros\" />\r\n        {/* Slider */}\r\n        <div className=\"aboutUs-slider\">\r\n          {sliderImages.map((img, idx) => (\r\n            <img key={idx}src={img}\r\n              alt={`Propiedad ${idx + 1}`} className={idx === currentSlide ? 'active' : ''} />\r\n          ))}\r\n\r\n          {/* Flechas */}\r\n          <button className=\"slider-arrow left\" onClick={prevSlide}><FiChevronLeft /></button>\r\n          <button className=\"slider-arrow right\" onClick={nextSlide}><FiChevronRight /></button>\r\n\r\n          {/* Indicadores */}\r\n          <div className=\"slider-indicators\">\r\n            {sliderImages.map((_, idx) => (\r\n              <span\r\n                key={idx}\r\n                className={`indicator ${idx === currentSlide ? 'active' : ''}`}\r\n                onClick={() => goToSlide(idx)}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Contenido */}\r\n        <div className=\"aboutUs-content\">\r\n          <p>Somos una inmobiliaria pensada para ti, ofrecindote propiedades exclusivas y asesora personalizada.</p>\r\n          <Label text=\"Tu hogar ideal te espera!\" />\r\n        </div>\r\n\r\n        {/* Servicios */}\r\n        <div className=\"aboutUs-services\">\r\n          <h3>Nuestros Servicios</h3>\r\n          <div className=\"services-grid\">\r\n            {services.map((s, idx) => (\r\n              <div key={idx} className=\"service-card\">\r\n                <div className=\"service-icon\">{s.icon}</div>\r\n                <h4>{s.title}</h4>\r\n                <p>{s.description}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botones */}\r\n        <div className=\"aboutUs-buttons\">\r\n          <Button id=\"navigateProperties\" label={'Ver Propiedades'} onClick={() => navigate('/index')}/>\r\n          <Button id=\"navigateContact\" label={'Contctanos'} onClick={() => navigate('/contact')}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutUs;\r\n","import { Title } from '../../../components/title/Title';\r\nimport './Contact.scss';\r\n\r\nexport const Contact = () => {\r\n  const team = [\r\n    {\r\n      name: 'Juan Fernando Muoz',\r\n      email: 'juanferm0410@gmail.com',\r\n      phone: '+57 3117863643',\r\n      image: 'https://randomuser.me/api/portraits/men/41.jpg',\r\n    },\r\n    {\r\n      name: 'Mara Camila Torres',\r\n      email: 'mariacamila@gmail.com',\r\n      phone: '+57 3205542187',\r\n      image: 'https://randomuser.me/api/portraits/women/45.jpg',\r\n    },\r\n    {\r\n      name: 'Laura Martnez',\r\n      email: 'lauramartinez@gmail.com',\r\n      phone: '+57 3157749021',\r\n      image: 'https://randomuser.me/api/portraits/women/46.jpg',\r\n    },\r\n    {\r\n      name: 'Valentina Lpez',\r\n      email: 'valentina.lopez@gmail.com',\r\n      phone: '+57 3109982311',\r\n      image: 'https://randomuser.me/api/portraits/women/47.jpg',\r\n    },\r\n    {\r\n      name: 'Santiago Henao',\r\n      email: 'shr09@gmail.com',\r\n      phone: '+57 3188511479',\r\n      image: 'https://randomuser.me/api/portraits/men/42.jpg',\r\n    },\r\n    {\r\n      name: 'Sofa Ramrez',\r\n      email: 'sofia.ramirez@gmail.com',\r\n      phone: '+57 3168834402',\r\n      image: 'https://randomuser.me/api/portraits/women/48.jpg',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"contact-container\">\r\n      <Title title=\"Nuestro Equipo\" />\r\n      <p className=\"contact-subtitle\">\r\n        Conoce al equipo detrs de <strong>Real Estate</strong>, siempre listos para ayudarte a encontrar tu nuevo hogar.\r\n      </p>\r\n\r\n      <div className=\"contact-cards\">\r\n        {team.map((member, index) => (\r\n          <div className=\"contact-card\" key={index}>\r\n            <div className=\"contact-image-wrapper\">\r\n              <img src={member.image} alt={member.name} className=\"contact-photo\" />\r\n            </div>\r\n            <div className=\"contact-info\">\r\n              <h3>{member.name}</h3>\r\n              <p>{member.email}</p>\r\n              <span className=\"contact-phone\">\r\n                <span className=\"prefix\">+57</span> {member.phone.replace('+57 ', '')}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport function NotFound(){\r\n  return (\r\n    <main style={{minHeight:\"60vh\",display:\"grid\",placeItems:\"center\",padding:\"32px\"}}>\r\n      <div style={{textAlign:\"center\"}}>\r\n        <h1 style={{fontSize:\"64px\",margin:0}}>404</h1>\r\n        <p style={{margin:\"8px 0 16px\"}}>La pgina que buscas no existe.</p>\r\n        <Link to=\"/\" style={{padding:\"10px 16px\",borderRadius:\"12px\",border:\"1px solid #ccc\",display:\"inline-block\"}}>\r\n          Ir al inicio\r\n        </Link>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\nexport default NotFound;\r\n","import { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport { AppMenu } from \"../components/menu/AppMenu\";\r\nimport { Header } from \"../components/header/Header\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { DashboardRoutes } from \"./DashboardRoutes\";\r\nimport { Index } from \"../modules/core/index/Index\";\r\nimport { Property } from \"../modules/property/Property\";\r\nimport { Login } from \"../modules/auth/login/Login\";\r\nimport { Register } from \"../modules/auth/register/Register\";\r\nimport { PasswordRecover } from \"../modules/password/recover/PasswordRecover\";\r\nimport { PasswordReset } from \"../modules/password/reset/PasswordReset\";\r\nimport { AboutUs } from \"../modules/core/aboutus/AboutUs\";\r\nimport { Contact } from \"../modules/core/contact/Contact\";\r\nimport { NotFound } from \"../modules/core/notfound/NotFound\";\r\n\r\nconst urlBasepath = process.env.REACT_APP_FRONTEND_BASEPATH;\r\n\r\nexport const AppRouter = () => (\r\n  <BrowserRouter basename={urlBasepath}>\r\n    <AppMenu />\r\n    <Header />\r\n    <Routes>\r\n      <Route path=\"*\" element={<PublicRoute><Index/></PublicRoute>} />\r\n      <Route path=\"/index/*\" element={<PublicRoute><Index/></PublicRoute>} />\r\n      <Route path=\"/property/:propertyId\" element={<PublicRoute><Property/></PublicRoute>} />\r\n      <Route path=\"/login/*\" element={<PublicRoute><Login/></PublicRoute>} />\r\n      <Route path=\"/register\" element={<PublicRoute><Register/></PublicRoute>} />\r\n      <Route path=\"/password-recover\" element={<PublicRoute><PasswordRecover/></PublicRoute>} />\r\n      <Route path=\"/password-reset/:token\" element={<PublicRoute><PasswordReset/></PublicRoute>} />\r\n      <Route path=\"/about-us\" element={<PublicRoute><AboutUs/></PublicRoute>} />\r\n      <Route path=\"/contact\" element={<PublicRoute><Contact/></PublicRoute>} />\r\n      <Route path=\"/*\" element={<PrivateRoute><DashboardRoutes/></PrivateRoute>} />\r\n      {/* <Route path=\"*\" element={<PublicRoute><NotFound/></PublicRoute>} /> */}\r\n    </Routes>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default AppRouter;\r\n","import { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store, persistor } from \"./services/store/store.js\";\nimport { AppRouter } from './routers/AppRouter';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <PersistGate loading={<div>Cargando sesin...</div>} persistor={persistor}>\n        <AppRouter />\n      </PersistGate>\n    </Provider>\n  );\n}\n\nexport default App;\n"],"names":["flattenErrors","e","Array","isArray","filter","Boolean","map","String","out","k","v","Object","entries","push","async","errorWrapper","promise","unwrap","arguments","length","undefined","response","body","data","ok","success","statusCode","message","error","err","friendly","_res$status","res","status","detail","statusText","errors","_body$statusCode","_body$message","_body$data","title","normalizeError","_objectSpread","storedToken","sessionStorage","getItem","localStorage","storedUser","payload","split","JSON","parse","atob","_unused","initialState","logged","token","user","authSlice","createSlice","name","reducers","setAuth","state","action","setItem","updateProfile","changes","logout","removeItem","actions","getBaseURL","env","process","replace","window","__API_BASE__","getToken","key","storage","_","getTokenPayload","parts","base64","json","decodeURIComponent","c","charCodeAt","toString","slice","join","decodeToken","getUserFromToken","getFirst","keys","find","id","email","role","roles","getTokenExp","p","exp","isTokenExpired","skewSeconds","Math","floor","Date","now","saveToken","clearToken","refreshPromise","interceptorMap","WeakMap","redirectToLogin","_window$location","_window$location2","here","location","pathname","search","startsWith","store","dispatch","_unused2","_unused3","refreshToken","endpoint","baseURL","currentToken","client","axios","create","timeout","post","headers","Authorization","concat","then","_ref","_ref2","_res$data$token","_res$data","_res$data2","_res$data3","_res$data3$data","newToken","accessToken","userFromToken","_unused4","decodeJwt","catch","_unused5","finally","ensureFreshToken","isTokenNearExpiry","_unused6","api","existing","get","ids","reqId","interceptors","request","use","config","__skipAuth","_unused7","resId","resp","_error$response","_error$response2","original","__retry","_unused8","_unused9","Promise","reject","set","installAuthInterceptors","ENDPOINT","fetchProperties","createAsyncThunk","page","limit","address","minPrice","maxPrice","refresh","params","URLSearchParams","append","trim","url","items","meta","finalMeta","total","last_page","_p$idProperty","_ref3","_p$name","_ref4","_p$address","_ref5","_p$price","_ref6","_p$year","_ref7","_p$codeInternal","_ref8","_p$idOwner","_ref9","_p$image","_p$owner","_p$traces","idProperty","IdProperty","Name","Address","price","Number","Price","year","Year","codeInternal","CodeInternal","idOwner","IdOwner","image","Image","owner","traces","filters","createProperty","_res$data$data","propertyData","properties","loading","extraReducers","builder","addCase","pending","fulfilled","rejected","persistConfig","createSessionStorage","createWebStorage","resolve","_key","value","whitelist","persistedAuthReducer","persistReducer","authReducer","configureStore","reducer","auth","property","propertyReducer","middleware","getDefaultMiddleware","serializableCheck","persistor","persistStore","Header","_jsx","className","children","_jsxs","TbSmartHome","size","strokeWidth","AppMenu","useDispatch","navigate","useNavigate","useSelector","s","useMemo","tokenUser","currentRole","toLowerCase","valid","menuOpen","setMenuOpen","useState","closeMenu","useCallback","syncMenu","isOpen","go","whenIn","whenOut","goUsers","goLogin","handleLogout","Menu","left","onStateChange","disableAutoFocus","type","onClick","FiHome","_Fragment","FiUpload","FiUser","FiUsers","FiPhone","FiLogOut","RoleRoute","_user$role","element","allowed","redirectTo","useLocation","rawRole","userRoles","allowedRoles","toKey","userKeys","allowedKeys","some","r","includes","Navigate","to","Title","formatShort","round","toLocaleString","Search","onChange","didInit","useRef","trackRef","setName","setAddress","min","setMin","max","setMax","MAX_PRICE","open","setOpen","applied","setApplied","cleanup","useEffect","current","clearTimeout","isApply","toggle","FiFilter","FiX","FiSearch","TextField","target","label","FiMapPin","FiDollarSign","rect","getBoundingClientRect","pct","clientX","width","STEP","abs","nextMin","nextMax","ref","style","right","step","val","onMinRange","onMaxRange","clear","cleared","FiRotateCcw","color","secondaryColor","apply","Pagination","lastPage","onPageChange","buttonClassName","prevLabel","nextLabel","disabled","prevDisabled","nextDisabled","lastDisabled","handlePrev","handleGoLast","handleNext","rolesOf","Home","_propertyState$proper","_propertyState$meta","_authUser$role","_location$state4","propertyState","authUser","userId","isAdmin","isEditor","canEdit","canDelete","firstName","displayRole","charAt","toUpperCase","setFilters","_location$state","pagination","setPagination","_location$state2","_location$state3","needsRefresh","rest","_objectWithoutProperties","_excluded","handleEditProperty","propertyId","from","handleAddProperty","FiPlus","FaUserSecret","FaUserTie","FaUser","next","prev","cursor","file","src","alt","stopPropagation","FiEdit2","Swal","text","icon","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","cancelButtonColor","background","customClass","popup","isConfirmed","delete","handleDeleteProperty","FiTrash2","newPage","AddButton","handleChange","handleInputChange","AddProperty","endpoints","itemProperty","setProperty","propertyDto","itemOwner","setOwner","ownerDto","itemPropertyImage","setPropertyImage","propertyImageDto","itemPropertyTrace","setPropertyTrace","propertyTraceDto","creating","setCreating","toBase64","rej","reader","FileReader","onload","result","onerror","readAsDataURL","clamp","n","isFinite","section","index","t","i","handleImageChange","_e$target","_e$target$files","files","preview","URL","createObjectURL","photo","ownerPhotoPreview","enabled","imagePreview","onSubmit","preventDefault","birthday","every","dateSale","_property$idProperty","_property$name","_property$address","_property$price","_property$codeInterna","_property$year","_property$idOwner","_property$owner$idOwn","_property$owner$name","_property$owner$addre","_property$owner$photo","_property$owner$birth","_property$image$idPro","_property$image$idPro2","_property$image$file","_property$image$enabl","idPropertyImage","trace","_trace$idPropertyTrac2","_trace$idProperty2","_trace$dateSale2","_trace$name2","_trace$value2","_trace$tax2","idPropertyTrace","tax","mapPropertyToDto","_error$response$data","console","required","LocalizationProvider","dateAdapter","AdapterDayjs","DatePicker","views","dayjs","slotProps","textField","fullWidth","Box","document","getElementById","click","Typography","variant","accept","hidden","InputLabelProps","shrink","handleDeleteTrace","handleAddTrace","Button","mapPropertyTraceToDto","_trace$idPropertyTrac","_trace$dateSale","_trace$name","_trace$value","_trace$tax","_trace$idProperty","IdPropertyTrace","DateSale","Value","Tax","EditProperty","useParams","setLoading","updating","setUpdating","traceAlert","setTraceAlert","severity","goBackToHome","withRefresh","backTo","stateToSend","_property$traces","Error","loadProperty","clampNonNegative","newVal","_itemOwner$name","_itemOwner$address","_itemOwner$photo","_itemOwner$ownerPhoto","_itemOwner$birthday","cleanedImage","_image$idPropertyImag","_image$idProperty","_image$file","_image$enabled","IdPropertyImage","File","Enabled","mapPropertyImageToDto","cleanedOwner","_owner$name","_owner$address","_owner$photo","_owner$birthday","Photo","Birthday","mapOwnerToDto","cleanedTraces","_t$name","_t$dateSale","patchPayload","log","resUpdate","patch","sx","mb","Alert","onClose","textAlign","User","isLogged","FiEdit","PiUserCircleFill","EditUser","form","setForm","Paper","elevation","component","userDto","_user$id","_user$name","_user$name$trim","_user$email","_user$email$trim","_user$role$trim","Id","call","Email","Role","mapUserToDto","changedFields","timer","showConfirmButton","_res$error","gridColumn","select","MenuItem","borderRadius","textTransform","py","ManageUsers","users","setUsers","query","setQuery","errorMsg","setErrorMsg","userEndpoint","_data$data","raw","normalized","u","pick","_len","normalizeUser","ceil","load","filtered","q","totalFiltered","lastFilteredPage","currentPage","start","end","paged","placeholder","InputProps","startAdornment","InputAdornment","position","idx","newRole","encodeURIComponent","handleRoleChange","primaryColor","nextTotal","nextLast","nextPage","handleDelete","marginTop","DashboardRoutes","Routes","Route","path","PublicRoute","PrivateRoute","Index","nextFilters","handleOpenProperty","Property","apiUrl","setData","setError","setMessage","errObj","warn","fetchData","useFetch","scrollTo","goBack","Login","password","display","justifyContent","alignItems","minHeight","maxWidth","flexDirection","gap","mt","FiLock","credentials","_result$error","fontWeight","fontSize","Register","FiAtSign","_error$response2$data","errorHtml","msg","html","confirmButton","PasswordRecover","setEmail","sending","setSending","padding","handleCancel","handleBack","fontFamily","textDecoration","PasswordReset","setPassword","newPassword","_error$response$data$","Label","sliderImages","services","description","FiUserCheck","FiStar","FiTrendingUp","AboutUs","currentSlide","setCurrentSlide","interval","setInterval","clearInterval","img","prevSlide","FiChevronLeft","nextSlide","FiChevronRight","Contact","phone","member","AppRouter","BrowserRouter","basename","Provider","PersistGate"],"sourceRoot":""}